(self.webpackChunkmr_pancake=self.webpackChunkmr_pancake||[]).push([[179],{6304:(Tt,Fe,k)=>{"use strict";k.d(Fe,{Dh:()=>Re,GT:()=>ge,cc:()=>$e,hO:()=>Oe,on:()=>q,pX:()=>me,xv:()=>ye});var p=k(5879),G=k(120),B=k(2793);Tt=k.hmd(Tt);const te=["ngOnDestroy"],me=(Ue,Et,vt,fe={})=>new Proxy(Ue,{get:(ke,we)=>vt.runOutsideAngular(()=>{var Pe;if(Ue[we])return!(null===(Pe=fe?.spy)||void 0===Pe)&&Pe.get&&fe.spy.get(we,Ue[we]),Ue[we];if(te.indexOf(we)>-1)return()=>{};const Be=Et.toPromise().then(K=>{const je=K&&K[we];return"function"==typeof je?je.bind(K):je&&je.then?je.then(Ke=>vt.run(()=>Ke)):vt.run(()=>je)});return new Proxy(()=>{},{get:(K,je)=>Be[je],apply:(K,je,Ke)=>Be.then(Pt=>{var Gt;const Rn=Pt&&Pt(...Ke);return!(null===(Gt=fe?.spy)||void 0===Gt)&&Gt.apply&&fe.spy.apply(we,Ke,Rn),Rn})})})}),ge=(Ue,Et)=>{Et.forEach(vt=>{Object.getOwnPropertyNames(vt.prototype||vt).forEach(fe=>{Object.defineProperty(Ue.prototype,fe,Object.getOwnPropertyDescriptor(vt.prototype||vt,fe))})})};class Ae{constructor(Et){return Et}}const Re=new p.OlP("angularfire2.app.options"),ye=new p.OlP("angularfire2.app.name");function q(Ue,Et,vt){const ke="object"==typeof vt&&vt||{};ke.name=ke.name||"string"==typeof vt&&vt||"[DEFAULT]";const Pe=G.Z.apps.filter(Be=>Be&&Be.name===ke.name)[0]||Et.runOutsideAngular(()=>G.Z.initializeApp(Ue,ke));try{JSON.stringify(Ue)!==JSON.stringify(Pe.options)&&X("error",`${Pe.name} Firebase App already initialized with different options${Tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ae(Pe)}const X=(Ue,...Et)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Ue](...Et)},le={provide:Ae,useFactory:q,deps:[Re,p.R0b,[new p.FiY,ye]]};let Oe=(()=>{class Ue{constructor(vt){G.Z.registerVersion("angularfire",B.q4.full,"core"),G.Z.registerVersion("angularfire",B.q4.full,"app-compat"),G.Z.registerVersion("angular",p.q4F.full,vt.toString())}static initializeApp(vt,fe){return{ngModule:Ue,providers:[{provide:Re,useValue:vt},{provide:ye,useValue:fe}]}}}return Ue.\u0275fac=function(vt){return new(vt||Ue)(p.LFG(p.Lbi))},Ue.\u0275mod=p.oAB({type:Ue}),Ue.\u0275inj=p.cJS({providers:[le]}),Ue})();function $e(Ue,Et,vt,fe,ke){const[,we,Pe]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Ue)||[];if(we)return function ut(Ue,Et){try{return Ue.toString()===Et.toString()}catch{return Ue===Et}}(ke,Pe)||(Je("error",`${Et} was already initialized on the ${vt} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),Je("warn",{is:ke,was:Pe})),we;{const Be=fe();return globalThis.\u0275AngularfireInstanceCache.push([Ue,Be,ke]),Be}}const He=!!Tt.hot,Je=(Ue,...Et)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Ue](...Et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(Tt,Fe,k)=>{"use strict";k.d(Fe,{q4:()=>ll,iC:()=>lc,HU:()=>qr,vb:()=>vh,JM:()=>Ia,u3:()=>Gs});var p=k(5879),G=k(4097),B=k(5861),te=k(4303),me=k(9058),ge=k(4537),Ae=k(7879);const Re=(I,M)=>M.some(O=>I instanceof O);let ye,q;const Oe=new WeakMap,$e=new WeakMap,ut=new WeakMap,He=new WeakMap,Je=new WeakMap;let vt={get(I,M,O){if(I instanceof IDBTransaction){if("done"===M)return $e.get(I);if("objectStoreNames"===M)return I.objectStoreNames||ut.get(I);if("store"===M)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return Pe(I[M])},set:(I,M,O)=>(I[M]=O,!0),has:(I,M)=>I instanceof IDBTransaction&&("done"===M||"store"===M)||M in I};function we(I){return"function"==typeof I?function ke(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...M){return I.apply(Be(this),M),Pe(Oe.get(this))}:function(...M){return Pe(I.apply(Be(this),M))}:function(M,...O){const Z=I.call(Be(this),M,...O);return ut.set(Z,M.sort?M.sort():[M]),Pe(Z)}}(I):(I instanceof IDBTransaction&&function Et(I){if($e.has(I))return;const M=new Promise((O,Z)=>{const re=()=>{I.removeEventListener("complete",ue),I.removeEventListener("error",Me),I.removeEventListener("abort",Me)},ue=()=>{O(),re()},Me=()=>{Z(I.error||new DOMException("AbortError","AbortError")),re()};I.addEventListener("complete",ue),I.addEventListener("error",Me),I.addEventListener("abort",Me)});$e.set(I,M)}(I),Re(I,function X(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,vt):I)}function Pe(I){if(I instanceof IDBRequest)return function Ue(I){const M=new Promise((O,Z)=>{const re=()=>{I.removeEventListener("success",ue),I.removeEventListener("error",Me)},ue=()=>{O(Pe(I.result)),re()},Me=()=>{Z(I.error),re()};I.addEventListener("success",ue),I.addEventListener("error",Me)});return M.then(O=>{O instanceof IDBCursor&&Oe.set(O,I)}).catch(()=>{}),Je.set(M,I),M}(I);if(He.has(I))return He.get(I);const M=we(I);return M!==I&&(He.set(I,M),Je.set(M,I)),M}const Be=I=>Je.get(I),Ke=["get","getKey","getAll","getAllKeys","count"],Pt=["put","add","delete","clear"],Gt=new Map;function Rn(I,M){if(!(I instanceof IDBDatabase)||M in I||"string"!=typeof M)return;if(Gt.get(M))return Gt.get(M);const O=M.replace(/FromIndex$/,""),Z=M!==O,re=Pt.includes(O);if(!(O in(Z?IDBIndex:IDBObjectStore).prototype)||!re&&!Ke.includes(O))return;const ue=function(){var Me=(0,B.Z)(function*(lt,...ct){const Mt=this.transaction(lt,re?"readwrite":"readonly");let Kt=Mt.store;return Z&&(Kt=Kt.index(ct.shift())),(yield Promise.all([Kt[O](...ct),re&&Mt.done]))[0]});return function(ct){return Me.apply(this,arguments)}}();return Gt.set(M,ue),ue}!function fe(I){vt=I(vt)}(I=>({...I,get:(M,O,Z)=>Rn(M,O)||I.get(M,O,Z),has:(M,O)=>!!Rn(M,O)||I.has(M,O)}));const Ct="@firebase/installations",Vn="0.6.4",gt=1e4,on=`w:${Vn}`,pe="FIS_v2",Ce="https://firebaseinstallations.googleapis.com/v1",ve=36e5,tt=new me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(I){return I instanceof me.ZR&&I.code.includes("request-failed")}function Tn({projectId:I}){return`${Ce}/projects/${I}/installations`}function Ft(I){return{token:I.token,requestStatus:2,expiresIn:Qn(I.expiresIn),creationTime:Date.now()}}function sn(I,M){return It.apply(this,arguments)}function It(){return(It=(0,B.Z)(function*(I,M){const Z=(yield M.json()).error;return tt.create("request-failed",{requestName:I,serverCode:Z.code,serverMessage:Z.message,serverStatus:Z.status})})).apply(this,arguments)}function xn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function zn(I){return En.apply(this,arguments)}function En(){return(En=(0,B.Z)(function*(I){const M=yield I();return M.status>=500&&M.status<600?I():M})).apply(this,arguments)}function Qn(I){return Number(I.replace("s","000"))}function $n(){return($n=(0,B.Z)(function*({appConfig:I,heartbeatServiceProvider:M},{fid:O}){const Z=Tn(I),re=xn(I),ue=M.getImmediate({optional:!0});if(ue){const Mt=yield ue.getHeartbeatsHeader();Mt&&re.append("x-firebase-client",Mt)}const lt={method:"POST",headers:re,body:JSON.stringify({fid:O,authVersion:pe,appId:I.appId,sdkVersion:on})},ct=yield zn(()=>fetch(Z,lt));if(ct.ok){const Mt=yield ct.json();return{fid:Mt.fid||O,registrationStatus:2,refreshToken:Mt.refreshToken,authToken:Ft(Mt.authToken)}}throw yield sn("Create Installation",ct)})).apply(this,arguments)}function Xn(I){return new Promise(M=>{setTimeout(M,I)})}const ki=/^[cdef][\w-]{21}$/,Ot="";function Nt(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const O=function Wt(I){return function $r(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return ki.test(O)?O:Ot}catch{return Ot}}function ln(I){return`${I.appName}!${I.appId}`}const mr=new Map;function _r(I,M){const O=ln(I);ri(O,M),function mn(I,M){const O=function dn(){return!Hr&&"BroadcastChannel"in self&&(Hr=new BroadcastChannel("[Firebase] FID Change"),Hr.onmessage=I=>{ri(I.data.key,I.data.fid)}),Hr}();O&&O.postMessage({key:I,fid:M}),function kn(){0===mr.size&&Hr&&(Hr.close(),Hr=null)}()}(O,M)}function ri(I,M){const O=mr.get(I);if(O)for(const Z of O)Z(M)}let Hr=null;const bi="firebase-installations-database",Li=1,yr="firebase-installations-store";let rr=null;function Te(){return rr||(rr=function K(I,M,{blocked:O,upgrade:Z,blocking:re,terminated:ue}={}){const Me=indexedDB.open(I,M),lt=Pe(Me);return Z&&Me.addEventListener("upgradeneeded",ct=>{Z(Pe(Me.result),ct.oldVersion,ct.newVersion,Pe(Me.transaction))}),O&&Me.addEventListener("blocked",()=>O()),lt.then(ct=>{ue&&ct.addEventListener("close",()=>ue()),re&&ct.addEventListener("versionchange",()=>re())}).catch(()=>{}),lt}(bi,Li,{upgrade:(I,M)=>{0===M&&I.createObjectStore(yr)}})),rr}function ee(I,M){return xe.apply(this,arguments)}function xe(){return(xe=(0,B.Z)(function*(I,M){const O=ln(I),re=(yield Te()).transaction(yr,"readwrite"),ue=re.objectStore(yr),Me=yield ue.get(O);return yield ue.put(M,O),yield re.done,(!Me||Me.fid!==M.fid)&&_r(I,M.fid),M})).apply(this,arguments)}function Ye(I){return wt.apply(this,arguments)}function wt(){return(wt=(0,B.Z)(function*(I){const M=ln(I),Z=(yield Te()).transaction(yr,"readwrite");yield Z.objectStore(yr).delete(M),yield Z.done})).apply(this,arguments)}function Dt(I,M){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,B.Z)(function*(I,M){const O=ln(I),re=(yield Te()).transaction(yr,"readwrite"),ue=re.objectStore(yr),Me=yield ue.get(O),lt=M(Me);return void 0===lt?yield ue.delete(O):yield ue.put(lt,O),yield re.done,lt&&(!Me||Me.fid!==lt.fid)&&_r(I,lt.fid),lt})).apply(this,arguments)}function Q(I){return Y.apply(this,arguments)}function Y(){return Y=(0,B.Z)(function*(I){let M;const O=yield Dt(I.appConfig,Z=>{const re=function $(I){return ht(I||{fid:Nt(),registrationStatus:0})}(Z),ue=function H(I,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(tt.create("app-offline"))};const O={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},Z=function U(I,M){return oe.apply(this,arguments)}(I,O);return{installationEntry:O,registrationPromise:Z}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:he(I)}:{installationEntry:M}}(I,re);return M=ue.registrationPromise,ue.installationEntry});return O.fid===Ot?{installationEntry:yield M}:{installationEntry:O,registrationPromise:M}}),Y.apply(this,arguments)}function oe(){return oe=(0,B.Z)(function*(I,M){try{const O=yield function wr(I,M){return $n.apply(this,arguments)}(I,M);return ee(I.appConfig,O)}catch(O){throw nt(O)&&409===O.customData.serverCode?yield Ye(I.appConfig):yield ee(I.appConfig,{fid:M.fid,registrationStatus:0}),O}}),oe.apply(this,arguments)}function he(I){return it.apply(this,arguments)}function it(){return(it=(0,B.Z)(function*(I){let M=yield Ht(I.appConfig);for(;1===M.registrationStatus;)yield Xn(100),M=yield Ht(I.appConfig);if(0===M.registrationStatus){const{installationEntry:O,registrationPromise:Z}=yield Q(I);return Z||O}return M})).apply(this,arguments)}function Ht(I){return Dt(I,M=>{if(!M)throw tt.create("installation-not-found");return ht(M)})}function ht(I){return function An(I){return 1===I.registrationStatus&&I.registrationTime+gt<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Fn(){return(Fn=(0,B.Z)(function*({appConfig:I,heartbeatServiceProvider:M},O){const Z=function Yt(I,{fid:M}){return`${Tn(I)}/${M}/authTokens:generate`}(I,O),re=function qn(I,{refreshToken:M}){const O=xn(I);return O.append("Authorization",function mi(I){return`${pe} ${I}`}(M)),O}(I,O),ue=M.getImmediate({optional:!0});if(ue){const Mt=yield ue.getHeartbeatsHeader();Mt&&re.append("x-firebase-client",Mt)}const lt={method:"POST",headers:re,body:JSON.stringify({installation:{sdkVersion:on,appId:I.appId}})},ct=yield zn(()=>fetch(Z,lt));if(ct.ok)return Ft(yield ct.json());throw yield sn("Generate Auth Token",ct)})).apply(this,arguments)}function ii(I){return xs.apply(this,arguments)}function xs(){return xs=(0,B.Z)(function*(I,M=!1){let O;const Z=yield Dt(I.appConfig,ue=>{if(!qi(ue))throw tt.create("not-registered");const Me=ue.authToken;if(!M&&function na(I){return 2===I.requestStatus&&!function su(I){const M=Date.now();return M<I.creationTime||I.creationTime+I.expiresIn<M+ve}(I)}(Me))return ue;if(1===Me.requestStatus)return O=function Ro(I,M){return _o.apply(this,arguments)}(I,M),ue;{if(!navigator.onLine)throw tt.create("app-offline");const lt=function au(I){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:M})}(ue);return O=function Di(I,M){return vn.apply(this,arguments)}(I,lt),lt}});return O?yield O:Z.authToken}),xs.apply(this,arguments)}function _o(){return(_o=(0,B.Z)(function*(I,M){let O=yield yo(I.appConfig);for(;1===O.authToken.requestStatus;)yield Xn(100),O=yield yo(I.appConfig);const Z=O.authToken;return 0===Z.requestStatus?ii(I,M):Z})).apply(this,arguments)}function yo(I){return Dt(I,M=>{if(!qi(M))throw tt.create("not-registered");return function ko(I){return 1===I.requestStatus&&I.requestTime+gt<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function vn(){return vn=(0,B.Z)(function*(I,M){try{const O=yield function Zt(I,M){return Fn.apply(this,arguments)}(I,M),Z=Object.assign(Object.assign({},M),{authToken:O});return yield ee(I.appConfig,Z),O}catch(O){if(!nt(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const Z=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield ee(I.appConfig,Z)}else yield Ye(I.appConfig);throw O}}),vn.apply(this,arguments)}function qi(I){return void 0!==I&&2===I.registrationStatus}function ss(){return(ss=(0,B.Z)(function*(I){const M=I,{installationEntry:O,registrationPromise:Z}=yield Q(M);return Z?Z.catch(console.error):ii(M).catch(console.error),O.fid})).apply(this,arguments)}function Os(){return Os=(0,B.Z)(function*(I,M=!1){const O=I;return yield function vo(I){return Ki.apply(this,arguments)}(O),(yield ii(O,M)).token}),Os.apply(this,arguments)}function Ki(){return(Ki=(0,B.Z)(function*(I){const{registrationPromise:M}=yield Q(I);M&&(yield M)})).apply(this,arguments)}function Ns(I){return tt.create("missing-app-config-values",{valueName:I})}const Rs="installations",Na=I=>{const M=I.getProvider("app").getImmediate(),O=function In(I){if(!I||!I.options)throw Ns("App Configuration");if(!I.name)throw Ns("App Name");const M=["projectId","apiKey","appId"];for(const O of M)if(!I.options[O])throw Ns(O);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(M);return{app:M,appConfig:O,heartbeatServiceProvider:(0,te.qX)(M,"heartbeat"),_delete:()=>Promise.resolve()}},ra=I=>{const M=I.getProvider("app").getImmediate(),O=(0,te.qX)(M,Rs).getImmediate();return{getId:()=>function Pa(I){return ss.apply(this,arguments)}(O),getToken:re=>function Ps(I){return Os.apply(this,arguments)}(O,re)}};(function as(){(0,te.Xd)(new ge.wA(Rs,Na,"PUBLIC")),(0,te.Xd)(new ge.wA("installations-internal",ra,"PRIVATE"))})(),(0,te.KN)(Ct,Vn),(0,te.KN)(Ct,Vn,"esm2017");const ir="@firebase/remote-config",Cr=new me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class At{constructor(M,O,Z,re){this.client=M,this.storage=O,this.storageCache=Z,this.logger=re}isCachedDataFresh(M,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Z=Date.now()-O,re=Z<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Z}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${re}.`),re}fetch(M){var O=this;return(0,B.Z)(function*(){const[Z,re]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(re&&O.isCachedDataFresh(M.cacheMaxAgeMillis,Z))return re;M.eTag=re&&re.eTag;const ue=yield O.client.fetch(M),Me=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Me.push(O.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Me),ue})()}}function Pn(I=navigator){return I.languages&&I.languages[0]||I.language}class _i{constructor(M,O,Z,re,ue,Me){this.firebaseInstallations=M,this.sdkVersion=O,this.namespace=Z,this.projectId=re,this.apiKey=ue,this.appId=Me}fetch(M){var O=this;return(0,B.Z)(function*(){const[Z,re]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},ct={sdk_version:O.sdkVersion,app_instance_id:Z,app_instance_id_token:re,app_id:O.appId,language_code:Pn()},Mt={method:"POST",headers:lt,body:JSON.stringify(ct)},Kt=fetch(Me,Mt),Vt=new Promise((Mo,Sr)=>{M.signal.addEventListener(()=>{const Qa=new Error("The operation was aborted.");Qa.name="AbortError",Sr(Qa)})});let Pi;try{yield Promise.race([Kt,Vt]),Pi=yield Kt}catch(Mo){let Sr="fetch-client-network";throw"AbortError"===Mo?.name&&(Sr="fetch-timeout"),Cr.create(Sr,{originalErrorMessage:Mo?.message})}let Br=Pi.status;const gr=Pi.headers.get("ETag")||void 0;let dc,so;if(200===Pi.status){let Mo;try{Mo=yield Pi.json()}catch(Sr){throw Cr.create("fetch-client-parse",{originalErrorMessage:Sr?.message})}dc=Mo.entries,so=Mo.state}if("INSTANCE_STATE_UNSPECIFIED"===so?Br=500:"NO_CHANGE"===so?Br=304:("NO_TEMPLATE"===so||"EMPTY_CONFIG"===so)&&(dc={}),304!==Br&&200!==Br)throw Cr.create("fetch-status",{httpStatus:Br});return{status:Br,eTag:gr,config:dc}})()}}class us{constructor(M,O){this.client=M,this.storage=O}fetch(M){var O=this;return(0,B.Z)(function*(){const Z=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(M,Z)})()}attemptFetch(M,{throttleEndTimeMillis:O,backoffCount:Z}){var re=this;return(0,B.Z)(function*(){yield function Eo(I,M){return new Promise((O,Z)=>{const re=Math.max(M-Date.now(),0),ue=setTimeout(O,re);I.addEventListener(()=>{clearTimeout(ue),Z(Cr.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,O);try{const ue=yield re.client.fetch(M);return yield re.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function si(I){if(!(I instanceof me.ZR&&I.customData))return!1;const M=Number(I.customData.httpStatus);return 429===M||500===M||503===M||504===M}(ue))throw ue;const Me={throttleEndTimeMillis:Date.now()+(0,me.$s)(Z),backoffCount:Z+1};return yield re.storage.setThrottleMetadata(Me),re.attemptFetch(M,Me)}})()}}class Uo{constructor(M,O,Z,re,ue){this.app=M,this._client=O,this._storageCache=Z,this._storage=re,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function rt(I,M){const O=I.target.error||void 0;return Cr.create(M,{originalErrorMessage:O&&O?.message})}const Yi="app_namespace_store";class ca{constructor(M,O,Z,re=function Er(){return new Promise((I,M)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=Z=>{M(rt(Z,"storage-open"))},O.onsuccess=Z=>{I(Z.target.result)},O.onupgradeneeded=Z=>{0===Z.oldVersion&&Z.target.result.createObjectStore(Yi,{keyPath:"compositeKey"})}}catch(O){M(Cr.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=M,this.appName=O,this.namespace=Z,this.openDbPromise=re}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var O=this;return(0,B.Z)(function*(){const Z=yield O.openDbPromise;return new Promise((re,ue)=>{const lt=Z.transaction([Yi],"readonly").objectStore(Yi),ct=O.createCompositeKey(M);try{const Mt=lt.get(ct);Mt.onerror=Kt=>{ue(rt(Kt,"storage-get"))},Mt.onsuccess=Kt=>{const Vt=Kt.target.result;re(Vt?Vt.value:void 0)}}catch(Mt){ue(Cr.create("storage-get",{originalErrorMessage:Mt?.message}))}})})()}set(M,O){var Z=this;return(0,B.Z)(function*(){const re=yield Z.openDbPromise;return new Promise((ue,Me)=>{const ct=re.transaction([Yi],"readwrite").objectStore(Yi),Mt=Z.createCompositeKey(M);try{const Kt=ct.put({compositeKey:Mt,value:O});Kt.onerror=Vt=>{Me(rt(Vt,"storage-set"))},Kt.onsuccess=()=>{ue()}}catch(Kt){Me(Cr.create("storage-set",{originalErrorMessage:Kt?.message}))}})})()}delete(M){var O=this;return(0,B.Z)(function*(){const Z=yield O.openDbPromise;return new Promise((re,ue)=>{const lt=Z.transaction([Yi],"readwrite").objectStore(Yi),ct=O.createCompositeKey(M);try{const Mt=lt.delete(ct);Mt.onerror=Kt=>{ue(rt(Kt,"storage-delete"))},Mt.onsuccess=()=>{re()}}catch(Mt){ue(Cr.create("storage-delete",{originalErrorMessage:Mt?.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class ai{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,B.Z)(function*(){const O=M.storage.getLastFetchStatus(),Z=M.storage.getLastSuccessfulFetchTimestampMillis(),re=M.storage.getActiveConfig(),ue=yield O;ue&&(M.lastFetchStatus=ue);const Me=yield Z;Me&&(M.lastSuccessfulFetchTimestampMillis=Me);const lt=yield re;lt&&(M.activeConfig=lt)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function ks(){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,B.Z)(function*(){if(!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}!function ui(){(0,te.Xd)(new ge.wA("remote-config",function I(M,{instanceIdentifier:O}){const Z=M.getProvider("app").getImmediate(),re=M.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Cr.create("registration-window");if(!(0,me.hl)())throw Cr.create("indexed-db-unavailable");const{projectId:ue,apiKey:Me,appId:lt}=Z.options;if(!ue)throw Cr.create("registration-project-id");if(!Me)throw Cr.create("registration-api-key");if(!lt)throw Cr.create("registration-app-id");const ct=new ca(lt,Z.name,O=O||"firebase"),Mt=new ai(ct),Kt=new Ae.Yd(ir);Kt.logLevel=Ae.in.ERROR;const Vt=new _i(re,te.Jn,O,ue,Me,lt),Pi=new us(Vt,ct),Br=new At(Pi,ct,Mt,Kt),gr=new Uo(Z,Br,Mt,ct,Kt);return function xt(I){const M=(0,me.m9)(I);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(gr),gr},"PUBLIC").setMultipleInstances(!0)),(0,te.KN)(ir,"0.4.4"),(0,te.KN)(ir,"0.4.4","esm2017")}();const du=(I,M)=>M.some(O=>I instanceof O);let hr,pn;const Ls=new WeakMap,kr=new WeakMap,Lr=new WeakMap,cs=new WeakMap,ls=new WeakMap;let Jr={get(I,M,O){if(I instanceof IDBTransaction){if("done"===M)return kr.get(I);if("objectStoreNames"===M)return I.objectStoreNames||Lr.get(I);if("store"===M)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return yi(I[M])},set:(I,M,O)=>(I[M]=O,!0),has:(I,M)=>I instanceof IDBTransaction&&("done"===M||"store"===M)||M in I};function bo(I){return"function"==typeof I?function $u(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Io(){return pn||(pn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...M){return I.apply(Gr(this),M),yi(Ls.get(this))}:function(...M){return yi(I.apply(Gr(this),M))}:function(M,...O){const Z=I.call(Gr(this),M,...O);return Lr.set(Z,M.sort?M.sort():[M]),yi(Z)}}(I):(I instanceof IDBTransaction&&function Gc(I){if(kr.has(I))return;const M=new Promise((O,Z)=>{const re=()=>{I.removeEventListener("complete",ue),I.removeEventListener("error",Me),I.removeEventListener("abort",Me)},ue=()=>{O(),re()},Me=()=>{Z(I.error||new DOMException("AbortError","AbortError")),re()};I.addEventListener("complete",ue),I.addEventListener("error",Me),I.addEventListener("abort",Me)});kr.set(I,M)}(I),du(I,function hu(){return hr||(hr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Jr):I)}function yi(I){if(I instanceof IDBRequest)return function Ir(I){const M=new Promise((O,Z)=>{const re=()=>{I.removeEventListener("success",ue),I.removeEventListener("error",Me)},ue=()=>{O(yi(I.result)),re()},Me=()=>{Z(I.error),re()};I.addEventListener("success",ue),I.addEventListener("error",Me)});return M.then(O=>{O instanceof IDBCursor&&Ls.set(O,I)}).catch(()=>{}),ls.set(M,I),M}(I);if(cs.has(I))return cs.get(I);const M=bo(I);return M!==I&&(cs.set(I,M),ls.set(M,I)),M}const Gr=I=>ls.get(I);function Si(I,M,{blocked:O,upgrade:Z,blocking:re,terminated:ue}={}){const Me=indexedDB.open(I,M),lt=yi(Me);return Z&&Me.addEventListener("upgradeneeded",ct=>{Z(yi(Me.result),ct.oldVersion,ct.newVersion,yi(Me.transaction))}),O&&Me.addEventListener("blocked",()=>O()),lt.then(ct=>{ue&&ct.addEventListener("close",()=>ue()),re&&ct.addEventListener("versionchange",()=>re())}).catch(()=>{}),lt}function La(I,{blocked:M}={}){const O=indexedDB.deleteDatabase(I);return M&&O.addEventListener("blocked",()=>M()),yi(O).then(()=>{})}const la=["get","getKey","getAll","getAllKeys","count"],Bi=["put","add","delete","clear"],fu=new Map;function Fa(I,M){if(!(I instanceof IDBDatabase)||M in I||"string"!=typeof M)return;if(fu.get(M))return fu.get(M);const O=M.replace(/FromIndex$/,""),Z=M!==O,re=Bi.includes(O);if(!(O in(Z?IDBIndex:IDBObjectStore).prototype)||!re&&!la.includes(O))return;const ue=function(){var Me=(0,B.Z)(function*(lt,...ct){const Mt=this.transaction(lt,re?"readwrite":"readonly");let Kt=Mt.store;return Z&&(Kt=Kt.index(ct.shift())),(yield Promise.all([Kt[O](...ct),re&&Mt.done]))[0]});return function(ct){return Me.apply(this,arguments)}}();return fu.set(M,ue),ue}!function Fr(I){Jr=I(Jr)}(I=>({...I,get:(M,O,Z)=>Fa(M,O)||I.get(M,O,Z),has:(M,O)=>!!Fa(M,O)||I.has(M,O)}));const Hu="/firebase-messaging-sw.js",pu="/firebase-cloud-messaging-push-scope",Zu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ql="https://fcmregistrations.googleapis.com/v1",sr="google.c.a.c_id",Wc="google.c.a.c_l",jf="google.c.a.ts";var mu=function(I){return I.PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",I}(mu||{});function xr(I){const M=new Uint8Array(I);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kl(I){const O=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Z=atob(O),re=new Uint8Array(Z.length);for(let ue=0;ue<Z.length;++ue)re[ue]=Z.charCodeAt(ue);return re}const Ji="fcm_token_details_db",da=5,_u="fcm_token_object_Store";function ha(){return ha=(0,B.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(Ji))return null;let M=null;return(yield Si(Ji,da,{upgrade:(Z=(0,B.Z)(function*(re,ue,Me,lt){var ct;if(ue<2||!re.objectStoreNames.contains(_u))return;const Mt=lt.objectStore(_u),Kt=yield Mt.index("fcmSenderId").get(I);if(yield Mt.clear(),Kt)if(2===ue){const Vt=Kt;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;M={token:Vt.fcmToken,createTime:null!==(ct=Vt.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:xr(Vt.vapidKey)}}}else if(3===ue){const Vt=Kt;M={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:xr(Vt.auth),p256dh:xr(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:xr(Vt.vapidKey)}}}else if(4===ue){const Vt=Kt;M={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:xr(Vt.auth),p256dh:xr(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:xr(Vt.vapidKey)}}}}),function(ue,Me,lt,ct){return Z.apply(this,arguments)})})).close(),yield La(Ji),yield La("fcm_vapid_details_db"),yield La("undefined"),function zo(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:M}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}(M)?M:null;var Z}),ha.apply(this,arguments)}const ci="firebase-messaging-database",Fs=1,eo="firebase-messaging-store";let fr=null;function Va(){return fr||(fr=Si(ci,Fs,{upgrade:(I,M)=>{0===M&&I.createObjectStore(eo)}})),fr}function er(I){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,B.Z)(function*(I){const M=yu(I),Z=yield(yield Va()).transaction(eo).objectStore(eo).get(M);if(Z)return Z;{const re=yield function qc(I){return ha.apply(this,arguments)}(I.appConfig.senderId);if(re)return yield Do(I,re),re}}),Ba.apply(this,arguments)}function Do(I,M){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,B.Z)(function*(I,M){const O=yu(I),re=(yield Va()).transaction(eo,"readwrite");return yield re.objectStore(eo).put(M,O),yield re.done,M})).apply(this,arguments)}function to(){return(to=(0,B.Z)(function*(I){const M=yu(I),Z=(yield Va()).transaction(eo,"readwrite");yield Z.objectStore(eo).delete(M),yield Z.done})).apply(this,arguments)}function yu({appConfig:I}){return I.appId}const ar=new me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Wu(I,M){return ds.apply(this,arguments)}function ds(){return(ds=(0,B.Z)(function*(I,M){const O=yield Bs(I),Z=Ku(M),re={method:"POST",headers:O,body:JSON.stringify(Z)};let ue;try{ue=yield(yield fetch(qu(I.appConfig),re)).json()}catch(Me){throw ar.create("token-subscribe-failed",{errorInfo:Me?.toString()})}if(ue.error)throw ar.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw ar.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function So(){return(So=(0,B.Z)(function*(I,M){const O=yield Bs(I),Z=Ku(M.subscriptionOptions),re={method:"PATCH",headers:O,body:JSON.stringify(Z)};let ue;try{ue=yield(yield fetch(`${qu(I.appConfig)}/${M.token}`,re)).json()}catch(Me){throw ar.create("token-update-failed",{errorInfo:Me?.toString()})}if(ue.error)throw ar.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw ar.create("token-update-no-token");return ue.token})).apply(this,arguments)}function Vs(I,M){return no.apply(this,arguments)}function no(){return(no=(0,B.Z)(function*(I,M){const Z={method:"DELETE",headers:yield Bs(I)};try{const ue=yield(yield fetch(`${qu(I.appConfig)}/${M}`,Z)).json();if(ue.error)throw ar.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(re){throw ar.create("token-unsubscribe-failed",{errorInfo:re?.toString()})}})).apply(this,arguments)}function qu({projectId:I}){return`${ql}/projects/${I}/registrations`}function Bs(I){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,B.Z)(function*({appConfig:I,installations:M}){const O=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Ku({p256dh:I,auth:M,endpoint:O,vapidKey:Z}){const re={web:{endpoint:O,auth:M,p256dh:I}};return Z!==Zu&&(re.web.applicationPubKey=Z),re}const ch=6048e5;function Yl(){return Yl=(0,B.Z)(function*(I){const M=yield function wu(I,M){return js.apply(this,arguments)}(I.swRegistration,I.vapidKey),O={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:M.endpoint,auth:xr(M.getKey("auth")),p256dh:xr(M.getKey("p256dh"))},Z=yield er(I.firebaseDependencies);if(Z){if(function Qc(I,M){return M.vapidKey===I.vapidKey&&M.endpoint===I.endpoint&&M.auth===I.auth&&M.p256dh===I.p256dh}(Z.subscriptionOptions,O))return Date.now()>=Z.createTime+ch?function Yc(I,M){return Us.apply(this,arguments)}(I,{token:Z.token,createTime:Date.now(),subscriptionOptions:O}):Z.token;try{yield Vs(I.firebaseDependencies,Z.token)}catch(re){console.warn(re)}return Ua(I.firebaseDependencies,O)}return Ua(I.firebaseDependencies,O)}),Yl.apply(this,arguments)}function hs(){return hs=(0,B.Z)(function*(I){const M=yield er(I.firebaseDependencies);M&&(yield Vs(I.firebaseDependencies,M.token),yield function To(I){return to.apply(this,arguments)}(I.firebaseDependencies));const O=yield I.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()}),hs.apply(this,arguments)}function Us(){return Us=(0,B.Z)(function*(I,M){try{const O=yield function fa(I,M){return So.apply(this,arguments)}(I.firebaseDependencies,M),Z=Object.assign(Object.assign({},M),{token:O,createTime:Date.now()});return yield Do(I.firebaseDependencies,Z),O}catch(O){throw yield function ro(I){return hs.apply(this,arguments)}(I),O}}),Us.apply(this,arguments)}function Ua(I,M){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,B.Z)(function*(I,M){const Z={token:yield Wu(I,M),createTime:Date.now(),subscriptionOptions:M};return yield Do(I,Z),Z.token})).apply(this,arguments)}function js(){return(js=(0,B.Z)(function*(I,M){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Kl(M)})})).apply(this,arguments)}function $o(I){const M={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function pa(I,M){if(!M.notification)return;I.notification={};const O=M.notification.title;O&&(I.notification.title=O);const Z=M.notification.body;Z&&(I.notification.body=Z);const re=M.notification.image;re&&(I.notification.image=re);const ue=M.notification.icon;ue&&(I.notification.icon=ue)}(M,I),function Ql(I,M){M.data&&(I.data=M.data)}(M,I),function Xu(I,M){var O,Z,re,ue,Me;if(!(M.fcmOptions||null!==(O=M.notification)&&void 0!==O&&O.click_action))return;I.fcmOptions={};const lt=null!==(re=null===(Z=M.fcmOptions)||void 0===Z?void 0:Z.link)&&void 0!==re?re:null===(ue=M.notification)||void 0===ue?void 0:ue.click_action;lt&&(I.fcmOptions.link=lt);const ct=null===(Me=M.fcmOptions)||void 0===Me?void 0:Me.analytics_label;ct&&(I.fcmOptions.analyticsLabel=ct)}(M,I),M}function Cu(I,M){const O=[];for(let Z=0;Z<I.length;Z++)O.push(I.charAt(Z)),Z<M.length&&O.push(M.charAt(Z));return O.join("")}function zs(I){return ar.create("missing-app-config-values",{valueName:I})}Cu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Cu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jl{constructor(M,O,Z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const re=function Xl(I){if(!I||!I.options)throw zs("App Configuration Object");if(!I.name)throw zs("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:O}=I;for(const Z of M)if(!O[Z])throw zs(Z);return{appName:I.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:re,installations:O,analyticsProvider:Z}}_delete(){return Promise.resolve()}}function Zo(){return(Zo=(0,B.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Hu,{scope:pu}),I.swRegistration.update().catch(()=>{})}catch(M){throw ar.create("failed-service-worker-registration",{browserErrorMessage:M?.message})}})).apply(this,arguments)}function Ui(){return(Ui=(0,B.Z)(function*(I,M){if(!M&&!I.swRegistration&&(yield function $s(I){return Zo.apply(this,arguments)}(I)),M||!I.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw ar.create("invalid-sw-registration");I.swRegistration=M}})).apply(this,arguments)}function ma(){return(ma=(0,B.Z)(function*(I,M){M?I.vapidKey=M:I.vapidKey||(I.vapidKey=Zu)})).apply(this,arguments)}function _a(){return _a=(0,B.Z)(function*(I,M){if(!navigator)throw ar.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ar.create("permission-blocked");return yield function ga(I,M){return ma.apply(this,arguments)}(I,M?.vapidKey),yield function ja(I,M){return Ui.apply(this,arguments)}(I,M?.serviceWorkerRegistration),function Yu(I){return Yl.apply(this,arguments)}(I)}),_a.apply(this,arguments)}function Ai(){return(Ai=(0,B.Z)(function*(I,M,O){const Z=function Xc(I){switch(I){case mu.NOTIFICATION_CLICKED:return"notification_open";case mu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(M);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(Z,{message_id:O[sr],message_name:O[Wc],message_time:O[jf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function On(){return On=(0,B.Z)(function*(I,M){const O=M.data;if(!O.isFirebaseMessaging)return;I.onMessageHandler&&O.messageType===mu.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler($o(O)):I.onMessageHandler.next($o(O)));const Z=O.data;(function Ho(I){return"object"==typeof I&&!!I&&sr in I})(Z)&&"1"===Z["google.c.a.e"]&&(yield function ed(I,M,O){return Ai.apply(this,arguments)}(I,O.messageType,Z))}),On.apply(this,arguments)}const $a="@firebase/messaging",u="0.12.4",f=I=>{const M=new Jl(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function za(I,M){return On.apply(this,arguments)}(M,O)),M},v=I=>{const M=I.getProvider("messaging").getImmediate();return{getToken:Z=>function Ju(I,M){return _a.apply(this,arguments)}(M,Z)}};function x(){return V.apply(this,arguments)}function V(){return(V=(0,B.Z)(function*(){try{yield(0,me.eu)()}catch{return!1}return typeof window<"u"&&(0,me.hl)()&&(0,me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function T(){(0,te.Xd)(new ge.wA("messaging",f,"PUBLIC")),(0,te.Xd)(new ge.wA("messaging-internal",v,"PRIVATE")),(0,te.KN)($a,u),(0,te.KN)($a,u,"esm2017")}();const ur="analytics",Mi="firebase_id",St="origin",Go=6e4,lh="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Eu="https://www.googletagmanager.com/gtag/js",Pr=new Ae.Yd("@firebase/analytics"),br=new me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Wo(I){if(!I.startsWith(Eu)){const M=br.create("invalid-gtag-resource",{gtagURL:I});return Pr.warn(M.message),""}return I}function Yn(I){return Promise.all(I.map(M=>M.catch(O=>O)))}function ze(){return(ze=(0,B.Z)(function*(I,M,O,Z,re,ue){const Me=Z[re];try{if(Me)yield M[Me];else{const ct=(yield Yn(O)).find(Mt=>Mt.measurementId===re);ct&&(yield M[ct.appId])}}catch(lt){Pr.error(lt)}I("config",re,ue)})).apply(this,arguments)}function ji(){return(ji=(0,B.Z)(function*(I,M,O,Z,re){try{let ue=[];if(re&&re.send_to){let Me=re.send_to;Array.isArray(Me)||(Me=[Me]);const lt=yield Yn(O);for(const ct of Me){const Mt=lt.find(Vt=>Vt.measurementId===ct),Kt=Mt&&M[Mt.appId];if(!Kt){ue=[];break}ue.push(Kt)}}0===ue.length&&(ue=Object.values(M)),yield Promise.all(ue),I("event",Z,re||{})}catch(ue){Pr.error(ue)}})).apply(this,arguments)}const ec=30,nd=new class hh{constructor(M={},O=1e3){this.throttleMetadata=M,this.intervalMillis=O}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,O){this.throttleMetadata[M]=O}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function zf(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function rd(){return(rd=(0,B.Z)(function*(I){var M;const{appId:O,apiKey:Z}=I,re={method:"GET",headers:zf(Z)},ue=lh.replace("{app-id}",O),Me=yield fetch(ue,re);if(200!==Me.status&&304!==Me.status){let lt="";try{const ct=yield Me.json();null!==(M=ct.error)&&void 0!==M&&M.message&&(lt=ct.error.message)}catch{}throw br.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:lt})}return Me.json()})).apply(this,arguments)}function ps(){return(ps=(0,B.Z)(function*(I,M=nd,O){const{appId:Z,apiKey:re,measurementId:ue}=I.options;if(!Z)throw br.create("no-app-id");if(!re){if(ue)return{measurementId:ue,appId:Z};throw br.create("no-api-key")}const Me=M.getThrottleMetadata(Z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},lt=new ph;return setTimeout((0,B.Z)(function*(){lt.abort()}),void 0!==O?O:Go),fh({appId:Z,apiKey:re,measurementId:ue},Me,lt,M)})).apply(this,arguments)}function fh(I,M,O){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,B.Z)(function*(I,{throttleEndTimeMillis:M,backoffCount:O},Z,re=nd){var ue;const{appId:Me,measurementId:lt}=I;try{yield function gs(I,M){return new Promise((O,Z)=>{const re=Math.max(M-Date.now(),0),ue=setTimeout(O,re);I.addEventListener(()=>{clearTimeout(ue),Z(br.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(Z,M)}catch(ct){if(lt)return Pr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${ct?.message}]`),{appId:Me,measurementId:lt};throw ct}try{const ct=yield function wy(I){return rd.apply(this,arguments)}(I);return re.deleteThrottleMetadata(Me),ct}catch(ct){const Mt=ct;if(!function jg(I){if(!(I instanceof me.ZR&&I.customData))return!1;const M=Number(I.customData.httpStatus);return 429===M||500===M||503===M||504===M}(Mt)){if(re.deleteThrottleMetadata(Me),lt)return Pr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${Mt?.message}]`),{appId:Me,measurementId:lt};throw ct}const Kt=503===Number(null===(ue=Mt?.customData)||void 0===ue?void 0:ue.httpStatus)?(0,me.$s)(O,re.intervalMillis,ec):(0,me.$s)(O,re.intervalMillis),Vt={throttleEndTimeMillis:Date.now()+Kt,backoffCount:O+1};return re.setThrottleMetadata(Me,Vt),Pr.debug(`Calling attemptFetch again in ${Kt} millis`),fh(I,Vt,Z,re)}}),Ha.apply(this,arguments)}class ph{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}let rl,hi;function il(){return(il=(0,B.Z)(function*(I,M,O,Z,re){if(re&&re.global)I("event",O,Z);else{const ue=yield M;I("event",O,Object.assign(Object.assign({},Z),{send_to:ue}))}})).apply(this,arguments)}function qo(){return(qo=(0,B.Z)(function*(){if(!(0,me.hl)())return Pr.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,me.eu)()}catch(I){return Pr.warn(br.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function Hs(){return Hs=(0,B.Z)(function*(I,M,O,Z,re,ue,Me){var lt;const ct=function di(I){return ps.apply(this,arguments)}(I);ct.then(Br=>{O[Br.measurementId]=Br.appId,I.options.measurementId&&Br.measurementId!==I.options.measurementId&&Pr.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Br.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Br=>Pr.error(Br)),M.push(ct);const Mt=function xi(){return qo.apply(this,arguments)}().then(Br=>{if(Br)return Z.getId()}),[Kt,Vt]=yield Promise.all([ct,Mt]);(function nl(I){const M=window.document.getElementsByTagName("script");for(const O of Object.values(M))if(O.src&&O.src.includes(Eu)&&O.src.includes(I))return O;return null})(ue)||function td(I,M){const O=function ya(I,M){let O;return window.trustedTypes&&(O=window.trustedTypes.createPolicy(I,M)),O}("firebase-js-sdk-policy",{createScriptURL:Wo}),Z=document.createElement("script"),re=`${Eu}?l=${I}&id=${M}`;Z.src=O?O?.createScriptURL(re):re,Z.async=!0,document.head.appendChild(Z)}(ue,Kt.measurementId),hi&&(re("consent","default",hi),function tc(I){hi=I}(void 0)),re("js",new Date);const Pi=null!==(lt=Me?.config)&&void 0!==lt?lt:{};return Pi[St]="firebase",Pi.update=!0,null!=Vt&&(Pi[Mi]=Vt),re("config",Kt.measurementId,Pi),rl&&(re("set",rl),function sl(I){rl=I}(void 0)),Kt.measurementId}),Hs.apply(this,arguments)}class Iu{constructor(M){this.app=M}_delete(){return delete qt[this.app.options.appId],Promise.resolve()}}let qt={},_h=[];const ad={};let _s,Dr,wa="dataLayer",Ca=!1;function al(I,M,O){!function bu(){const I=[];if((0,me.ru)()&&I.push("This is a browser extension environment."),(0,me.zI)()||I.push("Cookies are not available."),I.length>0){const M=I.map((Z,re)=>`(${re+1}) ${Z}`).join(" "),O=br.create("invalid-analytics-context",{errorInfo:M});Pr.warn(O.message)}}();const Z=I.options.appId;if(!Z)throw br.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw br.create("no-api-key");Pr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qt[Z])throw br.create("already-exists",{id:Z});if(!Ca){!function el(I){let M=[];Array.isArray(window[I])?M=window[I]:window[I]=M}(wa);const{wrappedGtag:ue,gtagCore:Me}=function li(I,M,O,Z,re){let ue=function(...Me){window[Z].push(arguments)};return window[re]&&"function"==typeof window[re]&&(ue=window[re]),window[re]=function dh(I,M,O,Z){function ue(){return ue=(0,B.Z)(function*(Me,...lt){try{if("event"===Me){const[ct,Mt]=lt;yield function yn(I,M,O,Z,re){return ji.apply(this,arguments)}(I,M,O,ct,Mt)}else if("config"===Me){const[ct,Mt]=lt;yield function tl(I,M,O,Z,re,ue){return ze.apply(this,arguments)}(I,M,O,Z,ct,Mt)}else if("consent"===Me){const[ct]=lt;I("consent","update",ct)}else if("get"===Me){const[ct,Mt,Kt]=lt;I("get",ct,Mt,Kt)}else if("set"===Me){const[ct]=lt;I("set",ct)}else I(Me,...lt)}catch(ct){Pr.error(ct)}}),ue.apply(this,arguments)}return function re(Me){return ue.apply(this,arguments)}}(ue,I,M,O),{gtagCore:ue,wrappedGtag:window[re]}}(qt,_h,ad,wa,"gtag");Dr=ue,_s=Me,Ca=!0}return qt[Z]=function pr(I,M,O,Z,re,ue,Me){return Hs.apply(this,arguments)}(I,_h,ad,M,_s,wa,O),new Iu(I)}function rc(){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,B.Z)(function*(){if((0,me.ru)()||!(0,me.zI)()||!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}const sc="@firebase/analytics";!function Wr(){(0,te.Xd)(new ge.wA(ur,(M,{options:O})=>al(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,te.Xd)(new ge.wA("analytics-internal",function I(M){try{const O=M.getProvider(ur).getImmediate();return{logEvent:(Z,re,ue)=>function oo(I,M,O,Z){I=(0,me.m9)(I),function zg(I,M,O,Z,re){return il.apply(this,arguments)}(Dr,qt[I.app.options.appId],M,O,Z).catch(re=>Pr.error(re))}(O,Z,re,ue)}}catch(O){throw br.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,te.KN)(sc,"0.10.0"),(0,te.KN)(sc,"0.10.0","esm2017")}();var ys=k(1954),vi=k(2631);const ac=new class $i extends vi.v{}(class Tu extends ys.o{constructor(M,O){super(M,O),this.scheduler=M,this.work=O}schedule(M,O=0){return O>0?super.schedule(M,O):(this.delay=O,this.state=M,this.scheduler.flush(this),this)}execute(M,O){return O>0||this.closed?super.execute(M,O):this._execute(M,O)}requestAsyncId(M,O,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(M,O,Z):(M.flush(this),0)}});var $f=k(6321),Vr=k(5592),Wa=k(9397),Tr=k(5137),Ko=k(3093);const ll=new p.GfV("7.6.1"),Zs="__angularfire_symbol__analyticsIsSupportedValue",Ea="__angularfire_symbol__analyticsIsSupported",dl="__angularfire_symbol__remoteConfigIsSupportedValue",uc="__angularfire_symbol__remoteConfigIsSupported",Su="__angularfire_symbol__messagingIsSupportedValue",cc="__angularfire_symbol__messagingIsSupported";function Ia(I,M,O){if(M){if(1===M.length)return M[0];const ue=M.filter(Me=>Me.app===O);if(1===ue.length)return ue[0]}return O.container.getProvider(I).getImmediate({optional:!0})}globalThis[Ea]||(globalThis[Ea]=rc().then(I=>globalThis[Zs]=I).catch(()=>globalThis[Zs]=!1)),globalThis[cc]||(globalThis[cc]=x().then(I=>globalThis[Su]=I).catch(()=>globalThis[Su]=!1)),globalThis[uc]||(globalThis[uc]=ks().then(I=>globalThis[dl]=I).catch(()=>globalThis[dl]=!1));const vh=(I,M)=>{const O=M?[M]:(0,G.C6)(),Z=[];return O.forEach(re=>{re.container.getProvider(I).instances.forEach(Me=>{Z.includes(Me)||Z.push(Me)})}),Z};function Ka(){}class wi{constructor(M,O=ac){this.zone=M,this.delegate=O}now(){return this.delegate.now()}schedule(M,O,Z){const re=this.zone;return this.delegate.schedule(function(Me){re.runGuarded(()=>{M.apply(this,[Me])})},O,Z)}}class wh{constructor(M){this.zone=M,this.task=null}call(M,O){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ka,{},Ka,Ka)),O.pipe((0,Wa.b)({next:Z,complete:Z,error:Z})).subscribe(M).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qr=(()=>{class I{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new wi(Zone.current)),this.insideAngular=O.run(()=>new wi(Zone.current,$f.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(O){return new(O||I)(p.LFG(p.R0b))},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Hi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function vs(I){return Hi().ngZone.run(()=>I())}function lc(I){return Hi(),function xu(I){return function(O){return(O=O.lift(new wh(I.ngZone))).pipe((0,Tr.R)(I.outsideAngular),(0,Ko.Q)(I.insideAngular))}}(Hi())(I)}const Ya=(I,M)=>function(){const Z=arguments;return M&&setTimeout(()=>{"scheduled"===M.state&&M.invoke()},10),vs(()=>I.apply(void 0,Z))},Gs=(I,M)=>function(){let O;const Z=arguments;for(let ue=0;ue<arguments.length;ue++)"function"==typeof Z[ue]&&(M&&(O||(O=vs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ka,{},Ka,Ka)))),Z[ue]=Ya(Z[ue],O));const re=function Ch(I){return Hi().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,Z));if(!M){if(re instanceof Vr.y){const ue=Hi();return re.pipe((0,Tr.R)(ue.outsideAngular),(0,Ko.Q)(ue.insideAngular))}return vs(()=>re)}return re instanceof Vr.y?re.pipe(lc):re instanceof Promise?vs(()=>new Promise((ue,Me)=>re.then(lt=>vs(()=>ue(lt)),lt=>vs(()=>Me(lt))))):"function"==typeof re&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),re.apply(this,arguments)}:vs(()=>re)}},6710:(Tt,Fe,k)=>{"use strict";k.d(Fe,{$:()=>Hu,A:()=>X,D:()=>$e,I:()=>nn,J:()=>Na,L:()=>ot,N:()=>Dt,P:()=>pr,Q:()=>ca,R:()=>gh,U:()=>lu,V:()=>ks,W:()=>Ti,X:()=>jo,Y:()=>hu,Z:()=>Io,_:()=>ls,a:()=>be,a0:()=>Zu,a1:()=>sr,a2:()=>gu,a3:()=>_u,a4:()=>ha,a5:()=>ci,a6:()=>eo,a7:()=>Va,a8:()=>Ba,a9:()=>Gu,aA:()=>K,aB:()=>Ea,aC:()=>Ye,aD:()=>Sn,aE:()=>Wa,aF:()=>ld,aG:()=>Ga,aH:()=>Kn,aL:()=>Rt,aO:()=>hr,aa:()=>To,ab:()=>yu,ac:()=>vu,ad:()=>fa,ae:()=>Vs,af:()=>qu,ai:()=>ch,aj:()=>Yl,ak:()=>ro,an:()=>$u,ao:()=>pa,aq:()=>ma,ar:()=>$a,as:()=>Ke,at:()=>ht,au:()=>he,av:()=>fe,aw:()=>Vt,ax:()=>cc,ay:()=>An,az:()=>ke,b:()=>J,c:()=>Dr,d:()=>al,e:()=>nc,f:()=>sc,g:()=>$i,h:()=>ys,i:()=>fs,j:()=>$f,k:()=>so,l:()=>ol,m:()=>Qa,o:()=>hc,p:()=>Re,r:()=>zt,s:()=>io,u:()=>xi});var p=k(5861),G=k(9058),B=k(7592),te=k(7582),me=k(7879),ge=k(4537);const Re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},X={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const $e=function le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ut=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},He=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ue=new me.Yd("@firebase/auth");function vt(E,...m){Ue.logLevel<=me.in.ERROR&&Ue.error(`Auth (${B.SDK_VERSION}): ${E}`,...m)}function fe(E,...m){throw Be(E,...m)}function ke(E,...m){return Be(E,...m)}function we(E,m,y){const D=Object.assign(Object.assign({},ut()),{[m]:y});return new G.LL("auth","Firebase",D).create(m,{appName:E.name})}function Pe(E,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&fe(E,"argument-error"),we(E,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(E,...m){if("string"!=typeof E){const y=m[0],D=[...m.slice(1)];return D[0]&&(D[0].appName=E.name),E._errorFactory.create(y,...D)}return He.create(E,...m)}function K(E,m,...y){if(!E)throw Be(m,...y)}function je(E){const m="INTERNAL ASSERTION FAILED: "+E;throw vt(m),new Error(m)}function Ke(E,m){E||je(m)}function Pt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Gt(){return"http:"===Rn()||"https:"===Rn()}function Rn(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class gt{constructor(m,y){this.shortDelay=m,this.longDelay=y,Ke(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Ct(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gt()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function on(E,m){Ke(E.emulator,"Emulator should always be set here");const{url:y}=E.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class pe{static initialize(m,y,D){this.fetchImpl=m,y&&(this.headersImpl=y),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ve=new gt(3e4,6e4);function ce(E,m){return E.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:E.tenantId}):m}function Ee(E,m,y,D){return qe.apply(this,arguments)}function qe(){return(qe=(0,p.Z)(function*(E,m,y,D,R={}){return tt(E,R,(0,p.Z)(function*(){let z={},se={};D&&("GET"===m?se=D:z={body:JSON.stringify(D)});const De=(0,G.xO)(Object.assign({key:E.config.apiKey},se)).slice(1),at=yield E._getAdditionalHeaders();return at["Content-Type"]="application/json",E.languageCode&&(at["X-Firebase-Locale"]=E.languageCode),pe.fetch()(sn(E,E.config.apiHost,y,De),Object.assign({method:m,headers:at,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function tt(E,m,y){return nt.apply(this,arguments)}function nt(){return(nt=(0,p.Z)(function*(E,m,y){E._canInitEmulator=!1;const D=Object.assign(Object.assign({},Ce),m);try{const R=new It(E),z=yield Promise.race([y(),R.promise]);R.clearNetworkTimeout();const se=yield z.json();if("needConfirmation"in se)throw xn(E,"account-exists-with-different-credential",se);if(z.ok&&!("errorMessage"in se))return se;{const De=z.ok?se.errorMessage:se.error.message,[at,dt]=De.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw xn(E,"credential-already-in-use",se);if("EMAIL_EXISTS"===at)throw xn(E,"email-already-in-use",se);if("USER_DISABLED"===at)throw xn(E,"user-disabled",se);const kt=D[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(dt)throw we(E,kt,dt);fe(E,kt)}}catch(R){if(R instanceof G.ZR)throw R;fe(E,"network-request-failed",{message:String(R)})}})).apply(this,arguments)}function Tn(E,m,y,D){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,p.Z)(function*(E,m,y,D,R={}){const z=yield Ee(E,m,y,D,R);return"mfaPendingCredential"in z&&fe(E,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function sn(E,m,y,D){const R=`${m}${y}?${D}`;return E.config.emulator?on(E.config,R):`${E.config.apiScheme}://${R}`}class It{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,D)=>{this.timer=setTimeout(()=>D(ke(this.auth,"network-request-failed")),ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xn(E,m,y){const D={appName:E.name};y.email&&(D.email=y.email),y.phoneNumber&&(D.phoneNumber=y.phoneNumber);const R=ke(E,m,D);return R.customData._tokenResponse=y,R}function zn(){return(zn=(0,p.Z)(function*(E,m){return Ee(E,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Qn(){return(Qn=(0,p.Z)(function*(E,m){return Ee(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function wr(){return(wr=(0,p.Z)(function*(E,m){return Ee(E,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function $n(E){if(E)try{const m=new Date(Number(E));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function ki(){return(ki=(0,p.Z)(function*(E,m=!1){const y=(0,G.m9)(E),D=yield y.getIdToken(m),R=Nt(D);K(R&&R.exp&&R.auth_time&&R.iat,y.auth,"internal-error");const z="object"==typeof R.firebase?R.firebase:void 0,se=z?.sign_in_provider;return{claims:R,token:D,authTime:$n(Ot(R.auth_time)),issuedAtTime:$n(Ot(R.iat)),expirationTime:$n(Ot(R.exp)),signInProvider:se||null,signInSecondFactor:z?.sign_in_second_factor||null}})).apply(this,arguments)}function Ot(E){return 1e3*Number(E)}function Nt(E){const[m,y,D]=E.split(".");if(void 0===m||void 0===y||void 0===D)return vt("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,G.tV)(y);return R?JSON.parse(R):(vt("Failed to decode base64 JWT payload"),null)}catch(R){return vt("Caught error parsing JWT payload as JSON",R?.toString()),null}}function ln(E,m){return mr.apply(this,arguments)}function mr(){return(mr=(0,p.Z)(function*(E,m,y=!1){if(y)return m;try{return yield m}catch(D){throw D instanceof G.ZR&&function _r({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(D)&&E.auth.currentUser===E&&(yield E.auth.signOut()),D}})).apply(this,arguments)}class tn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const R=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const D=this.getInterval(m);this.timerId=setTimeout((0,p.Z)(function*(){yield y.iteration()}),D)}iteration(){var m=this;return(0,p.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&m.schedule(!0))}m.schedule()})()}}class Gn{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=$n(this.lastLoginAt),this.creationTime=$n(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ri(E){return mn.apply(this,arguments)}function mn(){return mn=(0,p.Z)(function*(E){var m;const y=E.auth,D=yield E.getIdToken(),R=yield ln(E,function mi(E,m){return wr.apply(this,arguments)}(y,{idToken:D}));K(R?.users.length,y,"internal-error");const z=R.users[0];E._notifyReloadListener(z);const se=null!==(m=z.providerUserInfo)&&void 0!==m&&m.length?function bi(E){return E.map(m=>{var{providerId:y}=m,D=(0,te._T)(m,["providerId"]);return{providerId:y,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(z.providerUserInfo):[],De=function kn(E,m){return[...E.filter(D=>!m.some(R=>R.providerId===D.providerId)),...m]}(E.providerData,se),kt=!!E.isAnonymous&&!(E.email&&z.passwordHash||De?.length),bn={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:De,metadata:new Gn(z.createdAt,z.lastLoginAt),isAnonymous:kt};Object.assign(E,bn)}),mn.apply(this,arguments)}function dn(){return(dn=(0,p.Z)(function*(E){const m=(0,G.m9)(E);yield ri(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function yr(){return(yr=(0,p.Z)(function*(E,m){const y=yield tt(E,{},(0,p.Z)(function*(){const D=(0,G.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:R,apiKey:z}=E.config,se=sn(E,R,"/v1/token",`key=${z}`),De=yield E._getAdditionalHeaders();return De["Content-Type"]="application/x-www-form-urlencoded",pe.fetch()(se,{method:"POST",headers:De,body:D})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class rr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){K(m.idToken,"internal-error"),K(typeof m.idToken<"u","internal-error"),K(typeof m.refreshToken<"u","internal-error");const y="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Wt(E){const m=Nt(E);return K(m,"internal-error"),K(typeof m.exp<"u","internal-error"),K(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var D=this;return(0,p.Z)(function*(){return K(!D.accessToken||D.refreshToken,m,"user-token-expired"),y||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(m,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var D=this;return(0,p.Z)(function*(){const{accessToken:R,refreshToken:z,expiresIn:se}=yield function Li(E,m){return yr.apply(this,arguments)}(m,y);D.updateTokensAndExpiration(R,z,Number(se))})()}updateTokensAndExpiration(m,y,D){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(m,y){const{refreshToken:D,accessToken:R,expirationTime:z}=y,se=new rr;return D&&(K("string"==typeof D,"internal-error",{appName:m}),se.refreshToken=D),R&&(K("string"==typeof R,"internal-error",{appName:m}),se.accessToken=R),z&&(K("number"==typeof z,"internal-error",{appName:m}),se.expirationTime=z),se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new rr,this.toJSON())}_performRefresh(){return je("not implemented")}}function Te(E,m){K("string"==typeof E||typeof E>"u","internal-error",{appName:m})}class ee{constructor(m){var{uid:y,auth:D,stsTokenManager:R}=m,z=(0,te._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=D,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new Gn(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,p.Z)(function*(){const D=yield ln(y,y.stsTokenManager.getToken(y.auth,m));return K(D,y.auth,"internal-error"),y.accessToken!==D&&(y.accessToken=D,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),D})()}getIdTokenResult(m){return function $r(E){return ki.apply(this,arguments)}(this,m)}reload(){return function Hr(E){return dn.apply(this,arguments)}(this)}_assign(m){this!==m&&(K(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const y=new ee(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(m){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var D=this;return(0,p.Z)(function*(){let R=!1;m.idToken&&m.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(m),R=!0),y&&(yield ri(D)),yield D.auth._persistUserIfCurrent(D),R&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var m=this;return(0,p.Z)(function*(){const y=yield m.getIdToken();return yield ln(m,function qn(E,m){return zn.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var D,R,z,se,De,at,dt,kt;const bn=null!==(D=y.displayName)&&void 0!==D?D:void 0,Zi=null!==(R=y.email)&&void 0!==R?R:void 0,ws=null!==(z=y.phoneNumber)&&void 0!==z?z:void 0,Xa=null!==(se=y.photoURL)&&void 0!==se?se:void 0,Hg=null!==(De=y.tenantId)&&void 0!==De?De:void 0,dd=null!==(at=y._redirectEventId)&&void 0!==at?at:void 0,fc=null!==(dt=y.createdAt)&&void 0!==dt?dt:void 0,pc=null!==(kt=y.lastLoginAt)&&void 0!==kt?kt:void 0,{uid:bh,emailVerified:hd,isAnonymous:Cs,providerData:pl,stsTokenManager:Ou}=y;K(bh&&Ou,m,"internal-error");const fd=rr.fromJSON(this.name,Ou);K("string"==typeof bh,m,"internal-error"),Te(bn,m.name),Te(Zi,m.name),K("boolean"==typeof hd,m,"internal-error"),K("boolean"==typeof Cs,m,"internal-error"),Te(ws,m.name),Te(Xa,m.name),Te(Hg,m.name),Te(dd,m.name),Te(fc,m.name),Te(pc,m.name);const Nu=new ee({uid:bh,auth:m,email:Zi,emailVerified:hd,displayName:bn,isAnonymous:Cs,photoURL:Xa,phoneNumber:ws,tenantId:Hg,stsTokenManager:fd,createdAt:fc,lastLoginAt:pc});return pl&&Array.isArray(pl)&&(Nu.providerData=pl.map(Dh=>Object.assign({},Dh))),dd&&(Nu._redirectEventId=dd),Nu}static _fromIdTokenResponse(m,y,D=!1){return(0,p.Z)(function*(){const R=new rr;R.updateFromServerResponse(y);const z=new ee({uid:y.localId,auth:m,stsTokenManager:R,isAnonymous:D});return yield ri(z),z})()}}const xe=new Map;function Ye(E){Ke(E instanceof Function,"Expected a class definition");let m=xe.get(E);return m?(Ke(m instanceof E,"Instance stored in cache mismatched with class"),m):(m=new E,xe.set(E,m),m)}const Dt=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(y,D){var R=this;return(0,p.Z)(function*(){R.storage[y]=D})()}_get(y){var D=this;return(0,p.Z)(function*(){const R=D.storage[y];return void 0===R?null:R})()}_remove(y){var D=this;return(0,p.Z)(function*(){delete D.storage[y]})()}_addListener(y,D){}_removeListener(y,D){}}return E.type="NONE",E})();function Sn(E,m,y){return`firebase:${E}:${m}:${y}`}class Q{constructor(m,y,D){this.persistence=m,this.auth=y,this.userKey=D;const{config:R,name:z}=this.auth;this.fullUserKey=Sn(this.userKey,R.apiKey,z),this.fullPersistenceKey=Sn("persistence",R.apiKey,z),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,p.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?ee._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,p.Z)(function*(){if(y.persistence===m)return;const D=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,D?y.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,D="authUser"){return(0,p.Z)(function*(){if(!y.length)return new Q(Ye(Dt),m,D);const R=(yield Promise.all(y.map(function(){var dt=(0,p.Z)(function*(kt){if(yield kt._isAvailable())return kt});return function(kt){return dt.apply(this,arguments)}}()))).filter(dt=>dt);let z=R[0]||Ye(Dt);const se=Sn(D,m.config.apiKey,m.name);let De=null;for(const dt of y)try{const kt=yield dt._get(se);if(kt){const bn=ee._fromJSON(m,kt);dt!==z&&(De=bn),z=dt;break}}catch{}const at=R.filter(dt=>dt._shouldAllowMigration);return z._shouldAllowMigration&&at.length?(z=at[0],De&&(yield z._set(se,De.toJSON())),yield Promise.all(y.map(function(){var dt=(0,p.Z)(function*(kt){if(kt!==z)try{yield kt._remove(se)}catch{}});return function(kt){return dt.apply(this,arguments)}}())),new Q(z,m,D)):new Q(z,m,D)})()}}function Y(E){const m=E.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(oe(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if($(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(it(m))return"Blackberry";if(Ht(m))return"Webos";if(H(m))return"Safari";if((m.includes("chrome/")||U(m))&&!m.includes("edge/"))return"Chrome";if(he(m))return"Android";{const D=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function $(E=(0,G.z$)()){return/firefox\//i.test(E)}function H(E=(0,G.z$)()){const m=E.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function U(E=(0,G.z$)()){return/crios\//i.test(E)}function oe(E=(0,G.z$)()){return/iemobile/i.test(E)}function he(E=(0,G.z$)()){return/android/i.test(E)}function it(E=(0,G.z$)()){return/blackberry/i.test(E)}function Ht(E=(0,G.z$)()){return/webos/i.test(E)}function ht(E=(0,G.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function An(E=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function Yt(E=(0,G.z$)()){return ht(E)||he(E)||Ht(E)||it(E)||/windows phone/i.test(E)||oe(E)}function xs(E,m=[]){let y;switch(E){case"Browser":y=Y((0,G.z$)());break;case"Worker":y=`${Y((0,G.z$)())}-${E}`;break;default:y=E}const D=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${B.SDK_VERSION}/${D}`}function _o(){return(_o=(0,p.Z)(function*(E){return(yield Ee(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yo(E,m){return Di.apply(this,arguments)}function Di(){return(Di=(0,p.Z)(function*(E,m){return Ee(E,"GET","/v2/recaptchaConfig",ce(E,m))})).apply(this,arguments)}function vn(E){return void 0!==E&&void 0!==E.getResponse}function qi(E){return void 0!==E&&void 0!==E.enterprise}class na{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function au(E){return new Promise((m,y)=>{const D=document.createElement("script");D.setAttribute("src",E),D.onload=m,D.onerror=R=>{const z=ke("internal-error");z.customData=R,y(z)},D.type="text/javascript",D.charset="UTF-8",function su(){var E,m;return null!==(m=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==m?m:document}().appendChild(D)})}function ko(E){return`__${E}${Math.floor(1e6*Math.random())}`}class Os{constructor(m){this.type="recaptcha-enterprise",this.auth=Kn(m)}verify(m="verify",y=!1){var D=this;return(0,p.Z)(function*(){function z(){return z=(0,p.Z)(function*(De){if(!y){if(null==De.tenantId&&null!=De._agentRecaptchaConfig)return De._agentRecaptchaConfig.siteKey;if(null!=De.tenantId&&void 0!==De._tenantRecaptchaConfigs[De.tenantId])return De._tenantRecaptchaConfigs[De.tenantId].siteKey}return new Promise(function(){var at=(0,p.Z)(function*(dt,kt){yo(De,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(bn=>{if(void 0!==bn.recaptchaKey){const Zi=new na(bn);return null==De.tenantId?De._agentRecaptchaConfig=Zi:De._tenantRecaptchaConfigs[De.tenantId]=Zi,dt(Zi.siteKey)}kt(new Error("recaptcha Enterprise site key undefined"))}).catch(bn=>{kt(bn)})});return function(dt,kt){return at.apply(this,arguments)}}())}),z.apply(this,arguments)}function se(De,at,dt){const kt=window.grecaptcha;qi(kt)?kt.enterprise.ready(()=>{kt.enterprise.execute(De,{action:m}).then(bn=>{at(bn)}).catch(()=>{at("NO_RECAPTCHA")})}):dt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((De,at)=>{(function R(De){return z.apply(this,arguments)})(D.auth).then(dt=>{if(!y&&qi(window.grecaptcha))se(dt,De,at);else{if(typeof window>"u")return void at(new Error("RecaptchaVerifier is only supported in browser"));au("https://www.google.com/recaptcha/enterprise.js?render="+dt).then(()=>{se(dt,De,at)}).catch(kt=>{at(kt)})}}).catch(dt=>{at(dt)})})})()}}function vo(E,m,y){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,p.Z)(function*(E,m,y,D=!1){const R=new Os(E);let z;try{z=yield R.verify(y)}catch{z=yield R.verify(y,!0)}const se=Object.assign({},m);return Object.assign(se,D?{captchaResp:z}:{captchaResponse:z}),Object.assign(se,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(se,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),se})).apply(this,arguments)}class _n{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const D=z=>new Promise((se,De)=>{try{se(m(z))}catch(at){De(at)}});D.onAbort=y,this.queue.push(D);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,p.Z)(function*(){if(y.auth.currentUser===m)return;const D=[];try{for(const R of y.queue)yield R(m),R.onAbort&&D.push(R.onAbort)}catch(R){D.reverse();for(const z of D)try{z()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:R?.message})}})()}}class Hn{constructor(m,y,D,R){this.app=m,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=D,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oa(this),this.idTokenSubscription=new Oa(this),this.beforeStateQueue=new _n(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=He,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(m,y){var D=this;return y&&(this._popupRedirectResolver=Ye(y)),this._initializationPromise=this.queue((0,p.Z)(function*(){var R,z;if(!D._deleted&&(D.persistenceManager=yield Q.create(D,m),!D._deleted)){if(null!==(R=D._popupRedirectResolver)&&void 0!==R&&R._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(y),D.lastNotifiedUid=(null===(z=D.currentUser)||void 0===z?void 0:z.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,p.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,p.Z)(function*(){var D;const R=yield y.assertedPersistence.getCurrentUser();let z=R,se=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const De=null===(D=y.redirectUser)||void 0===D?void 0:D._redirectEventId,at=z?._redirectEventId,dt=yield y.tryRedirectSignIn(m);(!De||De===at)&&dt?.user&&(z=dt.user,se=!0)}if(!z)return y.directlySetCurrentUser(null);if(!z._redirectEventId){if(se)try{yield y.beforeStateQueue.runMiddleware(z)}catch(De){z=R,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(De))}return z?y.reloadAndSetCurrentUserOrClear(z):y.directlySetCurrentUser(null)}return K(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===z._redirectEventId?y.directlySetCurrentUser(z):y.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(m){var y=this;return(0,p.Z)(function*(){let D=null;try{D=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch{yield y._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,p.Z)(function*(){try{yield ri(m)}catch(D){if("auth/network-request-failed"!==D?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Vn(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var m=this;return(0,p.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,p.Z)(function*(){const D=m?(0,G.m9)(m):null;return D&&K(D.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(D&&D._clone(y))})()}_updateCurrentUser(m,y=!1){var D=this;return(0,p.Z)(function*(){if(!D._deleted)return m&&K(D.tenantId===m.tenantId,D,"tenant-id-mismatch"),y||(yield D.beforeStateQueue.runMiddleware(m)),D.queue((0,p.Z)(function*(){yield D.directlySetCurrentUser(m),D.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,p.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,p.Z)(function*(){yield y.assertedPersistence.setPersistence(Ye(m))}))}initializeRecaptchaConfig(){var m=this;return(0,p.Z)(function*(){const y=yield yo(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),D=new na(y);null==m.tenantId?m._agentRecaptchaConfig=D:m._tenantRecaptchaConfigs[m.tenantId]=D,D.emailPasswordEnabled&&new Os(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new G.LL("auth","Firebase",m())}onAuthStateChanged(m,y,D){return this.registerStateListener(this.authStateSubscription,m,y,D)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,D){return this.registerStateListener(this.idTokenSubscription,m,y,D)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var D=this;return(0,p.Z)(function*(){const R=yield D.getOrInitRedirectPersistenceManager(y);return null===m?R.removeCurrentUser():R.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,p.Z)(function*(){if(!y.redirectPersistenceManager){const D=m&&Ye(m)||y._popupRedirectResolver;K(D,y,"argument-error"),y.redirectPersistenceManager=yield Q.create(y,[Ye(D._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,p.Z)(function*(){var D,R;return y._isInitialized&&(yield y.queue((0,p.Z)(function*(){}))),(null===(D=y._currentUser)||void 0===D?void 0:D._redirectEventId)===m?y._currentUser:(null===(R=y.redirectUser)||void 0===R?void 0:R._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,p.Z)(function*(){if(m===y.currentUser)return y.queue((0,p.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,D,R){if(this._deleted)return()=>{};const z="function"==typeof y?y:y.next.bind(y),se=this._isInitialized?Promise.resolve():this._initializationPromise;return K(se,this,"internal-error"),se.then(()=>z(this.currentUser)),"function"==typeof y?m.addObserver(y,D,R):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,p.Z)(function*(){y.currentUser&&y.currentUser!==m&&y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh(),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=xs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,p.Z)(function*(){var y;const D={"X-Client-Version":m.clientVersion};m.app.options.appId&&(D["X-Firebase-gmpid"]=m.app.options.appId);const R=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();R&&(D["X-Firebase-Client"]=R);const z=yield m._getAppCheckToken();return z&&(D["X-Firebase-AppCheck"]=z),D})()}_getAppCheckToken(){var m=this;return(0,p.Z)(function*(){var y;const D=yield null===(y=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return D?.error&&function Et(E,...m){Ue.logLevel<=me.in.WARN&&Ue.warn(`Auth (${B.SDK_VERSION}): ${E}`,...m)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function Kn(E){return(0,G.m9)(E)}class Oa{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,G.ne)(y=>this.observer=y)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nn(E,m,y){const D=Kn(E);K(D._canInitEmulator,D,"emulator-config-failed"),K(/^https?:\/\//.test(m),D,"invalid-emulator-scheme");const R=!!y?.disableWarnings,z=In(m),{host:se,port:De}=function Ns(E){const m=In(E),y=/(\/\/)?([^?#/]+)/.exec(E.substr(m.length));if(!y)return{host:"",port:null};const D=y[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(D);if(R){const z=R[1];return{host:z,port:Rs(D.substr(z.length+1))}}{const[z,se]=D.split(":");return{host:z,port:Rs(se)}}}(m);D.config.emulator={url:`${z}//${se}${null===De?"":`:${De}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:se,port:De,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function Fi(){function E(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function In(E){const m=E.indexOf(":");return m<0?"":E.substr(0,m+1)}function Rs(E){if(!E)return null;const m=Number(E);return isNaN(m)?null:m}class Na{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return je("not implemented")}_getIdTokenResponse(m){return je("not implemented")}_linkToIdToken(m,y){return je("not implemented")}_getReauthenticationResolver(m){return je("not implemented")}}function ra(E,m){return as.apply(this,arguments)}function as(){return(as=(0,p.Z)(function*(E,m){return Ee(E,"POST","/v1/accounts:resetPassword",ce(E,m))})).apply(this,arguments)}function ir(E,m){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,p.Z)(function*(E,m){return Ee(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Rr(){return(Rr=(0,p.Z)(function*(E,m){return Ee(E,"POST","/v1/accounts:update",ce(E,m))})).apply(this,arguments)}function ia(E,m){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,p.Z)(function*(E,m){return Tn(E,"POST","/v1/accounts:signInWithPassword",ce(E,m))})).apply(this,arguments)}function oa(E,m){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,p.Z)(function*(E,m){return Ee(E,"POST","/v1/accounts:sendOobCode",ce(E,m))})).apply(this,arguments)}function aa(){return(aa=(0,p.Z)(function*(E,m){return oa(E,m)})).apply(this,arguments)}function ua(E,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,p.Z)(function*(E,m){return oa(E,m)})).apply(this,arguments)}function cu(E,m){return hn.apply(this,arguments)}function hn(){return(hn=(0,p.Z)(function*(E,m){return oa(E,m)})).apply(this,arguments)}function xt(){return(xt=(0,p.Z)(function*(E,m){return oa(E,m)})).apply(this,arguments)}function Jt(){return(Jt=(0,p.Z)(function*(E,m){return Tn(E,"POST","/v1/accounts:signInWithEmailLink",ce(E,m))})).apply(this,arguments)}function ka(){return(ka=(0,p.Z)(function*(E,m){return Tn(E,"POST","/v1/accounts:signInWithEmailLink",ce(E,m))})).apply(this,arguments)}class Vo extends Na{constructor(m,y,D,R=null){super("password",D),this._email=m,this._password=y,this._tenantId=R}static _fromEmailAndPassword(m,y){return new Vo(m,y,"password")}static _fromEmailAndCode(m,y,D=null){return new Vo(m,y,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,p.Z)(function*(){var D;switch(y.signInMethod){case"password":const R={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=m._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const z=yield vo(m,R,"signInWithPassword");return ia(m,z)}return ia(m,R).catch(function(){var z=(0,p.Z)(function*(se){if("auth/missing-recaptcha-token"===se.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const De=yield vo(m,R,"signInWithPassword");return ia(m,De)}return Promise.reject(se)});return function(se){return z.apply(this,arguments)}}());case"emailLink":return function oi(E,m){return Jt.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:fe(m,"internal-error")}})()}_linkToIdToken(m,y){var D=this;return(0,p.Z)(function*(){switch(D.signInMethod){case"password":return ir(m,{idToken:y,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Zc(E,m){return ka.apply(this,arguments)}(m,{idToken:y,email:D._email,oobCode:D._password});default:fe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Co(E,m){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,p.Z)(function*(E,m){return Tn(E,"POST","/v1/accounts:signInWithIdp",ce(E,m))})).apply(this,arguments)}class ot extends Na{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new ot(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):fe("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:R}=y,z=(0,te._T)(y,["providerId","signInMethod"]);if(!D||!R)return null;const se=new ot(D,R);return se.idToken=z.idToken||void 0,se.accessToken=z.accessToken||void 0,se.secret=z.secret,se.nonce=z.nonce,se.pendingToken=z.pendingToken||null,se}_getIdTokenResponse(m){return Co(m,this.buildRequest())}_linkToIdToken(m,y){const D=this.buildRequest();return D.idToken=y,Co(m,D)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Co(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,G.xO)(y)}return m}}function Pn(){return(Pn=(0,p.Z)(function*(E,m){return Ee(E,"POST","/v1/accounts:sendVerificationCode",ce(E,m))})).apply(this,arguments)}function Eo(){return(Eo=(0,p.Z)(function*(E,m){return Tn(E,"POST","/v1/accounts:signInWithPhoneNumber",ce(E,m))})).apply(this,arguments)}function us(){return(us=(0,p.Z)(function*(E,m){const y=yield Tn(E,"POST","/v1/accounts:signInWithPhoneNumber",ce(E,m));if(y.temporaryProof)throw xn(E,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const or={USER_NOT_FOUND:"user-not-found"};function Uo(){return(Uo=(0,p.Z)(function*(E,m){return Tn(E,"POST","/v1/accounts:signInWithPhoneNumber",ce(E,Object.assign(Object.assign({},m),{operation:"REAUTH"})),or)})).apply(this,arguments)}class rt extends Na{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new rt({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new rt({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function _i(E,m){return Eo.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function si(E,m){return us.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Bo(E,m){return Uo.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:D,verificationCode:R}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:D,code:R}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:D,phoneNumber:R,temporaryProof:z}=m;return D||y||R||z?new rt({verificationId:y,verificationCode:D,phoneNumber:R,temporaryProof:z}):null}}class Zr{constructor(m){var y,D,R,z,se,De;const at=(0,G.zd)((0,G.pd)(m)),dt=null!==(y=at.apiKey)&&void 0!==y?y:null,kt=null!==(D=at.oobCode)&&void 0!==D?D:null,bn=function Yi(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=at.mode)&&void 0!==R?R:null);K(dt&&kt&&bn,"argument-error"),this.apiKey=dt,this.operation=bn,this.code=kt,this.continueUrl=null!==(z=at.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(se=at.languageCode)&&void 0!==se?se:null,this.tenantId=null!==(De=at.tenantId)&&void 0!==De?De:null}static parseLink(m){const y=function Qi(E){const m=(0,G.zd)((0,G.pd)(E)).link,y=m?(0,G.zd)((0,G.pd)(m)).deep_link_id:null,D=(0,G.zd)((0,G.pd)(E)).deep_link_id;return(D?(0,G.zd)((0,G.pd)(D)).link:null)||D||y||m||E}(m);try{return new Zr(y)}catch{return null}}}let ca=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(y,D){return Vo._fromEmailAndPassword(y,D)}static credentialWithLink(y,D){const R=Zr.parseLink(D);return K(R,"argument-error"),Vo._fromEmailAndCode(y,R.code,R.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class ai{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ui extends ai{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class jo extends ui{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return K("providerId"in y&&"signInMethod"in y,"argument-error"),ot._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return K(m.idToken||m.accessToken,"argument-error"),ot._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return jo.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return jo.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:D,oauthTokenSecret:R,pendingToken:z,nonce:se,providerId:De}=m;if(!D&&!R&&!y&&!z||!De)return null;try{return new jo(De)._credential({idToken:y,accessToken:D,nonce:se,pendingToken:z})}catch{return null}}}let lu=(()=>{class E extends ui{constructor(){super("facebook.com")}static credential(y){return ot._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return E.credential(y.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),ks=(()=>{class E extends ui{constructor(){super("google.com"),this.addScope("profile")}static credential(y,D){return ot._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:D})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:D,oauthAccessToken:R}=y;if(!D&&!R)return null;try{return E.credential(D,R)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Ti=(()=>{class E extends ui{constructor(){super("github.com")}static credential(y){return ot._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return E.credential(y.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class hr extends Na{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return Co(m,this.buildRequest())}_linkToIdToken(m,y){const D=this.buildRequest();return D.idToken=y,Co(m,D)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Co(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:R,pendingToken:z}=y;return D&&R&&z&&D===R?new hr(D,z):null}static _create(m,y){return new hr(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hu extends ai{constructor(m){K(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return hu.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return hu.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=hr.fromJSON(m);return K(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:D}=m;if(!y||!D)return null;try{return hr._create(D,y)}catch{return null}}}let Io=(()=>{class E extends ui{constructor(){super("twitter.com")}static credential(y,D){return ot._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:D})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:D,oauthTokenSecret:R}=y;if(!D||!R)return null;try{return E.credential(D,R)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Ls(E,m){return kr.apply(this,arguments)}function kr(){return(kr=(0,p.Z)(function*(E,m){return Tn(E,"POST","/v1/accounts:signUp",ce(E,m))})).apply(this,arguments)}class Lr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,D,R=!1){return(0,p.Z)(function*(){const z=yield ee._fromIdTokenResponse(m,D,R),se=cs(D);return new Lr({user:z,providerId:se,_tokenResponse:D,operationType:y})})()}static _forOperation(m,y,D){return(0,p.Z)(function*(){yield m._updateTokensIfNecessary(D,!0);const R=cs(D);return new Lr({user:m,providerId:R,_tokenResponse:D,operationType:y})})()}}function cs(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function ls(E){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,p.Z)(function*(E){var m;const y=Kn(E);if(yield y._initializationPromise,null!==(m=y.currentUser)&&void 0!==m&&m.isAnonymous)return new Lr({user:y.currentUser,providerId:null,operationType:"signIn"});const D=yield Ls(y,{returnSecureToken:!0}),R=yield Lr._fromIdTokenResponse(y,"signIn",D,!0);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class Gc extends G.ZR{constructor(m,y,D,R){var z;super(y.code,y.message),this.operationType=D,this.user=R,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:m.name,tenantId:null!==(z=m.tenantId)&&void 0!==z?z:void 0,_serverResponse:y.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(m,y,D,R){return new Gc(m,y,D,R)}}function Jr(E,m,y,D){return("reauthenticate"===m?y._getReauthenticationResolver(E):y._getIdTokenResponse(E)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?Gc._fromErrorAndOperation(E,z,m,D):z})}function Fr(E){return new Set(E.map(({providerId:m})=>m).filter(m=>!!m))}function $u(E,m){return bo.apply(this,arguments)}function bo(){return bo=(0,p.Z)(function*(E,m){const y=(0,G.m9)(E);yield Si(!0,y,m);const{providerUserInfo:D}=yield function En(E,m){return Qn.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),R=Fr(D||[]);return y.providerData=y.providerData.filter(z=>R.has(z.providerId)),R.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),bo.apply(this,arguments)}function yi(E,m){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,p.Z)(function*(E,m,y=!1){const D=yield ln(E,m._linkToIdToken(E.auth,yield E.getIdToken()),y);return Lr._forOperation(E,"link",D)})).apply(this,arguments)}function Si(E,m,y){return La.apply(this,arguments)}function La(){return(La=(0,p.Z)(function*(E,m,y){yield ri(m);const R=!1===E?"provider-already-linked":"no-such-provider";K(Fr(m.providerData).has(y)===E,m.auth,R)})).apply(this,arguments)}function la(E,m){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,p.Z)(function*(E,m,y=!1){const{auth:D}=E,R="reauthenticate";try{const z=yield ln(E,Jr(D,R,m,E),y);K(z.idToken,D,"internal-error");const se=Nt(z.idToken);K(se,D,"internal-error");const{sub:De}=se;return K(E.uid===De,D,"user-mismatch"),Lr._forOperation(E,R,z)}catch(z){throw"auth/user-not-found"===z?.code&&fe(D,"user-mismatch"),z}})).apply(this,arguments)}function fu(E,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,p.Z)(function*(E,m,y=!1){const D="signIn",R=yield Jr(E,D,m),z=yield Lr._fromIdTokenResponse(E,D,R);return y||(yield E._updateCurrentUser(z.user)),z})).apply(this,arguments)}function Hu(E,m){return pu.apply(this,arguments)}function pu(){return(pu=(0,p.Z)(function*(E,m){return fu(Kn(E),m)})).apply(this,arguments)}function Zu(E,m){return ql.apply(this,arguments)}function ql(){return(ql=(0,p.Z)(function*(E,m){const y=(0,G.m9)(E);return yield Si(!1,y,m.providerId),yi(y,m)})).apply(this,arguments)}function sr(E,m){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,p.Z)(function*(E,m){return la((0,G.m9)(E),m)})).apply(this,arguments)}function Xi(){return(Xi=(0,p.Z)(function*(E,m){return Tn(E,"POST","/v1/accounts:signInWithCustomToken",ce(E,m))})).apply(this,arguments)}function gu(E,m){return mu.apply(this,arguments)}function mu(){return mu=(0,p.Z)(function*(E,m){const y=Kn(E),D=yield function jf(E,m){return Xi.apply(this,arguments)}(y,{token:m,returnSecureToken:!0}),R=yield Lr._fromIdTokenResponse(y,"signIn",D);return yield y._updateCurrentUser(R.user),R}),mu.apply(this,arguments)}class xr{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?Kl._fromServerResponse(m,y):"totpInfo"in y?Ji._fromServerResponse(m,y):fe(m,"internal-error")}}class Kl extends xr{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new Kl(y)}}class Ji extends xr{constructor(m){super("totp",m)}static _fromServerResponse(m,y){return new Ji(y)}}function da(E,m,y){var D;K((null===(D=y.url)||void 0===D?void 0:D.length)>0,E,"invalid-continue-uri"),K(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(K(y.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(K(y.android.packageName.length>0,E,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function _u(E,m,y){return qc.apply(this,arguments)}function qc(){return qc=(0,p.Z)(function*(E,m,y){var D;const R=Kn(E),z={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=R._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const se=yield vo(R,z,"getOobCode",!0);y&&da(R,se,y),yield ua(R,se)}else y&&da(R,z,y),yield ua(R,z).catch(function(){var se=(0,p.Z)(function*(De){if("auth/missing-recaptcha-token"!==De.code)return Promise.reject(De);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const at=yield vo(R,z,"getOobCode",!0);y&&da(R,at,y),yield ua(R,at)}});return function(De){return se.apply(this,arguments)}}())}),qc.apply(this,arguments)}function ha(E,m,y){return zo.apply(this,arguments)}function zo(){return(zo=(0,p.Z)(function*(E,m,y){yield ra((0,G.m9)(E),{oobCode:m,newPassword:y})})).apply(this,arguments)}function ci(E,m){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,p.Z)(function*(E,m){yield function uu(E,m){return Rr.apply(this,arguments)}((0,G.m9)(E),{oobCode:m})}),Fs.apply(this,arguments)}function eo(E,m){return fr.apply(this,arguments)}function fr(){return(fr=(0,p.Z)(function*(E,m){const y=(0,G.m9)(E),D=yield ra(y,{oobCode:m}),R=D.requestType;switch(K(R,y,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(D.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(D.mfaInfo,y,"internal-error");default:K(D.email,y,"internal-error")}let z=null;return D.mfaInfo&&(z=xr._fromServerResponse(Kn(y),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:z},operation:R}})).apply(this,arguments)}function Va(E,m){return er.apply(this,arguments)}function er(){return(er=(0,p.Z)(function*(E,m){const{data:y}=yield eo((0,G.m9)(E),m);return y.email})).apply(this,arguments)}function Ba(E,m,y){return Do.apply(this,arguments)}function Do(){return Do=(0,p.Z)(function*(E,m,y){var D;const R=Kn(E),z={returnSecureToken:!0,email:m,password:y,clientType:"CLIENT_TYPE_WEB"};let se;if(null!==(D=R._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const dt=yield vo(R,z,"signUpPassword");se=Ls(R,dt)}else se=Ls(R,z).catch(function(){var dt=(0,p.Z)(function*(kt){if("auth/missing-recaptcha-token"===kt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const bn=yield vo(R,z,"signUpPassword");return Ls(R,bn)}return Promise.reject(kt)});return function(kt){return dt.apply(this,arguments)}}());const De=yield se.catch(dt=>Promise.reject(dt)),at=yield Lr._fromIdTokenResponse(R,"signIn",De);return yield R._updateCurrentUser(at.user),at}),Do.apply(this,arguments)}function Gu(E,m,y){return Hu((0,G.m9)(E),ca.credential(m,y))}function To(E,m,y){return to.apply(this,arguments)}function to(){return to=(0,p.Z)(function*(E,m,y){var D;const R=Kn(E),z={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function se(De,at){K(at.handleCodeInApp,R,"argument-error"),at&&da(R,De,at)}if(null!==(D=R._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const De=yield vo(R,z,"getOobCode",!0);se(De,y),yield cu(R,De)}else se(z,y),yield cu(R,z).catch(function(){var De=(0,p.Z)(function*(at){if("auth/missing-recaptcha-token"!==at.code)return Promise.reject(at);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const dt=yield vo(R,z,"getOobCode",!0);se(dt,y),yield cu(R,dt)}});return function(at){return De.apply(this,arguments)}}())}),to.apply(this,arguments)}function yu(E,m){const y=Zr.parseLink(m);return"EMAIL_SIGNIN"===y?.operation}function vu(E,m,y){return ar.apply(this,arguments)}function ar(){return(ar=(0,p.Z)(function*(E,m,y){const D=(0,G.m9)(E),R=ca.credentialWithLink(m,y||Pt());return K(R._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Hu(D,R)})).apply(this,arguments)}function ds(){return(ds=(0,p.Z)(function*(E,m){return Ee(E,"POST","/v1/accounts:createAuthUri",ce(E,m))})).apply(this,arguments)}function fa(E,m){return So.apply(this,arguments)}function So(){return So=(0,p.Z)(function*(E,m){const D={identifier:m,continueUri:Gt()?Pt():"http://localhost"},{signinMethods:R}=yield function Wu(E,m){return ds.apply(this,arguments)}((0,G.m9)(E),D);return R||[]}),So.apply(this,arguments)}function Vs(E,m){return no.apply(this,arguments)}function no(){return no=(0,p.Z)(function*(E,m){const y=(0,G.m9)(E),R={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};m&&da(y.auth,R,m);const{email:z}=yield function sa(E,m){return aa.apply(this,arguments)}(y.auth,R);z!==E.email&&(yield E.reload())}),no.apply(this,arguments)}function qu(E,m,y){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,p.Z)(function*(E,m,y){const D=(0,G.m9)(E),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:m};y&&da(D.auth,z,y);const{email:se}=yield function Mr(E,m){return xt.apply(this,arguments)}(D.auth,z);se!==E.email&&(yield E.reload())}),Bs.apply(this,arguments)}function Ku(){return(Ku=(0,p.Z)(function*(E,m){return Ee(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ch(E,m){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,p.Z)(function*(E,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const D=(0,G.m9)(E),z={idToken:yield D.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},se=yield ln(D,function Kc(E,m){return Ku.apply(this,arguments)}(D.auth,z));D.displayName=se.displayName||null,D.photoURL=se.photoUrl||null;const De=D.providerData.find(({providerId:at})=>"password"===at);De&&(De.displayName=D.displayName,De.photoURL=D.photoURL),yield D._updateTokensIfNecessary(se)}),Yu.apply(this,arguments)}function Yl(E,m){return hs((0,G.m9)(E),m,null)}function ro(E,m){return hs((0,G.m9)(E),null,m)}function hs(E,m,y){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,p.Z)(function*(E,m,y){const{auth:D}=E,z={idToken:yield E.getIdToken(),returnSecureToken:!0};m&&(z.email=m),y&&(z.password=y);const se=yield ln(E,ir(D,z));yield E._updateTokensIfNecessary(se,!0)})).apply(this,arguments)}class Ua{constructor(m,y,D={}){this.isNewUser=m,this.providerId=y,this.profile=D}}class Qu extends Ua{constructor(m,y,D,R){super(m,y,D),this.username=R}}class wu extends Ua{constructor(m,y){super(m,"facebook.com",y)}}class js extends Qu{constructor(m,y){super(m,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Qc extends Ua{constructor(m,y){super(m,"google.com",y)}}class $o extends Qu{constructor(m,y,D){super(m,"twitter.com",y,D)}}function pa(E){const{user:m,_tokenResponse:y}=E;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Us(E){var m,y;if(!E)return null;const{providerId:D}=E,R=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},z=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!D&&E?.idToken){const se=null===(y=null===(m=Nt(E.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(se)return new Ua(z,"anonymous"!==se&&"custom"!==se?se:null)}if(!D)return null;switch(D){case"facebook.com":return new wu(z,R);case"github.com":return new js(z,R);case"google.com":return new Qc(z,R);case"twitter.com":return new $o(z,R,E.screenName||null);case"custom":case"anonymous":return new Ua(z,null);default:return new Ua(z,D,R)}}(y)}class Ui{constructor(m,y,D){this.type=m,this.credential=y,this.auth=D}static _fromIdtoken(m,y){return new Ui("enroll",m,y)}static _fromMfaPendingCredential(m){return new Ui("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,D;if(m?.multiFactorSession){if(null!==(y=m.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Ui._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(D=m.multiFactorSession)&&void 0!==D&&D.idToken)return Ui._fromIdtoken(m.multiFactorSession.idToken)}return null}}class ga{constructor(m,y,D){this.session=m,this.hints=y,this.signInResolver=D}static _fromError(m,y){const D=Kn(m),R=y.customData._serverResponse,z=(R.mfaInfo||[]).map(De=>xr._fromServerResponse(D,De));K(R.mfaPendingCredential,D,"internal-error");const se=Ui._fromMfaPendingCredential(R.mfaPendingCredential);return new ga(se,z,function(){var De=(0,p.Z)(function*(at){const dt=yield at._process(D,se);delete R.mfaInfo,delete R.mfaPendingCredential;const kt=Object.assign(Object.assign({},R),{idToken:dt.idToken,refreshToken:dt.refreshToken});switch(y.operationType){case"signIn":const bn=yield Lr._fromIdTokenResponse(D,y.operationType,kt);return yield D._updateCurrentUser(bn.user),bn;case"reauthenticate":return K(y.user,D,"internal-error"),Lr._forOperation(y.user,y.operationType,kt);default:fe(D,"internal-error")}});return function(at){return De.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,p.Z)(function*(){return y.signInResolver(m)})()}}function ma(E,m){var y;const D=(0,G.m9)(E),R=m;return K(m.customData.operationType,D,"argument-error"),K(null===(y=R.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,D,"argument-error"),ga._fromError(D,R)}class za{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(D=>xr._fromServerResponse(m.auth,D)))})}static _fromUser(m){return new za(m)}getSession(){var m=this;return(0,p.Z)(function*(){return Ui._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,y){var D=this;return(0,p.Z)(function*(){const R=m,z=yield D.getSession(),se=yield ln(D.user,R._process(D.user.auth,z,y));return yield D.user._updateTokensIfNecessary(se),D.user.reload()})()}unenroll(m){var y=this;return(0,p.Z)(function*(){const D="string"==typeof m?m:m.uid,R=yield y.user.getIdToken();try{const z=yield ln(y.user,function Xc(E,m){return Ee(E,"POST","/v2/accounts/mfaEnrollment:withdraw",ce(E,m))}(y.user.auth,{idToken:R,mfaEnrollmentId:D}));y.enrolledFactors=y.enrolledFactors.filter(({uid:se})=>se!==D),yield y.user._updateTokensIfNecessary(z),yield y.user.reload()}catch(z){throw z}})()}}const On=new WeakMap;function $a(E){const m=(0,G.m9)(E);return On.has(m)||On.set(m,za._fromUser(m)),On.get(m)}const u="__sak";class f{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(u,"1"),this.storage.removeItem(u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const J=(()=>{class E extends f{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,D)=>this.onStorageEvent(y,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function v(){const E=(0,G.z$)();return H(E)||ht(E)}()&&function ii(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const D of Object.keys(this.listeners)){const R=this.storage.getItem(D),z=this.localCache[D];R!==z&&y(D,z,R)}}onStorageEvent(y,D=!1){if(!y.key)return void this.forAllChangedKeys((De,at,dt)=>{this.notifyListeners(De,dt)});const R=y.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const De=this.storage.getItem(R);if(y.newValue!==De)null!==y.newValue?this.storage.setItem(R,y.newValue):this.storage.removeItem(R);else if(this.localCache[R]===y.newValue&&!D)return}const z=()=>{const De=this.storage.getItem(R);!D&&this.localCache[R]===De||this.notifyListeners(R,De)},se=this.storage.getItem(R);!function Fn(){return(0,G.w1)()&&10===document.documentMode}()||se===y.newValue||y.newValue===y.oldValue?z():setTimeout(z,10)}notifyListeners(y,D){this.localCache[y]=D;const R=this.listeners[y];if(R)for(const z of Array.from(R))z(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,D,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:D,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,D){var R=()=>super._set,z=this;return(0,p.Z)(function*(){yield R().call(z,y,D),z.localCache[y]=JSON.stringify(D)})()}_get(y){var D=()=>super._get,R=this;return(0,p.Z)(function*(){const z=yield D().call(R,y);return R.localCache[y]=JSON.stringify(z),z})()}_remove(y){var D=()=>super._remove,R=this;return(0,p.Z)(function*(){yield D().call(R,y),delete R.localCache[y]})()}}return E.type="LOCAL",E})(),be=(()=>{class E extends f{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,D){}_removeListener(y,D){}}return E.type="SESSION",E})();let yt=(()=>{class E{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const D=this.receivers.find(z=>z.isListeningto(y));if(D)return D;const R=new E(y);return this.receivers.push(R),R}isListeningto(y){return this.eventTarget===y}handleEvent(y){var D=this;return(0,p.Z)(function*(){const R=y,{eventId:z,eventType:se,data:De}=R.data,at=D.handlersMap[se];if(!at?.size)return;R.ports[0].postMessage({status:"ack",eventId:z,eventType:se});const dt=Array.from(at).map(function(){var bn=(0,p.Z)(function*(Zi){return Zi(R.origin,De)});return function(Zi){return bn.apply(this,arguments)}}()),kt=yield function Ge(E){return Promise.all(E.map(function(){var m=(0,p.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(D){return{fulfilled:!1,reason:D}}});return function(y){return m.apply(this,arguments)}}()))}(dt);R.ports[0].postMessage({status:"done",eventId:z,eventType:se,response:kt})})()}_subscribe(y,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(D)}_unsubscribe(y,D){this.handlersMap[y]&&D&&this.handlersMap[y].delete(D),(!D||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Rt(E="",m=10){let y="";for(let D=0;D<m;D++)y+=Math.floor(10*Math.random());return E+y}class gn{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,D=50){var R=this;return(0,p.Z)(function*(){const z=typeof MessageChannel<"u"?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let se,De;return new Promise((at,dt)=>{const kt=Rt("",20);z.port1.start();const bn=setTimeout(()=>{dt(new Error("unsupported_event"))},D);De={messageChannel:z,onMessage(Zi){const ws=Zi;if(ws.data.eventId===kt)switch(ws.data.status){case"ack":clearTimeout(bn),se=setTimeout(()=>{dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(se),at(ws.data.response);break;default:clearTimeout(bn),clearTimeout(se),dt(new Error("invalid_response"))}}},R.handlers.add(De),z.port1.addEventListener("message",De.onMessage),R.target.postMessage({eventType:m,eventId:kt,data:y},[z.port2])}).finally(()=>{De&&R.removeMessageHandler(De)})})()}}function Mn(){return window}function Mi(){return typeof Mn().WorkerGlobalScope<"u"&&"function"==typeof Mn().importScripts}function Go(){return(Go=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Pr="firebaseLocalStorageDb",br="firebaseLocalStorage",Wo="fbase_key";class Yn{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ya(E,m){return E.transaction([br],m?"readwrite":"readonly").objectStore(br)}function el(){const E=indexedDB.open(Pr,1);return new Promise((m,y)=>{E.addEventListener("error",()=>{y(E.error)}),E.addEventListener("upgradeneeded",()=>{const D=E.result;try{D.createObjectStore(br,{keyPath:Wo})}catch(R){y(R)}}),E.addEventListener("success",(0,p.Z)(function*(){const D=E.result;D.objectStoreNames.contains(br)?m(D):(D.close(),yield function td(){const E=indexedDB.deleteDatabase(Pr);return new Yn(E).toPromise()}(),m(yield el()))}))})}function tl(E,m,y){return ze.apply(this,arguments)}function ze(){return(ze=(0,p.Z)(function*(E,m,y){const D=ya(E,!0).put({[Wo]:m,value:y});return new Yn(D).toPromise()})).apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(E,m){const y=ya(E,!1).get(m),D=yield new Yn(y).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function dh(E,m){const y=ya(E,!0).delete(m);return new Yn(y).toPromise()}const fs=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,p.Z)(function*(){return y.db||(y.db=yield el()),y.db})()}_withRetries(y){var D=this;return(0,p.Z)(function*(){let R=0;for(;;)try{const z=yield D._openDb();return yield y(z)}catch(z){if(R++>3)throw z;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,p.Z)(function*(){return Mi()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,p.Z)(function*(){y.receiver=yt._getInstance(function Eu(){return Mi()?self:null}()),y.receiver._subscribe("keyChanged",function(){var D=(0,p.Z)(function*(R,z){return{keyProcessed:(yield y._poll()).includes(z.key)}});return function(R,z){return D.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var D=(0,p.Z)(function*(R,z){return["keyChanged"]});return function(R,z){return D.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,p.Z)(function*(){var D,R;if(y.activeServiceWorker=yield function St(){return Go.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new gn(y.activeServiceWorker);const z=yield y.sender._send("ping",{},800);z&&null!==(D=z[0])&&void 0!==D&&D.fulfilled&&null!==(R=z[0])&&void 0!==R&&R.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var D=this;return(0,p.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function lh(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:y},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const y=yield el();return yield tl(y,u,"1"),yield dh(y,u),!0}catch{}return!1})()}_withPendingWrite(y){var D=this;return(0,p.Z)(function*(){D.pendingWrites++;try{yield y()}finally{D.pendingWrites--}})()}_set(y,D){var R=this;return(0,p.Z)(function*(){return R._withPendingWrite((0,p.Z)(function*(){return yield R._withRetries(z=>tl(z,y,D)),R.localCache[y]=D,R.notifyServiceWorker(y)}))})()}_get(y){var D=this;return(0,p.Z)(function*(){const R=yield D._withRetries(z=>function yn(E,m){return ji.apply(this,arguments)}(z,y));return D.localCache[y]=R,R})()}_remove(y){var D=this;return(0,p.Z)(function*(){return D._withPendingWrite((0,p.Z)(function*(){return yield D._withRetries(R=>dh(R,y)),delete D.localCache[y],D.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,p.Z)(function*(){const D=yield y._withRetries(se=>{const De=ya(se,!1).getAll();return new Yn(De).toPromise()});if(!D)return[];if(0!==y.pendingWrites)return[];const R=[],z=new Set;for(const{fbase_key:se,value:De}of D)z.add(se),JSON.stringify(y.localCache[se])!==JSON.stringify(De)&&(y.notifyListeners(se,De),R.push(se));for(const se of Object.keys(y.localCache))y.localCache[se]&&!z.has(se)&&(y.notifyListeners(se,null),R.push(se));return R})()}notifyListeners(y,D){this.localCache[y]=D;const R=this.listeners[y];if(R)for(const z of Array.from(R))z(D)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),di=1e12;class ps{constructor(m){this.auth=m,this.counter=di,this._widgets=new Map}render(m,y){const D=this.counter;return this._widgets.set(D,new fh(m,this.auth.name,y||{})),this.counter++,D}reset(m){var y;const D=m||di;null===(y=this._widgets.get(D))||void 0===y||y.delete(),this._widgets.delete(D)}getResponse(m){var y;return(null===(y=this._widgets.get(m||di))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,p.Z)(function*(){var D;return null===(D=y._widgets.get(m||di))||void 0===D||D.execute(),""})()}}class fh{constructor(m,y,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof m?document.getElementById(m):m;K(R,"argument-error",{appName:y}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ha(E){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<E;D++)m.push(y.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gs=ko("rcb"),jg=new gt(3e4,6e4);class rl{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Mn().grecaptcha)||void 0===m||!m.render)}load(m,y=""){return K(function zg(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(y),m,"argument-error"),this.shouldResolveImmediately(y)&&vn(Mn().grecaptcha)?Promise.resolve(Mn().grecaptcha):new Promise((D,R)=>{const z=Mn().setTimeout(()=>{R(ke(m,"network-request-failed"))},jg.get());Mn()[gs]=()=>{Mn().clearTimeout(z),delete Mn()[gs];const De=Mn().grecaptcha;if(!De||!vn(De))return void R(ke(m,"internal-error"));const at=De.render;De.render=(dt,kt)=>{const bn=at(dt,kt);return this.counter++,bn},this.hostLanguage=y,D(De)},au(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:gs,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(z),R(ke(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!(null===(y=Mn().grecaptcha)||void 0===y||!y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class il{load(m){return(0,p.Z)(function*(){return new ps(m)})()}clearedOneInstance(){}}const id="recaptcha",od={theme:"light",type:"image"};class gh{constructor(m,y=Object.assign({},od),D){this.parameters=y,this.type=id,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(D),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof m?document.getElementById(m):m;K(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new il:new rl,this.validateStartingState()}verify(){var m=this;return(0,p.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),D=m.getAssertedRecaptcha();return D.getResponse(y)||new Promise(z=>{const se=De=>{De&&(m.tokenChangeListeners.delete(se),z(De))};m.tokenChangeListeners.add(se),m.isInvisible&&D.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(D=>D(y)),"function"==typeof m)m(y);else if("string"==typeof m){const D=Mn()[m];"function"==typeof D&&D(y)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,p.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const D=document.createElement("div");y.appendChild(D),y=D}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,p.Z)(function*(){K(Gt()&&!Mi(),m.auth,"internal-error"),yield function mh(){let E=null;return new Promise(m=>{"complete"!==document.readyState?(E=()=>m(),window.addEventListener("load",E)):m()}).catch(m=>{throw E&&window.removeEventListener("load",E),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function Ro(E){return _o.apply(this,arguments)}(m.auth);K(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sd{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=rt._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function io(E,m,y){return va.apply(this,arguments)}function va(){return(va=(0,p.Z)(function*(E,m,y){const D=Kn(E),R=yield tc(D,m,(0,G.m9)(y));return new sd(R,z=>Hu(D,z))})).apply(this,arguments)}function ol(E,m,y){return cr.apply(this,arguments)}function cr(){return(cr=(0,p.Z)(function*(E,m,y){const D=(0,G.m9)(E);yield Si(!1,D,"phone");const R=yield tc(D.auth,m,(0,G.m9)(y));return new sd(R,z=>Zu(D,z))})).apply(this,arguments)}function zt(E,m,y){return hi.apply(this,arguments)}function hi(){return(hi=(0,p.Z)(function*(E,m,y){const D=(0,G.m9)(E),R=yield tc(D.auth,m,(0,G.m9)(y));return new sd(R,z=>sr(D,z))})).apply(this,arguments)}function tc(E,m,y){return sl.apply(this,arguments)}function sl(){return sl=(0,p.Z)(function*(E,m,y){var D;const R=yield y.verify();try{let z;if(K("string"==typeof R,E,"argument-error"),K(y.type===id,E,"argument-error"),z="string"==typeof m?{phoneNumber:m}:m,"session"in z){const se=z.session;if("phoneNumber"in z)return K("enroll"===se.type,E,"internal-error"),(yield function Ju(E,m){return Ee(E,"POST","/v2/accounts/mfaEnrollment:start",ce(E,m))}(E,{idToken:se.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{K("signin"===se.type,E,"internal-error");const De=(null===(D=z.multiFactorHint)||void 0===D?void 0:D.uid)||z.multiFactorUid;return K(De,E,"missing-multi-factor-info"),(yield function hh(E,m){return Ee(E,"POST","/v2/accounts/mfaSignIn:start",ce(E,m))}(E,{mfaPendingCredential:se.credential,mfaEnrollmentId:De,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:se}=yield function At(E,m){return Pn.apply(this,arguments)}(E,{phoneNumber:z.phoneNumber,recaptchaToken:R});return se}}finally{y._reset()}}),sl.apply(this,arguments)}function xi(E,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,p.Z)(function*(E,m){yield yi((0,G.m9)(E),m)})).apply(this,arguments)}let pr=(()=>{class E{constructor(y){this.providerId=E.PROVIDER_ID,this.auth=Kn(y)}verifyPhoneNumber(y,D){return tc(this.auth,y,(0,G.m9)(D))}static credential(y,D){return rt._fromVerification(y,D)}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:D,temporaryProof:R}=y;return D&&R?rt._fromTokenResponse(D,R):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Hs(E,m){return m?Ye(m):(K(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Iu extends Na{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Co(m,this._buildIdpRequest())}_linkToIdToken(m,y){return Co(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return Co(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function qt(E){return fu(E.auth,new Iu(E),E.bypassAuthState)}function _h(E){const{auth:m,user:y}=E;return K(y,m,"internal-error"),la(y,new Iu(E),E.bypassAuthState)}function ad(E){return wa.apply(this,arguments)}function wa(){return(wa=(0,p.Z)(function*(E){const{auth:m,user:y}=E;return K(y,m,"internal-error"),yi(y,new Iu(E),E.bypassAuthState)})).apply(this,arguments)}class ms{constructor(m,y,D,R,z=!1){this.auth=m,this.resolver=D,this.user=R,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,p.Z)(function*(D,R){m.pendingPromise={resolve:D,reject:R};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(z){m.reject(z)}});return function(D,R){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,p.Z)(function*(){const{urlResponse:D,sessionId:R,postBody:z,tenantId:se,error:De,type:at}=m;if(De)return void y.reject(De);const dt={auth:y.auth,requestUri:D,sessionId:R,tenantId:se||void 0,postBody:z||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(at)(dt))}catch(kt){y.reject(kt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return qt;case"linkViaPopup":case"linkViaRedirect":return ad;case"reauthViaPopup":case"reauthViaRedirect":return _h;default:fe(this.auth,"internal-error")}}resolve(m){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _s=new gt(2e3,1e4);function Dr(E,m,y){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,p.Z)(function*(E,m,y){const D=Kn(E);Pe(E,m,ai);const R=Hs(D,y);return new Za(D,"signInViaPopup",m,R).executeNotNull()})).apply(this,arguments)}function nc(E,m,y){return bu.apply(this,arguments)}function bu(){return(bu=(0,p.Z)(function*(E,m,y){const D=(0,G.m9)(E);Pe(D.auth,m,ai);const R=Hs(D.auth,y);return new Za(D.auth,"reauthViaPopup",m,R,D).executeNotNull()})).apply(this,arguments)}function al(E,m,y){return ud.apply(this,arguments)}function ud(){return(ud=(0,p.Z)(function*(E,m,y){const D=(0,G.m9)(E);Pe(D.auth,m,ai);const R=Hs(D.auth,y);return new Za(D.auth,"linkViaPopup",m,R,D).executeNotNull()})).apply(this,arguments)}let Za=(()=>{class E extends ms{constructor(y,D,R,z,se){super(y,D,z,se),this.provider=R,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var y=this;return(0,p.Z)(function*(){const D=yield y.execute();return K(D,y.auth,"internal-error"),D})()}onExecution(){var y=this;return(0,p.Z)(function*(){Ke(1===y.filter.length,"Popup operations only handle one event");const D=Rt();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],D),y.authWindow.associatedEvent=D,y.resolver._originValidation(y.auth).catch(R=>{y.reject(R)}),y.resolver._isIframeWebStorageSupported(y.auth,R=>{R||y.reject(ke(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const y=()=>{var D,R;this.pollId=null!==(R=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==R&&R.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,_s.get())};y()}}return E.currentPopupAction=null,E})();const rc="pendingRedirect",Ao=new Map;class Du extends ms{constructor(m,y,D=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,D),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,p.Z)(function*(){let D=Ao.get(y.auth._key());if(!D){try{const z=(yield function cd(E,m){return ic.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;D=()=>Promise.resolve(z)}catch(R){D=()=>Promise.reject(R)}Ao.set(y.auth._key(),D)}return y.bypassAuthState||Ao.set(y.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,D=this;return(0,p.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(D,m);if("unknown"!==m.type){if(m.eventId){const R=yield D.auth._redirectUserForId(m.eventId);if(R)return D.user=R,y().call(D,m);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function ic(){return(ic=(0,p.Z)(function*(E,m){const y=yh(m),D=oo(E);if(!(yield D._isAvailable()))return!1;const R="true"===(yield D._get(y));return yield D._remove(y),R})).apply(this,arguments)}function ul(E,m){return oc.apply(this,arguments)}function oc(){return(oc=(0,p.Z)(function*(E,m){return oo(E)._set(yh(m),"true")})).apply(this,arguments)}function Ga(){Ao.clear()}function ld(E,m){Ao.set(E._key(),m)}function oo(E){return Ye(E._redirectPersistence)}function yh(E){return Sn(rc,E.config.apiKey,E.name)}function sc(E,m,y){return function zi(E,m,y){return Wr.apply(this,arguments)}(E,m,y)}function Wr(){return(Wr=(0,p.Z)(function*(E,m,y){const D=Kn(E);Pe(E,m,ai),yield D._initializationPromise;const R=Hs(D,y);return yield ul(R,D),R._openRedirect(D,m,"signInViaRedirect")})).apply(this,arguments)}function ys(E,m,y){return function Tu(E,m,y){return vi.apply(this,arguments)}(E,m,y)}function vi(){return(vi=(0,p.Z)(function*(E,m,y){const D=(0,G.m9)(E);Pe(D.auth,m,ai),yield D.auth._initializationPromise;const R=Hs(D.auth,y);yield ul(R,D.auth);const z=yield Ko(D);return R._openRedirect(D.auth,m,"reauthViaRedirect",z)})).apply(this,arguments)}function $i(E,m,y){return function ac(E,m,y){return cl.apply(this,arguments)}(E,m,y)}function cl(){return(cl=(0,p.Z)(function*(E,m,y){const D=(0,G.m9)(E);Pe(D.auth,m,ai),yield D.auth._initializationPromise;const R=Hs(D.auth,y);yield Si(!1,D,m.providerId),yield ul(R,D.auth);const z=yield Ko(D);return R._openRedirect(D.auth,m,"linkViaRedirect",z)})).apply(this,arguments)}function $f(E,m){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,p.Z)(function*(E,m){return yield Kn(E)._initializationPromise,Wa(E,m,!1)})).apply(this,arguments)}function Wa(E,m){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,p.Z)(function*(E,m,y=!1){const D=Kn(E),R=Hs(D,m),se=yield new Du(D,R,y).execute();return se&&!y&&(delete se.user._redirectEventId,yield D._persistUserIfCurrent(se.user),yield D._setRedirectUser(null,m)),se})).apply(this,arguments)}function Ko(E){return ll.apply(this,arguments)}function ll(){return(ll=(0,p.Z)(function*(E){const m=Rt(`${E.uid}:::`);return E._redirectEventId=m,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),m})).apply(this,arguments)}class Ea{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(m,D)&&(y=!0,this.sendToConsumer(m,D),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Su(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uc(E);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var D;if(m.error&&!uc(m)){const R=(null===(D=m.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";y.onError(ke(this.auth,R))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const D=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&D}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dl(m))}saveEventToCache(m){this.cachedEventUids.add(dl(m)),this.lastProcessedEventTime=Date.now()}}function dl(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(m=>m).join("-")}function uc({type:E,error:m}){return"unknown"===E&&"auth/no-auth-event"===m?.code}function cc(E){return Au.apply(this,arguments)}function Au(){return(Au=(0,p.Z)(function*(E,m={}){return Ee(E,"GET","/v1/projects",m)})).apply(this,arguments)}const un=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qa=/^https?/;function Ia(){return(Ia=(0,p.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:m}=yield cc(E);for(const y of m)try{if(vh(y))return}catch{}fe(E,"unauthorized-domain")})).apply(this,arguments)}function vh(E){const m=Pt(),{protocol:y,hostname:D}=new URL(m);if(E.startsWith("chrome-extension://")){const se=new URL(E);return""===se.hostname&&""===D?"chrome-extension:"===y&&E.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&se.hostname===D}if(!qa.test(y))return!1;if(un.test(E))return D===E;const R=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(D)}const Ka=new gt(3e4,6e4);function wi(){const E=Mn().___jsl;if(E?.H)for(const m of Object.keys(E.H))if(E.H[m].r=E.H[m].r||[],E.H[m].L=E.H[m].L||[],E.H[m].r=[...E.H[m].L],E.CP)for(let y=0;y<E.CP.length;y++)E.CP[y]=null}let qr=null;const Ch=new gt(5e3,15e3),vs="__/auth/iframe",Hf="emulator/auth/iframe",Zf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xu(E){const m=E.config;K(m.authDomain,E,"auth-domain-config-required");const y=m.emulator?on(m,Hf):`https://${E.config.authDomain}/${vs}`,D={apiKey:m.apiKey,appName:E.name,v:B.SDK_VERSION},R=lc.get(E.config.apiHost);R&&(D.eid=R);const z=E._getFrameworks();return z.length&&(D.fw=z.join(",")),`${y}?${(0,G.xO)(D).slice(1)}`}function Gs(){return Gs=(0,p.Z)(function*(E){const m=yield function Hi(E){return qr=qr||function wh(E){return new Promise((m,y)=>{var D,R,z;function se(){wi(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{wi(),y(ke(E,"network-request-failed"))},timeout:Ka.get()})}if(null!==(R=null===(D=Mn().gapi)||void 0===D?void 0:D.iframes)&&void 0!==R&&R.Iframe)m(gapi.iframes.getContext());else{if(null===(z=Mn().gapi)||void 0===z||!z.load){const De=ko("iframefcb");return Mn()[De]=()=>{gapi.load?se():y(ke(E,"network-request-failed"))},au(`https://apis.google.com/js/api.js?onload=${De}`).catch(at=>y(at))}se()}}).catch(m=>{throw qr=null,m})}(E),qr}(E),y=Mn().gapi;return K(y,E,"internal-error"),m.open({where:document.body,url:xu(E),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zf,dontclear:!0},D=>new Promise(function(){var R=(0,p.Z)(function*(z,se){yield D.restyle({setHideOnLeave:!1});const De=ke(E,"network-request-failed"),at=Mn().setTimeout(()=>{se(De)},Ch.get());function dt(){Mn().clearTimeout(at),z(D)}D.ping(dt).then(dt,()=>{se(De)})});return function(z,se){return R.apply(this,arguments)}}()))}),Gs.apply(this,arguments)}const I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ue{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ct="__/auth/handler",Mt="emulator/auth/handler",Kt=encodeURIComponent("fac");function Vt(E,m,y,D,R,z){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,p.Z)(function*(E,m,y,D,R,z){K(E.config.authDomain,E,"auth-domain-config-required"),K(E.config.apiKey,E,"invalid-api-key");const se={apiKey:E.config.apiKey,appName:E.name,authType:y,redirectUrl:D,v:B.SDK_VERSION,eventId:R};if(m instanceof ai){m.setDefaultLanguage(E.languageCode),se.providerId=m.providerId||"",(0,G.xb)(m.getCustomParameters())||(se.customParameters=JSON.stringify(m.getCustomParameters()));for(const[kt,bn]of Object.entries(z||{}))se[kt]=bn}if(m instanceof ui){const kt=m.getScopes().filter(bn=>""!==bn);kt.length>0&&(se.scopes=kt.join(","))}E.tenantId&&(se.tid=E.tenantId);const De=se;for(const kt of Object.keys(De))void 0===De[kt]&&delete De[kt];const at=yield E._getAppCheckToken(),dt=at?`#${Kt}=${encodeURIComponent(at)}`:"";return`${function Br({config:E}){return E.emulator?on(E,Mt):`https://${E.authDomain}/${ct}`}(E)}?${(0,G.xO)(De).slice(1)}${dt}`})).apply(this,arguments)}const gr="webStorageSupport",so=class dc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=be,this._completeRedirectFn=Wa,this._overrideRedirectResult=ld}_openPopup(m,y,D,R){var z=this;return(0,p.Z)(function*(){var se;Ke(null===(se=z.eventManagers[m._key()])||void 0===se?void 0:se.manager,"_initialize() not called before _openPopup()");const De=yield Vt(m,y,D,Pt(),R);return function Me(E,m,y,D=500,R=600){const z=Math.max((window.screen.availHeight-R)/2,0).toString(),se=Math.max((window.screen.availWidth-D)/2,0).toString();let De="";const at=Object.assign(Object.assign({},I),{width:D.toString(),height:R.toString(),top:z,left:se}),dt=(0,G.z$)().toLowerCase();y&&(De=U(dt)?"_blank":y),$(dt)&&(m=m||"http://localhost",at.scrollbars="yes");const kt=Object.entries(at).reduce((Zi,[ws,Xa])=>`${Zi}${ws}=${Xa},`,"");if(function Zt(E=(0,G.z$)()){var m;return ht(E)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(dt)&&"_self"!==De)return function lt(E,m){const y=document.createElement("a");y.href=E,y.target=m;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(D)}(m||"",De),new ue(null);const bn=window.open(m||"",De,kt);K(bn,E,"popup-blocked");try{bn.focus()}catch{}return new ue(bn)}(m,De,Rt())})()}_openRedirect(m,y,D,R){var z=this;return(0,p.Z)(function*(){return yield z._originValidation(m),function ur(E){Mn().location.href=E}(yield Vt(m,y,D,Pt(),R)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:R,promise:z}=this.eventManagers[y];return R?Promise.resolve(R):(Ke(z,"If manager is not set, promise should be"),z)}const D=this.initAndGetManager(m);return this.eventManagers[y]={promise:D},D.catch(()=>{delete this.eventManagers[y]}),D}initAndGetManager(m){var y=this;return(0,p.Z)(function*(){const D=yield function Ya(E){return Gs.apply(this,arguments)}(m),R=new Ea(m);return D.register("authEvent",z=>(K(z?.authEvent,m,"invalid-auth-event"),{status:R.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:R},y.iframes[m._key()]=D,R})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(gr,{type:gr},R=>{var z;const se=null===(z=R?.[0])||void 0===z?void 0:z[gr];void 0!==se&&y(!!se),fe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Mu(E){return Ia.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return Yt()||H()||ht()}};class Mo{constructor(m){this.factorId=m}_process(m,y,D){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,D);case"signin":return this._finalizeSignIn(m,y.credential);default:return je("unexpected MultiFactorSessionType")}}}class Sr extends Mo{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Sr(m)}_finalizeEnroll(m,y,D){return function _a(E,m){return Ee(E,"POST","/v2/accounts/mfaEnrollment:finalize",ce(E,m))}(m,{idToken:y,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function nd(E,m){return Ee(E,"POST","/v2/accounts/mfaSignIn:finalize",ce(E,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qa=(()=>{class E{constructor(){}static assertion(y){return Sr._fromCredential(y)}}return E.FACTOR_ID="phone",E})();var Ey="@firebase/auth";class aC{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,p.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(D=>{m(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);y&&(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Iy=(0,G.Pz)("authIdTokenMaxAge")||300;let Ih=null;const by=E=>function(){var m=(0,p.Z)(function*(y){const D=y&&(yield y.getIdTokenResult()),R=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(R&&R>Iy)return;const z=D?.token;Ih!==z&&(Ih=z,yield fetch(E,{method:z?"POST":"DELETE",headers:z?{Authorization:`Bearer ${z}`}:{}}))});return function(y){return m.apply(this,arguments)}}();function hc(E=(0,B.getApp)()){const m=(0,B._getProvider)(E,"auth");if(m.isInitialized())return m.getImmediate();const y=function wo(E,m){const y=(0,B._getProvider)(E,"auth");if(y.isInitialized()){const R=y.getImmediate(),z=y.getOptions();if((0,G.vZ)(z,m??{}))return R;fe(R,"already-initialized")}return y.initialize({options:m})}(E,{popupRedirectResolver:so,persistence:[fs,J,be]}),D=(0,G.Pz)("authTokenSyncURL");if(D){const z=by(D);(function Cu(E,m,y){(0,G.m9)(E).beforeAuthStateChanged(m,y)})(y,z,()=>z(y.currentUser)),function Ho(E,m,y,D){(0,G.m9)(E).onIdTokenChanged(m,y,D)}(y,se=>z(se))}const R=(0,G.q4)("auth");return R&&nn(y,`http://${R}`),y}!function Gf(E){(0,B._registerComponent)(new ge.wA("auth",(m,{options:y})=>{const D=m.getProvider("app").getImmediate(),R=m.getProvider("heartbeat"),z=m.getProvider("app-check-internal"),{apiKey:se,authDomain:De}=D.options;K(se&&!se.includes(":"),"invalid-api-key",{appName:D.name});const at={apiKey:se,authDomain:De,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xs(E)},dt=new Hn(D,R,z,at);return function Hc(E,m){const y=m?.persistence||[],D=(Array.isArray(y)?y:[y]).map(Ye);m?.errorMap&&E._updateErrorMap(m.errorMap),E._initializeWithPersistence(D,m?.popupRedirectResolver)}(dt,y),dt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,D)=>{m.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new ge.wA("auth-internal",m=>{const y=Kn(m.getProvider("auth").getImmediate());return new aC(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(Ey,"0.23.2",function Yo(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,B.registerVersion)(Ey,"0.23.2","esm2017")}("Browser")},9058:(Tt,Fe,k)=>{"use strict";k.d(Fe,{$s:()=>Ye,BH:()=>we,G6:()=>on,L:()=>ye,LL:()=>qe,P0:()=>vt,Pz:()=>ke,Sg:()=>Pe,UG:()=>je,US:()=>ge,ZB:()=>le,ZR:()=>Ee,aH:()=>fe,b$:()=>Gt,eu:()=>Ce,hl:()=>pe,jU:()=>Ke,m9:()=>Sn,ne:()=>ln,pd:()=>Nt,q4:()=>Et,r3:()=>En,ru:()=>Pt,tV:()=>q,uI:()=>K,vZ:()=>$n,w1:()=>Ct,xO:()=>ki,xb:()=>mi,z$:()=>Be,zI:()=>ve,zd:()=>Ot});const te=function(Q){const Y=[];let $=0;for(let H=0;H<Q.length;H++){let U=Q.charCodeAt(H);U<128?Y[$++]=U:U<2048?(Y[$++]=U>>6|192,Y[$++]=63&U|128):55296==(64512&U)&&H+1<Q.length&&56320==(64512&Q.charCodeAt(H+1))?(U=65536+((1023&U)<<10)+(1023&Q.charCodeAt(++H)),Y[$++]=U>>18|240,Y[$++]=U>>12&63|128,Y[$++]=U>>6&63|128,Y[$++]=63&U|128):(Y[$++]=U>>12|224,Y[$++]=U>>6&63|128,Y[$++]=63&U|128)}return Y},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,Y){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let U=0;U<Q.length;U+=3){const oe=Q[U],he=U+1<Q.length,it=he?Q[U+1]:0,Ht=U+2<Q.length,ht=Ht?Q[U+2]:0;let Fn=(15&it)<<2|ht>>6,Yt=63&ht;Ht||(Yt=64,he||(Fn=64)),H.push($[oe>>2],$[(3&oe)<<4|it>>4],$[Fn],$[Yt])}return H.join("")},encodeString(Q,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(Q):this.encodeByteArray(te(Q),Y)},decodeString(Q,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(Q):function(Q){const Y=[];let $=0,H=0;for(;$<Q.length;){const U=Q[$++];if(U<128)Y[H++]=String.fromCharCode(U);else if(U>191&&U<224){const oe=Q[$++];Y[H++]=String.fromCharCode((31&U)<<6|63&oe)}else if(U>239&&U<365){const Ht=((7&U)<<18|(63&Q[$++])<<12|(63&Q[$++])<<6|63&Q[$++])-65536;Y[H++]=String.fromCharCode(55296+(Ht>>10)),Y[H++]=String.fromCharCode(56320+(1023&Ht))}else{const oe=Q[$++],he=Q[$++];Y[H++]=String.fromCharCode((15&U)<<12|(63&oe)<<6|63&he)}}return Y.join("")}(this.decodeStringToByteArray(Q,Y))},decodeStringToByteArray(Q,Y){this.init_();const $=Y?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let U=0;U<Q.length;){const oe=$[Q.charAt(U++)],it=U<Q.length?$[Q.charAt(U)]:0;++U;const ht=U<Q.length?$[Q.charAt(U)]:64;++U;const Zt=U<Q.length?$[Q.charAt(U)]:64;if(++U,null==oe||null==it||null==ht||null==Zt)throw new Ae;H.push(oe<<2|it>>4),64!==ht&&(H.push(it<<4&240|ht>>2),64!==Zt&&H.push(ht<<6&192|Zt))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(Q){return function(Q){const Y=te(Q);return ge.encodeByteArray(Y,!0)}(Q).replace(/\./g,"")},q=function(Q){try{return ge.decodeString(Q,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function le(Q,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return Y}for(const $ in Y)!Y.hasOwnProperty($)||!Oe($)||(Q[$]=le(Q[$],Y[$]));return Q}function Oe(Q){return"__proto__"!==Q}const Ue=()=>{try{return function $e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Q=process.env.__FIREBASE_DEFAULTS__;return Q?JSON.parse(Q):void 0})()||(()=>{if(typeof document>"u")return;let Q;try{Q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Y=Q&&q(Q[1]);return Y&&JSON.parse(Y)})()}catch(Q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Q}`)}},Et=Q=>{var Y,$;return null===($=null===(Y=Ue())||void 0===Y?void 0:Y.emulatorHosts)||void 0===$?void 0:$[Q]},vt=Q=>{const Y=Et(Q);if(!Y)return;const $=Y.lastIndexOf(":");if($<=0||$+1===Y.length)throw new Error(`Invalid host ${Y} with no separate hostname and port!`);const H=parseInt(Y.substring($+1),10);return"["===Y[0]?[Y.substring(1,$-1),H]:[Y.substring(0,$),H]},fe=()=>{var Q;return null===(Q=Ue())||void 0===Q?void 0:Q.config},ke=Q=>{var Y;return null===(Y=Ue())||void 0===Y?void 0:Y[`_${Q}`]};class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,$)=>{this.resolve=Y,this.reject=$})}wrapCallback(Y){return($,H)=>{$?this.reject($):this.resolve(H),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y($):Y($,H))}}}function Pe(Q,Y){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=Y||"demo-project",U=Q.iat||0,oe=Q.sub||Q.user_id;if(!oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const he=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:U,exp:U+3600,auth_time:U,sub:oe,user_id:oe,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(he)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function je(){var Q;const Y=null===(Q=Ue())||void 0===Q?void 0:Q.forceEnvironment;if("node"===Y)return!0;if("browser"===Y)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ke(){return"object"==typeof self&&self.self===self}function Pt(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function Gt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ct(){const Q=Be();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function on(){return!je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ce(){return new Promise((Q,Y)=>{try{let $=!0;const H="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(H);U.onsuccess=()=>{U.result.close(),$||self.indexedDB.deleteDatabase(H),Q(!0)},U.onupgradeneeded=()=>{$=!1},U.onerror=()=>{var oe;Y((null===(oe=U.error)||void 0===oe?void 0:oe.message)||"")}}catch($){Y($)}})}function ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ee extends Error{constructor(Y,$,H){super($),this.code=Y,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qe.prototype.create)}}class qe{constructor(Y,$,H){this.service=Y,this.serviceName=$,this.errors=H}create(Y,...$){const H=$[0]||{},U=`${this.service}/${Y}`,oe=this.errors[Y],he=oe?function tt(Q,Y){return Q.replace(nt,($,H)=>{const U=Y[H];return null!=U?String(U):`<${H}?>`})}(oe,H):"Error";return new Ee(U,`${this.serviceName}: ${he} (${U}).`,H)}}const nt=/\{\$([^}]+)}/g;function En(Q,Y){return Object.prototype.hasOwnProperty.call(Q,Y)}function mi(Q){for(const Y in Q)if(Object.prototype.hasOwnProperty.call(Q,Y))return!1;return!0}function $n(Q,Y){if(Q===Y)return!0;const $=Object.keys(Q),H=Object.keys(Y);for(const U of $){if(!H.includes(U))return!1;const oe=Q[U],he=Y[U];if(Xn(oe)&&Xn(he)){if(!$n(oe,he))return!1}else if(oe!==he)return!1}for(const U of H)if(!$.includes(U))return!1;return!0}function Xn(Q){return null!==Q&&"object"==typeof Q}function ki(Q){const Y=[];for(const[$,H]of Object.entries(Q))Array.isArray(H)?H.forEach(U=>{Y.push(encodeURIComponent($)+"="+encodeURIComponent(U))}):Y.push(encodeURIComponent($)+"="+encodeURIComponent(H));return Y.length?"&"+Y.join("&"):""}function Ot(Q){const Y={};return Q.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[U,oe]=H.split("=");Y[decodeURIComponent(U)]=decodeURIComponent(oe)}}),Y}function Nt(Q){const Y=Q.indexOf("?");if(!Y)return"";const $=Q.indexOf("#",Y);return Q.substring(Y,$>0?$:void 0)}function ln(Q,Y){const $=new mr(Q,Y);return $.subscribe.bind($)}class mr{constructor(Y,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{Y(this)}).catch(H=>{this.error(H)})}next(Y){this.forEachObserver($=>{$.next(Y)})}error(Y){this.forEachObserver($=>{$.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,$,H){let U;if(void 0===Y&&void 0===$&&void 0===H)throw new Error("Missing Observer.");U=function tn(Q,Y){if("object"!=typeof Q||null===Q)return!1;for(const $ of Y)if($ in Q&&"function"==typeof Q[$])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:$,complete:H},void 0===U.next&&(U.next=Gn),void 0===U.error&&(U.error=Gn),void 0===U.complete&&(U.complete=Gn);const oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch{}}),this.observers.push(U),oe}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,Y)}sendOne(Y,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{$(this.observers[Y])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gn(){}const rr=1e3,Te=2,ee=144e5,xe=.5;function Ye(Q,Y=rr,$=Te){const H=Y*Math.pow($,Q),U=Math.round(xe*H*(Math.random()-.5)*2);return Math.min(ee,H+U)}function Sn(Q){return Q&&Q._delegate?Q._delegate:Q}},9558:(Tt,Fe,k)=>{"use strict";var p=k(5879);let G=null;function B(){return G}class me{}const ge=new p.OlP("DocumentToken");let Ae=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:function(){return(0,p.f3M)(ye)},providedIn:"platform"}),e})();const Re=new p.OlP("Location Initialized");let ye=(()=>{var t;class e extends Ae{constructor(){super(),this._doc=(0,p.f3M)(ge),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(r){const s=B().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",r,!1),()=>s.removeEventListener("popstate",r)}onHashChange(r){const s=B().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",r,!1),()=>s.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,s,c){this._history.pushState(r,s,c)}replaceState(r,s,c){this._history.replaceState(r,s,c)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function q(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function X(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function le(t){return t&&"?"!==t[0]?"?"+t:t}let Oe=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:function(){return(0,p.f3M)(ut)},providedIn:"root"}),e})();const $e=new p.OlP("appBaseHref");let ut=(()=>{var t;class e extends Oe{constructor(r,s){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return q(this._baseHref,r)}path(r=!1){const s=this._platformLocation.pathname+le(this._platformLocation.search),c=this._platformLocation.hash;return c&&r?`${s}${c}`:s}pushState(r,s,c,d){const _=this.prepareExternalUrl(c+le(d));this._platformLocation.pushState(r,s,_)}replaceState(r,s,c,d){const _=this.prepareExternalUrl(c+le(d));this._platformLocation.replaceState(r,s,_)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(Ae),p.LFG($e,8))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),He=(()=>{var t;class e extends Oe{constructor(r,s){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(r){const s=q(this._baseHref,r);return s.length>0?"#"+s:s}pushState(r,s,c,d){let _=this.prepareExternalUrl(c+le(d));0==_.length&&(_=this._platformLocation.pathname),this._platformLocation.pushState(r,s,_)}replaceState(r,s,c,d){let _=this.prepareExternalUrl(c+le(d));0==_.length&&(_=this._platformLocation.pathname),this._platformLocation.replaceState(r,s,_)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(Ae),p.LFG($e,8))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})(),Je=(()=>{var t;class e{constructor(r){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const s=this._locationStrategy.getBaseHref();this._basePath=function fe(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(X(vt(s))),this._locationStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,s=""){return this.path()==this.normalize(r+le(s))}normalize(r){return e.stripTrailingSlash(function Et(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,vt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,s="",c=null){this._locationStrategy.pushState(c,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+le(s)),c)}replaceState(r,s="",c=null){this._locationStrategy.replaceState(c,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+le(s)),c)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",s){this._urlChangeListeners.forEach(c=>c(r,s))}subscribe(r,s,c){return this._subject.subscribe({next:r,error:s,complete:c})}}return(t=e).normalizeQueryParams=le,t.joinWithSlash=q,t.stripTrailingSlash=X,t.\u0275fac=function(r){return new(r||t)(p.LFG(Oe))},t.\u0275prov=p.Yz7({token:t,factory:function(){return function Ue(){return new Je((0,p.LFG)(Oe))}()},providedIn:"root"}),e})();function vt(t){return t.replace(/\/index.html$/,"")}class _n{constructor(e,n,r,s){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hn=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,s,c){this._viewContainer=r,this._template=s,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const s=this._viewContainer;r.forEachOperation((c,d,_)=>{if(null==c.previousIndex)s.createEmbeddedView(this._template,new _n(c.item,this._ngForOf,-1,-1),null===_?void 0:_);else if(null==_)s.remove(null===d?void 0:d);else if(null!==d){const b=s.get(d);s.move(b,_),Kn(b,c)}});for(let c=0,d=s.length;c<d;c++){const b=s.get(c).context;b.index=c,b.count=d,b.ngForOf=this._ngForOf}r.forEachIdentityChange(c=>{Kn(s.get(c.currentIndex),c)})}static ngTemplateContextGuard(r,s){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},t.\u0275dir=p.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Kn(t,e){t.context.$implicit=e.item}let wo=(()=>{var t;class e{constructor(r,s){this._viewContainer=r,this._context=new Hc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){nn("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){nn("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,s){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(p.s_b),p.Y36(p.Rgc))},t.\u0275dir=p.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Hc{constructor(){this.$implicit=null,this.ngIf=null}}function nn(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,p.AaK)(e)}'.`)}let or=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({}),e})();function Zr(t){return"server"===t}let ui=(()=>{var t;class e{}return(t=e).\u0275prov=(0,p.Yz7)({token:t,providedIn:"root",factory:()=>new jo((0,p.LFG)(ge),window)}),e})();class jo{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function lu(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const c=s.shadowRoot;if(c){const d=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(d)return d}s=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,s=n.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],s-c[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Qc extends me{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $o extends Qc{static makeCurrent(){!function te(t){G||(G=t)}(new $o)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Ql(){return pa=pa||document.querySelector("base"),pa?pa.getAttribute("href"):null}();return null==n?null:function Ho(t){Xu=Xu||document.createElement("a"),Xu.setAttribute("href",t);const e=Xu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Pa(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[s,c]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(s.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let Xu,pa=null,Xl=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();const zs=new p.OlP("EventManagerPlugins");let Jl=(()=>{var t;class e{constructor(r,s){this._zone=s,this._eventNameToPlugin=new Map,r.forEach(c=>{c.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,s,c){return this._findPluginFor(s).addEventListener(r,s,c)}getZone(){return this._zone}_findPluginFor(r){let s=this._eventNameToPlugin.get(r);if(s)return s;if(s=this._plugins.find(d=>d.supports(r)),!s)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(r,s),s}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(zs),p.LFG(p.R0b))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();class $s{constructor(e){this._doc=e}}const Zo="ng-app-id";let ja=(()=>{var t;class e{constructor(r,s,c,d={}){this.doc=r,this.appId=s,this.nonce=c,this.platformId=d,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zr(d),this.resetHostNodes()}addStyles(r){for(const s of r)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(r){for(const s of r)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(s=>s.remove()),r.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const s of this.getAllStyles())this.addStyleToHost(r,s)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const s of this.hostNodes)this.addStyleToHost(s,r)}onStyleRemoved(r){const s=this.styleRef;s.get(r)?.elements?.forEach(c=>c.remove()),s.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Zo}="${this.appId}"]`);if(r?.length){const s=new Map;return r.forEach(c=>{null!=c.textContent&&s.set(c.textContent,c)}),s}return null}changeUsageCount(r,s){const c=this.styleRef;if(c.has(r)){const d=c.get(r);return d.usage+=s,d.usage}return c.set(r,{usage:s,elements:[]}),s}getStyleElement(r,s){const c=this.styleNodesInDOM,d=c?.get(s);if(d?.parentNode===r)return c.delete(s),d.removeAttribute(Zo),d;{const _=this.doc.createElement("style");return this.nonce&&_.setAttribute("nonce",this.nonce),_.textContent=s,this.platformIsServer&&_.setAttribute(Zo,this.appId),_}}addStyleToHost(r,s){const c=this.getStyleElement(r,s);r.appendChild(c);const d=this.styleRef,_=d.get(s)?.elements;_?_.push(c):d.set(s,{elements:[c],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(ge),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();const Ui={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ga=/%COMP%/g,Ai=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function On(t,e){return e.map(n=>n.replace(ga,t))}let $a=(()=>{var t;class e{constructor(r,s,c,d,_,b,A,N=null){this.eventManager=r,this.sharedStylesHost=s,this.appId=c,this.removeStylesOnCompDestroy=d,this.doc=_,this.platformId=b,this.ngZone=A,this.nonce=N,this.rendererByCompId=new Map,this.platformIsServer=Zr(b),this.defaultRenderer=new u(r,_,A,this.platformIsServer)}createRenderer(r,s){if(!r||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===p.ifc.ShadowDom&&(s={...s,encapsulation:p.ifc.Emulated});const c=this.getOrCreateRenderer(r,s);return c instanceof J?c.applyToHost(r):c instanceof V&&c.applyStyles(),c}getOrCreateRenderer(r,s){const c=this.rendererByCompId;let d=c.get(s.id);if(!d){const _=this.doc,b=this.ngZone,A=this.eventManager,N=this.sharedStylesHost,j=this.removeStylesOnCompDestroy,ne=this.platformIsServer;switch(s.encapsulation){case p.ifc.Emulated:d=new J(A,N,s,this.appId,j,_,b,ne);break;case p.ifc.ShadowDom:return new x(A,N,r,s,_,b,this.nonce,ne);default:d=new V(A,N,s,j,_,b,ne)}c.set(s.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(Jl),p.LFG(ja),p.LFG(p.AFp),p.LFG(Ai),p.LFG(ge),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();class u{constructor(e,n,r,s){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ui[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(T(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(T(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new p.vHH(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,s){if(s){n=s+":"+n;const c=Ui[s];c?e.setAttributeNS(c,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const s=Ui[r];s?e.removeAttributeNS(s,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,s){s&(p.JOm.DashCase|p.JOm.Important)?e.style.setProperty(n,r,s&p.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&p.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=B().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function T(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class x extends u{constructor(e,n,r,s,c,d,_,b){super(e,c,d,b),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const A=On(s.id,s.styles);for(const N of A){const j=document.createElement("style");_&&j.setAttribute("nonce",_),j.textContent=N,this.shadowRoot.appendChild(j)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class V extends u{constructor(e,n,r,s,c,d,_,b){super(e,c,d,_),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=s,this.styles=b?On(b,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class J extends V{constructor(e,n,r,s,c,d,_,b){const A=s+"-"+r.id;super(e,n,r,c,d,_,b,A),this.contentAttr=function Xc(t){return"_ngcontent-%COMP%".replace(ga,t)}(A),this.hostAttr=function za(t){return"_nghost-%COMP%".replace(ga,t)}(A)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let _e=(()=>{var t;class e extends $s{constructor(r){super(r)}supports(r){return!0}addEventListener(r,s,c){return r.addEventListener(s,c,!1),()=>this.removeEventListener(r,s,c)}removeEventListener(r,s,c){return r.removeEventListener(s,c)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(ge))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();const be=["alt","control","meta","shift"],Ge={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Rt=(()=>{var t;class e extends $s{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,s,c){const d=e.parseEventName(s),_=e.eventCallback(d.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(r,d.domEventName,_))}static parseEventName(r){const s=r.toLowerCase().split("."),c=s.shift();if(0===s.length||"keydown"!==c&&"keyup"!==c)return null;const d=e._normalizeKey(s.pop());let _="",b=s.indexOf("code");if(b>-1&&(s.splice(b,1),_="code."),be.forEach(N=>{const j=s.indexOf(N);j>-1&&(s.splice(j,1),_+=N+".")}),_+=d,0!=s.length||0===d.length)return null;const A={};return A.domEventName=c,A.fullKey=_,A}static matchEventFullKeyCode(r,s){let c=Ge[r.key]||r.key,d="";return s.indexOf("code.")>-1&&(c=r.code,d="code."),!(null==c||!c)&&(c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),be.forEach(_=>{_!==c&&(0,yt[_])(r)&&(d+=_+".")}),d+=c,d===s)}static eventCallback(r,s,c){return d=>{e.matchEventFullKeyCode(d,r)&&c.runGuarded(()=>s(d))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(ge))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();const Pr=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function St(){$o.makeCurrent()},multi:!0},{provide:ge,useFactory:function lh(){return(0,p.RDi)(document),document},deps:[]}]),Jc=new p.OlP(""),br=[{provide:p.rWj,useClass:class Cu{addToWindow(e){p.dqk.getAngularTestability=(r,s=!0)=>{const c=e.findTestabilityInTree(r,s);if(null==c)throw new p.vHH(5103,!1);return c},p.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(r=>{const s=p.dqk.getAllAngularTestabilities();let c=s.length,d=!1;const _=function(b){d=d||b,c--,0==c&&r(d)};s.forEach(b=>{b.whenStable(_)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?B().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],Wo=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function Go(){return new p.qLn},deps:[]},{provide:zs,useClass:_e,multi:!0,deps:[ge,p.R0b,p.Lbi]},{provide:zs,useClass:Rt,multi:!0,deps:[ge]},$a,ja,Jl,{provide:p.FYo,useExisting:$a},{provide:class Ti{},useClass:Xl,deps:[]},[]];let Yn=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:p.AFp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(Jc,12))},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[...Wo,...br],imports:[or,p.hGG]}),e})(),ze=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(ge))},t.\u0275prov=p.Yz7({token:t,factory:function(r){let s=null;return s=r?new r:function tl(){return new ze((0,p.LFG)(ge))}(),s},providedIn:"root"}),e})();typeof window<"u"&&window;var io=k(5592),va=k(4674),cr=k(2459),zt=k(2096),hi=k(5619);const{isArray:tc}=Array,{getPrototypeOf:sl,prototype:xi,keys:qo}=Object;function pr(t){if(1===t.length){const e=t[0];if(tc(e))return{args:e,keys:null};if(function Hs(t){return t&&"object"==typeof t&&sl(t)===xi}(e)){const n=qo(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}var Iu=k(2737),qt=k(7398);const{isArray:_h}=Array;function wa(t){return(0,qt.U)(e=>function ad(t,e){return _h(e)?t(...e):t(e)}(t,e))}var ms=k(4564);function _s(t,e){return t.reduce((n,r,s)=>(n[r]=e[s],n),{})}var Dr=k(8251),Ca=k(7103);function nc(...t){const e=(0,ms.yG)(t),n=(0,ms.jO)(t),{args:r,keys:s}=pr(t);if(0===r.length)return(0,cr.D)([],e);const c=new io.y(function bu(t,e,n=Iu.y){return r=>{al(e,()=>{const{length:s}=t,c=new Array(s);let d=s,_=s;for(let b=0;b<s;b++)al(e,()=>{const A=(0,cr.D)(t[b],e);let N=!1;A.subscribe((0,Dr.x)(r,j=>{c[b]=j,N||(N=!0,_--),_||r.next(n(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,s?d=>_s(s,d):Iu.y));return n?c.pipe(wa(n)):c}function al(t,e,n){t?(0,Ca.f)(n,t,e):e()}const Za=(0,k(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var rc=k(7537);function Du(...t){return function Ao(){return(0,rc.J)(1)}()((0,cr.D)(t,(0,ms.yG)(t)))}var cd=k(4829);function ic(t){return new io.y(e=>{(0,cd.Xf)(t()).subscribe(e)})}var ul=k(8407);function oc(t,e){const n=(0,va.m)(t)?t:()=>t,r=s=>s.error(n());return new io.y(e?s=>e.schedule(r,0,s):r)}var Ga=k(6232),ld=k(7394),oo=k(9360);function yh(){return(0,oo.e)((t,e)=>{let n=null;t._refCount++;const r=(0,Dr.x)(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const s=t._connection,c=n;n=null,s&&(!c||s===c)&&s.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class sc extends io.y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,oo.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ld.w0;const n=this.getSubject();e.add(this.source.subscribe((0,Dr.x)(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ld.w0.EMPTY)}return e}refCount(){return yh()(this)}}var zi=k(8645),Wr=k(4664);function ys(t){return t<=0?()=>Ga.E:(0,oo.e)((e,n)=>{let r=0;e.subscribe((0,Dr.x)(n,s=>{++r<=t&&(n.next(s),t<=r&&n.complete())}))})}function Tu(...t){const e=(0,ms.yG)(t);return(0,oo.e)((n,r)=>{(e?Du(t,n,e):Du(t,n)).subscribe(r)})}function vi(t,e){return(0,oo.e)((n,r)=>{let s=0;n.subscribe((0,Dr.x)(r,c=>t.call(e,c,s++)&&r.next(c)))})}var $i=k(1631);function ac(t){return(0,oo.e)((e,n)=>{let r=!1;e.subscribe((0,Dr.x)(n,s=>{r=!0,n.next(s)},()=>{r||n.next(t),n.complete()}))})}function cl(t=$f){return(0,oo.e)((e,n)=>{let r=!1;e.subscribe((0,Dr.x)(n,s=>{r=!0,n.next(s)},()=>r?n.complete():n.error(t())))})}function $f(){return new Za}function Vr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?vi((s,c)=>t(s,c,r)):Iu.y,ys(1),n?ac(e):cl(()=>new Za))}function Wa(t,e){return(0,va.m)(e)?(0,$i.z)(t,e,1):(0,$i.z)(t,1)}var Tr=k(9397);function Ko(t){return(0,oo.e)((e,n)=>{let c,r=null,s=!1;r=e.subscribe((0,Dr.x)(n,void 0,void 0,d=>{c=(0,cd.Xf)(t(d,Ko(t)(e))),r?(r.unsubscribe(),r=null,c.subscribe(n)):s=!0})),s&&(r.unsubscribe(),r=null,c.subscribe(n))})}function Zs(t,e){return(0,oo.e)(function ll(t,e,n,r,s){return(c,d)=>{let _=n,b=e,A=0;c.subscribe((0,Dr.x)(d,N=>{const j=A++;b=_?t(b,N,j):(_=!0,N),r&&d.next(b)},s&&(()=>{_&&d.next(b),d.complete()})))}}(t,e,arguments.length>=2,!0))}function Ea(t){return t<=0?()=>Ga.E:(0,oo.e)((e,n)=>{let r=[];e.subscribe((0,Dr.x)(n,s=>{r.push(s),t<r.length&&r.shift()},()=>{for(const s of r)n.next(s);n.complete()},void 0,()=>{r=null}))})}function Su(t){return(0,oo.e)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}var cc=k(2420);const un="primary",qa=Symbol("RouteTitle");class Mu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ia(t){return new Mu(t)}function vh(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const s={};for(let c=0;c<r.length;c++){const d=r[c],_=t[c];if(d.startsWith(":"))s[d.substring(1)]=_;else if(d!==_.path)return null}return{consumed:t.slice(0,r.length),posParams:s}}function wi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let s;for(let c=0;c<n.length;c++)if(s=n[c],!wh(t[s],e[s]))return!1;return!0}function wh(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((s,c)=>r[c]===s)}return t===e}function qr(t){return t.length>0?t[t.length-1]:null}function Hi(t){return function ol(t){return!!t&&(t instanceof io.y||(0,va.m)(t.lift)&&(0,va.m)(t.subscribe))}(t)?t:(0,p.QGY)(t)?(0,cr.D)(Promise.resolve(t)):(0,zt.of)(t)}const Ch={exact:function lc(t,e,n){if(!ue(t.segments,e.segments)||!I(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!lc(t.children[r],e.children[r],n))return!1;return!0},subset:Ya},vs={exact:function Zf(t,e){return wi(t,e)},subset:function xu(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>wh(t[n],e[n]))},ignored:()=>!0};function Hf(t,e,n){return Ch[n.paths](t.root,e.root,n.matrixParams)&&vs[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Ya(t,e,n){return Gs(t,e,e.segments,n)}function Gs(t,e,n,r){if(t.segments.length>n.length){const s=t.segments.slice(0,n.length);return!(!ue(s,n)||e.hasChildren()||!I(s,n,r))}if(t.segments.length===n.length){if(!ue(t.segments,n)||!I(t.segments,n,r))return!1;for(const s in e.children)if(!t.children[s]||!Ya(t.children[s],e.children[s],r))return!1;return!0}{const s=n.slice(0,t.segments.length),c=n.slice(t.segments.length);return!!(ue(t.segments,s)&&I(t.segments,s,r)&&t.children[un])&&Gs(t.children[un],e,c,r)}}function I(t,e,n){return e.every((r,s)=>vs[n](t[s].parameters,r.parameters))}class M{constructor(e=new O([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ia(this.queryParams)),this._queryParamMap}toString(){return Mt.serialize(this)}}class O{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kt(this)}}class Z{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ia(this.parameters)),this._parameterMap}toString(){return Sr(this)}}function ue(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let lt=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:function(){return new ct},providedIn:"root"}),e})();class ct{parse(e){const n=new fl(e);return new M(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Vt(e.root,!0)}`,r=function Cy(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(s=>`${Br(n)}=${Br(s)}`).join("&"):`${Br(n)}=${Br(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function gr(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Mt=new ct;function Kt(t){return t.segments.map(e=>Sr(e)).join("/")}function Vt(t,e){if(!t.hasChildren())return Kt(t);if(e){const n=t.children[un]?Vt(t.children[un],!1):"",r=[];return Object.entries(t.children).forEach(([s,c])=>{s!==un&&r.push(`${s}:${Vt(c,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Me(t,e){let n=[];return Object.entries(t.children).forEach(([r,s])=>{r===un&&(n=n.concat(e(s,r)))}),Object.entries(t.children).forEach(([r,s])=>{r!==un&&(n=n.concat(e(s,r)))}),n}(t,(r,s)=>s===un?[Vt(t.children[un],!1)]:[`${s}:${Vt(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[un]?`${Kt(t)}/${n[0]}`:`${Kt(t)}/(${n.join("//")})`}}function Pi(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Br(t){return Pi(t).replace(/%3B/gi,";")}function dc(t){return Pi(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function so(t){return decodeURIComponent(t)}function Mo(t){return so(t.replace(/\+/g,"%20"))}function Sr(t){return`${dc(t.path)}${function Qa(t){return Object.keys(t).map(e=>`;${dc(e)}=${dc(t[e])}`).join("")}(t.parameters)}`}const hl=/^[^\/()?;#]+/;function Pu(t){const e=t.match(hl);return e?e[0]:""}const Eh=/^[^\/()?;=#]+/,$g=/^[^=?&#]+/,Yo=/^[^&#]+/;class fl{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new O([],{}):new O([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[un]=new O(e,n)),r}parseSegment(){const e=Pu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(e),new Z(so(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Ey(t){const e=t.match(Eh);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=Pu(this.remaining);s&&(r=s,this.capture(r))}e[so(n)]=so(r)}parseQueryParam(e){const n=function aC(t){const e=t.match($g);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const d=function Gf(t){const e=t.match(Yo);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const s=Mo(n),c=Mo(r);if(e.hasOwnProperty(s)){let d=e[s];Array.isArray(d)||(d=[d],e[s]=d),d.push(c)}else e[s]=c}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Pu(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new p.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=un);const d=this.parseChildren();n[c]=1===Object.keys(d).length?d[un]:new O([],d),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new p.vHH(4011,!1)}}function Iy(t){return t.segments.length>0?new O([],{[un]:t}):t}function Ih(t){const e={};for(const r of Object.keys(t.children)){const c=Ih(t.children[r]);if(r===un&&0===c.segments.length&&c.hasChildren())for(const[d,_]of Object.entries(c.children))e[d]=_;else(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function by(t){if(1===t.numberOfChildren&&t.children[un]){const e=t.children[un];return new O(t.segments.concat(e.segments),e.children)}return t}(new O(t.segments,e))}function hc(t){return t instanceof M}function m(t){let e;const s=Iy(function n(c){const d={};for(const b of c.children){const A=n(b);d[b.outlet]=A}const _=new O(c.url,d);return c===t&&(e=_),_}(t.root));return e??s}function y(t,e,n,r){let s=t;for(;s.parent;)s=s.parent;if(0===e.length)return z(s,s,s,n,r);const c=function at(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new De(!0,0,t);let e=0,n=!1;const r=t.reduce((s,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const _={};return Object.entries(c.outlets).forEach(([b,A])=>{_[b]="string"==typeof A?A.split("/"):A}),[...s,{outlets:_}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===d?(c.split("/").forEach((_,b)=>{0==b&&"."===_||(0==b&&""===_?n=!0:".."===_?e++:""!=_&&s.push(_))}),s):[...s,c]},[]);return new De(n,e,r)}(e);if(c.toRoot())return z(s,s,new O([],{}),n,r);const d=function kt(t,e,n){if(t.isAbsolute)return new dt(e,!0,0);if(!n)return new dt(e,!1,NaN);if(null===n.parent)return new dt(n,!0,0);const r=D(t.commands[0])?0:1;return function bn(t,e,n){let r=t,s=e,c=n;for(;c>s;){if(c-=s,r=r.parent,!r)throw new p.vHH(4005,!1);s=r.segments.length}return new dt(r,!1,s-c)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(c,s,t),_=d.processChildren?Xa(d.segmentGroup,d.index,c.commands):ws(d.segmentGroup,d.index,c.commands);return z(s,d.segmentGroup,_,n,r)}function D(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function R(t){return"object"==typeof t&&null!=t&&t.outlets}function z(t,e,n,r,s){let d,c={};r&&Object.entries(r).forEach(([b,A])=>{c[b]=Array.isArray(A)?A.map(N=>`${N}`):`${A}`}),d=t===e?n:se(t,e,n);const _=Iy(Ih(d));return new M(_,c,s)}function se(t,e,n){const r={};return Object.entries(t.children).forEach(([s,c])=>{r[s]=c===e?n:se(c,e,n)}),new O(t.segments,r)}class De{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&D(r[0]))throw new p.vHH(4003,!1);const s=r.find(R);if(s&&s!==qr(r))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dt{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function ws(t,e,n){if(t||(t=new O([],{})),0===t.segments.length&&t.hasChildren())return Xa(t,e,n);const r=function Hg(t,e,n){let r=0,s=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(r>=n.length)return c;const d=t.segments[s],_=n[r];if(R(_))break;const b=`${_}`,A=r<n.length-1?n[r+1]:null;if(s>0&&void 0===b)break;if(b&&A&&"object"==typeof A&&void 0===A.outlets){if(!bh(b,A,d))return c;r+=2}else{if(!bh(b,{},d))return c;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(t,e,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const c=new O(t.segments.slice(0,r.pathIndex),{});return c.children[un]=new O(t.segments.slice(r.pathIndex),t.children),Xa(c,0,s)}return r.match&&0===s.length?new O(t.segments,{}):r.match&&!t.hasChildren()?dd(t,e,n):r.match?Xa(t,0,s):dd(t,e,n)}function Xa(t,e,n){if(0===n.length)return new O(t.segments,{});{const r=function Zi(t){return R(t[0])?t[0].outlets:{[un]:t}}(n),s={};if(Object.keys(r).some(c=>c!==un)&&t.children[un]&&1===t.numberOfChildren&&0===t.children[un].segments.length){const c=Xa(t.children[un],e,n);return new O(t.segments,c.children)}return Object.entries(r).forEach(([c,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(s[c]=ws(t.children[c],e,d))}),Object.entries(t.children).forEach(([c,d])=>{void 0===r[c]&&(s[c]=d)}),new O(t.segments,s)}}function dd(t,e,n){const r=t.segments.slice(0,e);let s=0;for(;s<n.length;){const c=n[s];if(R(c)){const b=fc(c.outlets);return new O(r,b)}if(0===s&&D(n[0])){r.push(new Z(t.segments[e].path,pc(n[0]))),s++;continue}const d=R(c)?c.outlets[un]:`${c}`,_=s<n.length-1?n[s+1]:null;d&&_&&D(_)?(r.push(new Z(d,pc(_))),s+=2):(r.push(new Z(d,{})),s++)}return new O(r,{})}function fc(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=dd(new O([],{}),0,r))}),e}function pc(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function bh(t,e,n){return t==n.path&&wi(e,n.parameters)}const hd="imperative";class Cs{constructor(e,n){this.id=e,this.url=n}}class pl extends Cs{constructor(e,n,r="imperative",s=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ou extends Cs{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fd extends Cs{constructor(e,n,r,s){super(e,n),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nu extends Cs{constructor(e,n,r,s){super(e,n),this.reason=r,this.code=s,this.type=16}}class Dh extends Cs{constructor(e,n,r,s){super(e,n),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wf extends Cs{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uC extends Cs{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GD extends Cs{constructor(e,n,r,s,c){super(e,n),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cC extends Cs{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bx extends Cs{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lC{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ux{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class WD{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qD{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dy{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jx{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KD{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qf{}class dC{constructor(e){this.url=e}}class zx{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zg,this.attachRef=null}}let Zg=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,s){const c=this.getOrCreateContext(r);c.outlet=s,this.contexts.set(r,c)}onChildOutletDestroyed(r){const s=this.getContext(r);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let s=this.getContext(r);return s||(s=new zx,this.contexts.set(r,s)),s}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class YD{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Ty(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Ty(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Th(e,this._root);return n.length<2?[]:n[n.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Th(e,this._root).map(n=>n.value)}}function Ty(t,e){if(t===e.value)return e;for(const n of e.children){const r=Ty(t,n);if(r)return r}return null}function Th(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Th(t,n);if(r.length)return r.unshift(e),r}return[]}class ba{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function pd(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class Sy extends YD{constructor(e,n){super(e),this.snapshot=n,xy(this,e)}toString(){return this.snapshot.toString()}}function Ay(t,e){const n=function Sh(t,e){const d=new md([],{},{},"",{},un,e,null,{});return new Kf("",new ba(d,[]))}(0,e),r=new hi.X([new Z("",{})]),s=new hi.X({}),c=new hi.X({}),d=new hi.X({}),_=new hi.X(""),b=new gd(r,s,d,_,c,un,e,n.root);return b.snapshot=n.root,new Sy(new ba(b,[]),n)}class gd{constructor(e,n,r,s,c,d,_,b){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=c,this.outlet=d,this.component=_,this._futureSnapshot=b,this.title=this.dataSubject?.pipe((0,qt.U)(A=>A[qa]))??(0,zt.of)(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=s,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qt.U)(e=>Ia(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qt.U)(e=>Ia(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function My(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const s=n[r],c=n[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(c.component)break;r--}}return function Gg(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class md{get title(){return this.data?.[qa]}constructor(e,n,r,s,c,d,_,b,A){this.url=e,this.params=n,this.queryParams=r,this.fragment=s,this.data=c,this.outlet=d,this.component=_,this.routeConfig=b,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ia(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ia(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Kf extends YD{constructor(e,n){super(n),this.url=e,xy(this,n)}toString(){return hC(this._root)}}function xy(t,e){e.value._routerState=t,e.children.forEach(n=>xy(t,n))}function hC(t){const e=t.children.length>0?` { ${t.children.map(hC).join(", ")} } `:"";return`${t.value}${e}`}function Py(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),wi(e.params,n.params)||t.paramsSubject.next(n.params),function Ka(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),wi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Wg(t,e){const n=wi(t.params,e.params)&&function re(t,e){return ue(t,e)&&t.every((n,r)=>wi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Wg(t.parent,e.parent))}let Yf=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=un,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(Zg),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(qg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:s,previousValue:c}=r.name;if(s)return;this.isTrackedInParentContexts(c)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(c)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,s){this.activated=r,this._activatedRoute=s,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,s){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=r;const c=this.location,_=r.snapshot.component,b=this.parentContexts.getOrCreateContext(this.name).children,A=new QD(r,b,c.injector);this.activated=c.createComponent(_,{index:c.length,injector:A,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=p.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),e})();class QD{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===gd?this.route:e===Zg?this.childContexts:this.parent.get(e,n)}}const qg=new p.OlP("");let fC=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:s}=r,c=nc([s.queryParams,s.params,s.data]).pipe((0,Wr.w)(([d,_,b],A)=>(b={...d,..._,...b},0===A?(0,zt.of)(b):Promise.resolve(b)))).subscribe(d=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(r);const _=(0,p.qFp)(s.component);if(_)for(const{templateName:b}of _.inputs)r.activatedComponentRef.setInput(b,d[b]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,c)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();function Qf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const s=function XD(t,e,n){return e.children.map(r=>{for(const s of n.children)if(t.shouldReuseRoute(r.value,s.value.snapshot))return Qf(t,r,s);return Qf(t,r)})}(t,e,n);return new ba(r,s)}{if(t.shouldAttach(e.value)){const c=t.retrieve(e.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(_=>Qf(t,_)),d}}const r=function Es(t){return new gd(new hi.X(t.url),new hi.X(t.params),new hi.X(t.queryParams),new hi.X(t.fragment),new hi.X(t.data),t.outlet,t.component,t)}(e.value),s=e.children.map(c=>Qf(t,c));return new ba(r,s)}}const Xf="ngNavigationCancelingError";function Oy(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=hc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=Kg(!1,0,e);return s.url=n,s.navigationBehaviorOptions=r,s}function Kg(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Xf]=!0,r.cancellationCode=e,n&&(r.url=n),r}function Ah(t){return t&&t[Xf]}let Ny=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(r,s){1&r&&p._UZ(0,"router-outlet")},dependencies:[Yf],encapsulation:2}),e})();function Jf(t){const e=t.children&&t.children.map(Jf),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==un&&(n.component=Ny),n}function Ws(t){return t.outlet||un}function gc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class mC{constructor(e,n,r,s,c){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=c}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Py(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const s=pd(n);e.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,s[d],r),delete s[d]}),Object.values(s).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,n,r){const s=e.value,c=n?n.value:null;if(s===c)if(s.component){const d=r.getContext(s.outlet);d&&this.deactivateChildRoutes(e,n,d.children)}else this.deactivateChildRoutes(e,n,r);else c&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),s=r&&e.value.component?r.children:n,c=pd(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],s);if(r&&r.outlet){const d=r.outlet.detach(),_=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:_})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),s=r&&e.value.component?r.children:n,c=pd(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const s=pd(n);e.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],r),this.forwardEvent(new jx(c.value.snapshot))}),e.children.length&&this.forwardEvent(new qD(e.value.snapshot))}activateRoutes(e,n,r){const s=e.value,c=n?n.value:null;if(Py(s),s===c)if(s.component){const d=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,n,d.children)}else this.activateChildRoutes(e,n,r);else if(s.component){const d=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const _=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(_.contexts),d.attachRef=_.componentRef,d.route=_.route.value,d.outlet&&d.outlet.attach(_.componentRef,_.route.value),Py(_.route.value),this.activateChildRoutes(e,null,d.children)}else{const _=gc(s.snapshot);d.attachRef=null,d.route=s,d.injector=_,d.outlet&&d.outlet.activateWith(s,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Ry{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ep{constructor(e,n){this.component=e,this.route=n}}function Mh(t,e,n){const r=t._root;return yd(r,e?e._root:null,n,[r.value])}function _d(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||(0,p.Z0I)(t)?e.get(t):t:r}function yd(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=pd(e);return t.children.forEach(d=>{(function Qg(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=t.value,d=e?e.value:null,_=n?n.getContext(t.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const b=function aT(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ue(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ue(t.url,e.url)||!wi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wg(t,e)||!wi(t.queryParams,e.queryParams);default:return!Wg(t,e)}}(d,c,c.routeConfig.runGuardsAndResolvers);b?s.canActivateChecks.push(new Ry(r)):(c.data=d.data,c._resolvedData=d._resolvedData),yd(t,e,c.component?_?_.children:null:n,r,s),b&&_&&_.outlet&&_.outlet.isActivated&&s.canDeactivateChecks.push(new ep(_.outlet.component,d))}else d&&tp(e,_,s),s.canActivateChecks.push(new Ry(r)),yd(t,null,c.component?_?_.children:null:n,r,s)})(d,c[d.value.outlet],n,r.concat([d.value]),s),delete c[d.value.outlet]}),Object.entries(c).forEach(([d,_])=>tp(_,n.getContext(d),s)),s}function tp(t,e,n){const r=pd(t),s=t.value;Object.entries(r).forEach(([c,d])=>{tp(d,s.component?e?e.children.getContext(c):null:e,n)}),n.canDeactivateChecks.push(new ep(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function np(t){return"function"==typeof t}function vC(t){return t instanceof Za||"EmptyError"===t?.name}const xh=Symbol("INITIAL_VALUE");function vd(){return(0,Wr.w)(t=>nc(t.map(e=>e.pipe(ys(1),Tu(xh)))).pipe((0,qt.U)(e=>{for(const n of e)if(!0!==n){if(n===xh)return xh;if(!1===n||n instanceof M)return n}return!0}),vi(e=>e!==xh),ys(1)))}function Ly(t){return(0,ul.z)((0,Tr.b)(e=>{if(hc(e))throw Oy(0,e)}),(0,qt.U)(e=>!0===e))}class rp{constructor(e){this.segmentGroup=e||null}}class ip{constructor(e){this.urlTree=e}}function Ru(t){return oc(new rp(t))}function Vy(t){return oc(new ip(t))}class bC{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new p.vHH(4002,!1)}lineralizeSegments(e,n){let r=[],s=n.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return(0,zt.of)(r);if(s.numberOfChildren>1||!s.children[un])return oc(new p.vHH(4e3,!1));s=s.children[un]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,s){const c=this.createSegmentGroup(e,n.root,r,s);return new M(c,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([s,c])=>{if("string"==typeof c&&c.startsWith(":")){const _=c.substring(1);r[s]=n[_]}else r[s]=c}),r}createSegmentGroup(e,n,r,s){const c=this.createSegments(e,n.segments,r,s);let d={};return Object.entries(n.children).forEach(([_,b])=>{d[_]=this.createSegmentGroup(e,b,r,s)}),new O(c,d)}createSegments(e,n,r,s){return n.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,s):this.findOrReturn(c,r))}findPosParam(e,n,r){const s=r[n.path.substring(1)];if(!s)throw new p.vHH(4001,!1);return s}findOrReturn(e,n){let r=0;for(const s of n){if(s.path===e.path)return n.splice(r),s;r++}return e}}const op={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sp(t,e,n,r,s){const c=Uy(t,e,n);return c.matched?(r=function gC(t,e){return t.providers&&!t._injector&&(t._injector=(0,p.MMx)(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Fy(t,e,n,r){const s=e.canMatch;if(!s||0===s.length)return(0,zt.of)(!0);const c=s.map(d=>{const _=_d(d,t);return Hi(function ky(t){return t&&np(t.canMatch)}(_)?_.canMatch(e,n):t.runInContext(()=>_(e,n)))});return(0,zt.of)(c).pipe(vd(),Ly())}(r,e,n).pipe((0,qt.U)(d=>!0===d?c:{...op}))):(0,zt.of)(c)}function Uy(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...op}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||vh)(n,t,e);if(!s)return{...op};const c={};Object.entries(s.posParams??{}).forEach(([_,b])=>{c[_]=b.path});const d=s.consumed.length>0?{...c,...s.consumed[s.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:d,positionalParamSegments:s.posParams??{}}}function jy(t,e,n,r){return n.length>0&&function mT(t,e,n){return n.some(r=>ap(t,e,r)&&Ws(r)!==un)}(t,n,r)?{segmentGroup:new O(e,gT(r,new O(n,t.children))),slicedSegments:[]}:0===n.length&&function DC(t,e,n){return n.some(r=>ap(t,e,r))}(t,n,r)?{segmentGroup:new O(t.segments,pT(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new O(t.segments,t.children),slicedSegments:n}}function pT(t,e,n,r,s){const c={};for(const d of r)if(ap(t,n,d)&&!s[Ws(d)]){const _=new O([],{});c[Ws(d)]=_}return{...s,...c}}function gT(t,e){const n={};n[un]=e;for(const r of t)if(""===r.path&&Ws(r)!==un){const s=new O([],{});n[Ws(r)]=s}return n}function ap(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class _T{constructor(e,n,r,s,c,d,_){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=s,this.urlTree=c,this.paramsInheritanceStrategy=d,this.urlSerializer=_,this.allowRedirects=!0,this.applyRedirects=new bC(this.urlSerializer,this.urlTree)}noMatchError(e){return new p.vHH(4002,!1)}recognize(){const e=jy(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,un).pipe(Ko(n=>{if(n instanceof ip)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof rp?this.noMatchError(n):n}),(0,qt.U)(n=>{const r=new md([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},un,this.rootComponentType,null,{}),s=new ba(r,n),c=new Kf("",s),d=function E(t,e,n=null,r=null){return y(m(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(c._root),{state:c,tree:d}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,un).pipe(Ko(r=>{throw r instanceof rp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=My(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,n,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,s,!0)}processChildren(e,n,r){const s=[];for(const c of Object.keys(r.children))"primary"===c?s.unshift(c):s.push(c);return(0,cr.D)(s).pipe(Wa(c=>{const d=r.children[c],_=function oT(t,e){const n=t.filter(r=>Ws(r)===e);return n.push(...t.filter(r=>Ws(r)!==e)),n}(n,c);return this.processSegmentGroup(e,_,d,c)}),Zs((c,d)=>(c.push(...d),c)),ac(null),function dl(t,e){const n=arguments.length>=2;return r=>r.pipe(t?vi((s,c)=>t(s,c,r)):Iu.y,Ea(1),n?ac(e):cl(()=>new Za))}(),(0,$i.z)(c=>{if(null===c)return Ru(r);const d=TC(c);return function yT(t){t.sort((e,n)=>e.value.outlet===un?-1:n.value.outlet===un?1:e.value.outlet.localeCompare(n.value.outlet))}(d),(0,zt.of)(d)}))}processSegment(e,n,r,s,c,d){return(0,cr.D)(n).pipe(Wa(_=>this.processSegmentAgainstRoute(_._injector??e,n,_,r,s,c,d).pipe(Ko(b=>{if(b instanceof rp)return(0,zt.of)(null);throw b}))),Vr(_=>!!_),Ko(_=>{if(vC(_))return function zy(t,e,n){return 0===e.length&&!t.children[n]}(r,s,c)?(0,zt.of)([]):Ru(r);throw _}))}processSegmentAgainstRoute(e,n,r,s,c,d,_){return function tm(t,e,n,r){return!!(Ws(t)===r||r!==un&&ap(e,n,t))&&("**"===t.path||Uy(e,t,n).matched)}(r,s,c,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,s,r,c,d,_):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,s,n,r,c,d):Ru(s):Ru(s)}expandSegmentAgainstRouteUsingRedirect(e,n,r,s,c,d){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,s,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s){const c=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Vy(c):this.applyRedirects.lineralizeSegments(r,c).pipe((0,$i.z)(d=>{const _=new O(d,{});return this.processSegment(e,n,_,d,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,s,c,d){const{matched:_,consumedSegments:b,remainingSegments:A,positionalParamSegments:N}=Uy(n,s,c);if(!_)return Ru(n);const j=this.applyRedirects.applyRedirectCommands(b,s.redirectTo,N);return s.redirectTo.startsWith("/")?Vy(j):this.applyRedirects.lineralizeSegments(s,j).pipe((0,$i.z)(ne=>this.processSegment(e,r,n,ne.concat(A),d,!1)))}matchSegmentAgainstRoute(e,n,r,s,c,d){let _;if("**"===r.path){const b=s.length>0?qr(s).parameters:{},A=new md(s,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,AC(r),Ws(r),r.component??r._loadedComponent??null,r,Cd(r));_=(0,zt.of)({snapshot:A,consumedSegments:[],remainingSegments:[]}),n.children={}}else _=sp(n,r,s,e).pipe((0,qt.U)(({matched:b,consumedSegments:A,remainingSegments:N,parameters:j})=>b?{snapshot:new md(A,j,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,AC(r),Ws(r),r.component??r._loadedComponent??null,r,Cd(r)),consumedSegments:A,remainingSegments:N}:null));return _.pipe((0,Wr.w)(b=>null===b?Ru(n):this.getChildConfig(e=r._injector??e,r,s).pipe((0,Wr.w)(({routes:A})=>{const N=r._loadedInjector??e,{snapshot:j,consumedSegments:ne,remainingSegments:ae}=b,{segmentGroup:Le,slicedSegments:et}=jy(n,ne,ae,A);if(0===et.length&&Le.hasChildren())return this.processChildren(N,A,Le).pipe((0,qt.U)(Lt=>null===Lt?null:[new ba(j,Lt)]));if(0===A.length&&0===et.length)return(0,zt.of)([new ba(j,[])]);const st=Ws(r)===c;return this.processSegment(N,A,Le,et,st?un:c,!0).pipe((0,qt.U)(Lt=>[new ba(j,Lt)]))}))))}getChildConfig(e,n,r){return n.children?(0,zt.of)({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?(0,zt.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function IC(t,e,n,r){const s=e.canLoad;if(void 0===s||0===s.length)return(0,zt.of)(!0);const c=s.map(d=>{const _=_d(d,t);return Hi(function cT(t){return t&&np(t.canLoad)}(_)?_.canLoad(e,n):t.runInContext(()=>_(e,n)))});return(0,zt.of)(c).pipe(vd(),Ly())}(e,n,r).pipe((0,$i.z)(s=>s?this.configLoader.loadChildren(e,n).pipe((0,Tr.b)(c=>{n._loadedRoutes=c.routes,n._loadedInjector=c.injector})):function em(t){return oc(Kg(!1,3))}())):(0,zt.of)({routes:[],injector:e})}}function Wx(t){const e=t.value.routeConfig;return e&&""===e.path}function TC(t){const e=[],n=new Set;for(const r of t){if(!Wx(r)){e.push(r);continue}const s=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...r.children),n.add(s)):e.push(r)}for(const r of n){const s=TC(r.children);e.push(new ba(r.value,s))}return e.filter(r=>!n.has(r))}function AC(t){return t.data||{}}function Cd(t){return t.resolve||{}}function NC(t){return"string"==typeof t.title||null===t.title}function Hy(t){return(0,Wr.w)(e=>{const n=t(e);return n?(0,cr.D)(n).pipe((0,qt.U)(()=>e)):(0,zt.of)(e)})}const Oh=new p.OlP("ROUTES");let Zy=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return(0,zt.of)(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const s=Hi(r.loadComponent()).pipe((0,qt.U)(Nh),(0,Tr.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=d}),Su(()=>{this.componentLoaders.delete(r)})),c=new sc(s,()=>new zi.x).pipe(yh());return this.componentLoaders.set(r,c),c}loadChildren(r,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return(0,zt.of)({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const d=function vT(t,e,n,r){return Hi(t.loadChildren()).pipe((0,qt.U)(Nh),(0,$i.z)(s=>s instanceof p.YKP||Array.isArray(s)?(0,zt.of)(s):(0,cr.D)(e.compileModuleAsync(s))),(0,qt.U)(s=>{r&&r(t);let c,d,_=!1;return Array.isArray(s)?(d=s,!0):(c=s.create(n).injector,d=c.get(Oh,[],{optional:!0,self:!0}).flat()),{routes:d.map(Jf),injector:c}}))}(s,this.compiler,r,this.onLoadEndListener).pipe(Su(()=>{this.childrenLoaders.delete(s)})),_=new sc(d,()=>new zi.x).pipe(yh());return this.childrenLoaders.set(s,_),_}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Nh(t){return function gl(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let rm=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new zi.x,this.transitionAbortSubject=new zi.x,this.configLoader=(0,p.f3M)(Zy),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(lt),this.rootContexts=(0,p.f3M)(Zg),this.inputBindingEnabled=null!==(0,p.f3M)(qg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,zt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=c=>this.events.next(new Ux(c)),this.configLoader.onLoadStartListener=c=>this.events.next(new lC(c))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:s})}setupNavigations(r,s,c){return this.transitions=new hi.X({id:0,currentUrlTree:s,currentRawUrl:s,currentBrowserUrl:s,extractedUrl:r.urlHandlingStrategy.extract(s),urlAfterRedirects:r.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:hd,restoredState:null,currentSnapshot:c.snapshot,targetSnapshot:null,currentRouterState:c,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vi(d=>0!==d.id),(0,qt.U)(d=>({...d,extractedUrl:r.urlHandlingStrategy.extract(d.rawUrl)})),(0,Wr.w)(d=>{this.currentTransition=d;let _=!1,b=!1;return(0,zt.of)(d).pipe((0,Tr.b)(A=>{this.currentNavigation={id:A.id,initialUrl:A.rawUrl,extractedUrl:A.extractedUrl,trigger:A.source,extras:A.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Wr.w)(A=>{const N=A.currentBrowserUrl.toString(),j=!r.navigated||A.extractedUrl.toString()!==N||N!==A.currentUrlTree.toString();if(!j&&"reload"!==(A.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const ae="";return this.events.next(new Nu(A.id,this.urlSerializer.serialize(A.rawUrl),ae,0)),A.resolve(null),Ga.E}if(r.urlHandlingStrategy.shouldProcessUrl(A.rawUrl))return(0,zt.of)(A).pipe((0,Wr.w)(ae=>{const Le=this.transitions?.getValue();return this.events.next(new pl(ae.id,this.urlSerializer.serialize(ae.extractedUrl),ae.source,ae.restoredState)),Le!==this.transitions?.getValue()?Ga.E:Promise.resolve(ae)}),function nm(t,e,n,r,s,c){return(0,$i.z)(d=>function Ph(t,e,n,r,s,c,d="emptyOnly"){return new _T(t,e,n,r,s,d,c).recognize()}(t,e,n,r,d.extractedUrl,s,c).pipe((0,qt.U)(({state:_,tree:b})=>({...d,targetSnapshot:_,urlAfterRedirects:b}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),(0,Tr.b)(ae=>{d.targetSnapshot=ae.targetSnapshot,d.urlAfterRedirects=ae.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ae.urlAfterRedirects};const Le=new Wf(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(Le)}));if(j&&r.urlHandlingStrategy.shouldProcessUrl(A.currentRawUrl)){const{id:ae,extractedUrl:Le,source:et,restoredState:st,extras:Lt}=A,Qt=new pl(ae,this.urlSerializer.serialize(Le),et,st);this.events.next(Qt);const $t=Ay(0,this.rootComponentType).snapshot;return this.currentTransition=d={...A,targetSnapshot:$t,urlAfterRedirects:Le,extras:{...Lt,skipLocationChange:!1,replaceUrl:!1}},(0,zt.of)(d)}{const ae="";return this.events.next(new Nu(A.id,this.urlSerializer.serialize(A.extractedUrl),ae,1)),A.resolve(null),Ga.E}}),(0,Tr.b)(A=>{const N=new uC(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(N)}),(0,qt.U)(A=>(this.currentTransition=d={...A,guards:Mh(A.targetSnapshot,A.currentSnapshot,this.rootContexts)},d)),function wd(t,e){return(0,$i.z)(n=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:d}}=n;return 0===d.length&&0===c.length?(0,zt.of)({...n,guardsResult:!0}):function wC(t,e,n,r){return(0,cr.D)(t).pipe((0,$i.z)(s=>function EC(t,e,n,r,s){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,zt.of)(!0);const d=c.map(_=>{const b=gc(e)??s,A=_d(_,b);return Hi(function Xg(t){return t&&np(t.canDeactivate)}(A)?A.canDeactivate(t,e,n,r):b.runInContext(()=>A(t,e,n,r))).pipe(Vr())});return(0,zt.of)(d).pipe(vd())}(s.component,s.route,n,e,r)),Vr(s=>!0!==s,!0))}(d,r,s,t).pipe((0,$i.z)(_=>_&&function uT(t){return"boolean"==typeof t}(_)?function CC(t,e,n,r){return(0,cr.D)(e).pipe(Wa(s=>Du(function Gx(t,e){return null!==t&&e&&e(new WD(t)),(0,zt.of)(!0)}(s.route.parent,r),function hT(t,e){return null!==t&&e&&e(new Dy(t)),(0,zt.of)(!0)}(s.route,r),function fT(t,e,n){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(d=>function Yg(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(d)).filter(d=>null!==d).map(d=>ic(()=>{const _=d.guards.map(b=>{const A=gc(d.node)??n,N=_d(b,A);return Hi(function _C(t){return t&&np(t.canActivateChild)}(N)?N.canActivateChild(r,t):A.runInContext(()=>N(r,t))).pipe(Vr())});return(0,zt.of)(_).pipe(vd())}));return(0,zt.of)(c).pipe(vd())}(t,s.path,n),function Jg(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,zt.of)(!0);const s=r.map(c=>ic(()=>{const d=gc(e)??n,_=_d(c,d);return Hi(function lT(t){return t&&np(t.canActivate)}(_)?_.canActivate(e,t):d.runInContext(()=>_(e,t))).pipe(Vr())}));return(0,zt.of)(s).pipe(vd())}(t,s.route,n))),Vr(s=>!0!==s,!0))}(r,c,t,e):(0,zt.of)(_)),(0,qt.U)(_=>({...n,guardsResult:_})))})}(this.environmentInjector,A=>this.events.next(A)),(0,Tr.b)(A=>{if(d.guardsResult=A.guardsResult,hc(A.guardsResult))throw Oy(0,A.guardsResult);const N=new GD(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot,!!A.guardsResult);this.events.next(N)}),vi(A=>!!A.guardsResult||(this.cancelNavigationTransition(A,"",3),!1)),Hy(A=>{if(A.guards.canActivateChecks.length)return(0,zt.of)(A).pipe((0,Tr.b)(N=>{const j=new cC(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot);this.events.next(j)}),(0,Wr.w)(N=>{let j=!1;return(0,zt.of)(N).pipe(function $y(t,e){return(0,$i.z)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=n;if(!s.length)return(0,zt.of)(n);let c=0;return(0,cr.D)(s).pipe(Wa(d=>function MC(t,e,n,r){const s=t.routeConfig,c=t._resolve;return void 0!==s?.title&&!NC(s)&&(c[qa]=s.title),function xC(t,e,n,r){const s=function PC(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===s.length)return(0,zt.of)({});const c={};return(0,cr.D)(s).pipe((0,$i.z)(d=>function OC(t,e,n,r){const s=gc(e)??r,c=_d(t,s);return Hi(c.resolve?c.resolve(e,n):s.runInContext(()=>c(e,n)))}(t[d],e,n,r).pipe(Vr(),(0,Tr.b)(_=>{c[d]=_}))),Ea(1),function uc(t){return(0,qt.U)(()=>t)}(c),Ko(d=>vC(d)?Ga.E:oc(d)))}(c,t,e,r).pipe((0,qt.U)(d=>(t._resolvedData=d,t.data=My(t,n).resolve,s&&NC(s)&&(t.data[qa]=s.title),null)))}(d.route,r,t,e)),(0,Tr.b)(()=>c++),Ea(1),(0,$i.z)(d=>c===s.length?(0,zt.of)(n):Ga.E))})}(r.paramsInheritanceStrategy,this.environmentInjector),(0,Tr.b)({next:()=>j=!0,complete:()=>{j||this.cancelNavigationTransition(N,"",2)}}))}),(0,Tr.b)(N=>{const j=new Bx(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot);this.events.next(j)}))}),Hy(A=>{const N=j=>{const ne=[];j.routeConfig?.loadComponent&&!j.routeConfig._loadedComponent&&ne.push(this.configLoader.loadComponent(j.routeConfig).pipe((0,Tr.b)(ae=>{j.component=ae}),(0,qt.U)(()=>{})));for(const ae of j.children)ne.push(...N(ae));return ne};return nc(N(A.targetSnapshot.root)).pipe(ac(),ys(1))}),Hy(()=>this.afterPreactivation()),(0,qt.U)(A=>{const N=function pC(t,e,n){const r=Qf(t,e._root,n?n._root:void 0);return new Sy(r,e)}(r.routeReuseStrategy,A.targetSnapshot,A.currentRouterState);return this.currentTransition=d={...A,targetRouterState:N},d}),(0,Tr.b)(()=>{this.events.next(new qf)}),((t,e,n,r)=>(0,qt.U)(s=>(new mC(e,s.targetRouterState,s.currentRouterState,n,r).activate(t),s)))(this.rootContexts,r.routeReuseStrategy,A=>this.events.next(A),this.inputBindingEnabled),ys(1),(0,Tr.b)({next:A=>{_=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ou(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects))),r.titleStrategy?.updateTitle(A.targetRouterState.snapshot),A.resolve(!0)},complete:()=>{_=!0}}),function Au(t){return(0,oo.e)((e,n)=>{(0,cd.Xf)(t).subscribe((0,Dr.x)(n,()=>n.complete(),cc.Z)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe((0,Tr.b)(A=>{throw A}))),Su(()=>{_||b||this.cancelNavigationTransition(d,"",1),this.currentNavigation?.id===d.id&&(this.currentNavigation=null)}),Ko(A=>{if(b=!0,Ah(A))this.events.next(new fd(d.id,this.urlSerializer.serialize(d.extractedUrl),A.message,A.cancellationCode)),function xo(t){return Ah(t)&&hc(t.url)}(A)?this.events.next(new dC(A.url)):d.resolve(!1);else{this.events.next(new Dh(d.id,this.urlSerializer.serialize(d.extractedUrl),A,d.targetSnapshot??void 0));try{d.resolve(r.errorHandler(A))}catch(N){d.reject(N)}}return Ga.E}))}))}cancelNavigationTransition(r,s,c){const d=new fd(r.id,this.urlSerializer.serialize(r.extractedUrl),s,c);this.events.next(d),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function wT(t){return t!==hd}let CT=(()=>{var t;class e{buildTitle(r){let s,c=r.root;for(;void 0!==c;)s=this.getResolvedTitleForRoute(c)??s,c=c.children.find(d=>d.outlet===un);return s}getResolvedTitleForRoute(r){return r.data[qa]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:function(){return(0,p.f3M)(qx)},providedIn:"root"}),e})(),qx=(()=>{var t;class e extends CT{constructor(r){super(),this.title=r}updateTitle(r){const s=this.buildTitle(r);void 0!==s&&this.title.setTitle(s)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(ze))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Kx=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:function(){return(0,p.f3M)(RC)},providedIn:"root"}),e})();class Yx{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let RC=(()=>{var t;class e extends Yx{}return(t=e).\u0275fac=function(){let n;return function(s){return(n||(n=p.n5z(t)))(s||t)}}(),t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const im=new p.OlP("",{providedIn:"root",factory:()=>({})});let ET=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:function(){return(0,p.f3M)(IT)},providedIn:"root"}),e})(),IT=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,s){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var up=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(up||{});function om(t,e){t.events.pipe(vi(n=>n instanceof Ou||n instanceof fd||n instanceof Dh||n instanceof Nu),(0,qt.U)(n=>n instanceof Ou||n instanceof Nu?up.COMPLETE:n instanceof fd&&(0===n.code||1===n.code)?up.REDIRECTING:up.FAILED),vi(n=>n!==up.REDIRECTING),ys(1)).subscribe(()=>{e()})}function mc(t){throw t}function cp(t,e,n){return e.parse("/")}const kC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qs=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this._events=new zi.x,this.options=(0,p.f3M)(im,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||mc,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||cp,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(ET),this.routeReuseStrategy=(0,p.f3M)(Kx),this.titleStrategy=(0,p.f3M)(CT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)(Oh,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)(rm),this.urlSerializer=(0,p.f3M)(lt),this.location=(0,p.f3M)(Je),this.componentInputBindingEnabled=!!(0,p.f3M)(qg,{optional:!0}),this.eventsSubscription=new ld.w0,this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new M,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ay(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(s=>{try{const{currentTransition:c}=this.navigationTransitions;if(null===c)return void(bT(s)&&this._events.next(s));if(s instanceof pl)wT(c.source)&&(this.browserUrlTree=c.extractedUrl);else if(s instanceof Nu)this.rawUrlTree=c.rawUrl;else if(s instanceof Wf){if("eager"===this.urlUpdateStrategy){if(!c.extras.skipLocationChange){const d=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);this.setBrowserUrl(d,c)}this.browserUrlTree=c.urlAfterRedirects}}else if(s instanceof qf)this.currentUrlTree=c.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),this.routerState=c.targetRouterState,"deferred"===this.urlUpdateStrategy&&(c.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,c),this.browserUrlTree=c.urlAfterRedirects);else if(s instanceof fd)0!==s.code&&1!==s.code&&(this.navigated=!0),(3===s.code||2===s.code)&&this.restoreHistory(c);else if(s instanceof dC){const d=this.urlHandlingStrategy.merge(s.url,c.currentRawUrl),_={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||wT(c.source)};this.scheduleNavigation(d,hd,null,_,{resolve:c.resolve,reject:c.reject,promise:c.promise})}s instanceof Dh&&this.restoreHistory(c,!0),s instanceof Ou&&(this.navigated=!0),bT(s)&&this._events.next(s)}catch(c){this.navigationTransitions.transitionAbortSubject.next(c)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),hd,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const s="popstate"===r.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,s,r.state)},0)}))}navigateToSyncWithBrowser(r,s,c){const d={replaceUrl:!0},_=c?.navigationId?c:null;if(c){const A={...c};delete A.navigationId,delete A.\u0275routerPageId,0!==Object.keys(A).length&&(d.state=A)}const b=this.parseUrl(r);this.scheduleNavigation(b,s,_,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Jf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,s={}){const{relativeTo:c,queryParams:d,fragment:_,queryParamsHandling:b,preserveFragment:A}=s,N=A?this.currentUrlTree.fragment:_;let ne,j=null;switch(b){case"merge":j={...this.currentUrlTree.queryParams,...d};break;case"preserve":j=this.currentUrlTree.queryParams;break;default:j=d||null}null!==j&&(j=this.removeEmptyProps(j));try{ne=m(c?c.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),ne=this.currentUrlTree.root}return y(ne,r,j,N??null)}navigateByUrl(r,s={skipLocationChange:!1}){const c=hc(r)?r:this.parseUrl(r),d=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(d,hd,null,s)}navigate(r,s={skipLocationChange:!1}){return function Qx(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new p.vHH(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,s),s)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let s;try{s=this.urlSerializer.parse(r)}catch(c){s=this.malformedUriErrorHandler(c,this.urlSerializer,r)}return s}isActive(r,s){let c;if(c=!0===s?{...kC}:!1===s?{...LC}:s,hc(r))return Hf(this.currentUrlTree,r,c);const d=this.parseUrl(r);return Hf(this.currentUrlTree,d,c)}removeEmptyProps(r){return Object.keys(r).reduce((s,c)=>{const d=r[c];return null!=d&&(s[c]=d),s},{})}scheduleNavigation(r,s,c,d,_){if(this.disposed)return Promise.resolve(!1);let b,A,N;_?(b=_.resolve,A=_.reject,N=_.promise):N=new Promise((ne,ae)=>{b=ne,A=ae});const j=this.pendingTasks.add();return om(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(j))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:d,resolve:b,reject:A,promise:N,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),N.catch(ne=>Promise.reject(ne))}setBrowserUrl(r,s){const c=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(c)||s.extras.replaceUrl){const _={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(c,"",_)}else{const d={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(c,"",d)}}restoreHistory(r,s=!1){if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-this.browserPageId;0!==d?this.location.historyGo(d):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===d&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,s){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:s}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function bT(t){return!(t instanceof qf||t instanceof dC)}class DT{}let ST=(()=>{var t;class e{constructor(r,s,c,d,_){this.router=r,this.injector=c,this.preloadingStrategy=d,this.loader=_}setUpPreloading(){this.subscription=this.router.events.pipe(vi(r=>r instanceof Ou),Wa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,s){const c=[];for(const d of s){d.providers&&!d._injector&&(d._injector=(0,p.MMx)(d.providers,r,`Route: ${d.path}`));const _=d._injector??r,b=d._loadedInjector??_;(d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent)&&c.push(this.preloadConfig(_,d)),(d.children||d._loadedRoutes)&&c.push(this.processRoutes(b,d.children??d._loadedRoutes))}return(0,cr.D)(c).pipe((0,rc.J)())}preloadConfig(r,s){return this.preloadingStrategy.preload(s,()=>{let c;c=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(r,s):(0,zt.of)(null);const d=c.pipe((0,$i.z)(_=>null===_?(0,zt.of)(void 0):(s._loadedRoutes=_.routes,s._loadedInjector=_.injector,this.processRoutes(_.injector??r,_.routes))));if(s.loadComponent&&!s._loadedComponent){const _=this.loader.loadComponent(s);return(0,cr.D)([d,_]).pipe((0,rc.J)())}return d})}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(qs),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(DT),p.LFG(Zy))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const qy=new p.OlP("");let VC=(()=>{var t;class e{constructor(r,s,c,d,_={}){this.urlSerializer=r,this.transitions=s,this.viewportScroller=c,this.zone=d,this.options=_,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_.scrollPositionRestoration=_.scrollPositionRestoration||"disabled",_.anchorScrolling=_.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof pl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ou?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Nu&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof KD&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new KD(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){p.$Z()},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();function Da(t,e){return{\u0275kind:t,\u0275providers:e}}function UC(){const t=(0,p.f3M)(p.zs3);return e=>{const n=t.get(p.z2F);if(e!==n.components[0])return;const r=t.get(qs),s=t.get(jC);1===t.get(dp)&&r.initialNavigation(),t.get($C,null,p.XFs.Optional)?.setUpPreloading(),t.get(qy,null,p.XFs.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const jC=new p.OlP("",{factory:()=>new zi.x}),dp=new p.OlP("",{providedIn:"root",factory:()=>1}),$C=new p.OlP("");function xT(t){return Da(0,[{provide:$C,useExisting:ST},{provide:DT,useExisting:t}])}const Rh=new p.OlP("ROUTER_FORROOT_GUARD"),HC=[Je,{provide:lt,useClass:ct},qs,Zg,{provide:gd,useFactory:function Ky(t){return t.routerState.root},deps:[qs]},Zy,[]];function ZC(){return new p.PXZ("Router",qs)}let sm=(()=>{var t;class e{constructor(r){}static forRoot(r,s){return{ngModule:e,providers:[HC,[],{provide:Oh,multi:!0,useValue:r},{provide:Rh,useFactory:qC,deps:[[qs,new p.FiY,new p.tp0]]},{provide:im,useValue:s||{}},s?.useHash?{provide:Oe,useClass:He}:{provide:Oe,useClass:ut},{provide:qy,useFactory:()=>{const t=(0,p.f3M)(ui),e=(0,p.f3M)(p.R0b),n=(0,p.f3M)(im),r=(0,p.f3M)(rm),s=(0,p.f3M)(lt);return n.scrollOffset&&t.setOffset(n.scrollOffset),new VC(s,r,t,e,n)}},s?.preloadingStrategy?xT(s.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:ZC},s?.initialNavigation?am(s):[],s?.bindToComponentInputs?Da(8,[fC,{provide:qg,useExisting:fC}]).\u0275providers:[],[{provide:NT,useFactory:UC},{provide:p.tb,multi:!0,useExisting:NT}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Oh,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(Rh,8))},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({}),e})();function qC(t){return"guarded"}function am(t){return["disabled"===t.initialNavigation?Da(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const e=(0,p.f3M)(qs);return()=>{e.setUpLocationChangeListener()}}},{provide:dp,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Da(2,[{provide:dp,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:e=>{const n=e.get(Re,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const s=e.get(qs),c=e.get(jC);om(s,()=>{r(!0)}),e.get(rm).afterPreactivation=()=>(r(!0),c.closed?(0,zt.of)(void 0):c),s.initialNavigation()}))}}]).\u0275providers:[]]}const NT=new p.OlP(""),Po=new p.OlP("NgValidators"),ml=new p.OlP("NgAsyncValidators");function UT(t){return null!=t}function pp(t){return(0,p.QGY)(t)?(0,cr.D)(t):t}function eE(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function dm(t,e){return e.map(n=>n(t))}function bd(t){return t.map(e=>function rv(t){return!t.validate}(e)?e:n=>e.validate(n))}function gp(t){return null!=t?function hm(t){if(!t)return null;const e=t.filter(UT);return 0==e.length?null:function(n){return eE(dm(n,e))}}(bd(t)):null}function Fh(t){return null!=t?function Lh(t){if(!t)return null;const e=t.filter(UT);return 0==e.length?null:function(n){return function Qy(...t){const e=(0,ms.jO)(t),{args:n,keys:r}=pr(t),s=new io.y(c=>{const{length:d}=n;if(!d)return void c.complete();const _=new Array(d);let b=d,A=d;for(let N=0;N<d;N++){let j=!1;(0,cd.Xf)(n[N]).subscribe((0,Dr.x)(c,ne=>{j||(j=!0,A--),_[N]=ne},()=>b--,void 0,()=>{(!b||!j)&&(A||c.next(r?_s(r,_):_),c.complete())}))}});return e?s.pipe(wa(e)):s}(dm(n,e).map(pp)).pipe((0,qt.U)(eE))}}(bd(t)):null}function Dd(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Vh(t){return t?Array.isArray(t)?t:[t]:[]}function iv(t,e){return Array.isArray(t)?t.includes(e):t===e}function gm(t,e){const n=Vh(e);return Vh(t).forEach(s=>{iv(n,s)||n.push(s)}),n}function Bh(t,e){return Vh(e).filter(n=>!iv(t,n))}class tE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Oo extends tE{get formDirective(){return null}get path(){return null}}class nE{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let iE=(()=>{var t;class e extends nE{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(Oo,10))},t.\u0275dir=p.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){2&r&&p.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[p.qOj]}),e})();const yc="VALID",ym="INVALID",Td="PENDING",yp="DISABLED";function Uh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class uv{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===yc}get invalid(){return this.status===ym}get pending(){return this.status==Td}get disabled(){return this.status===yp}get enabled(){return this.status!==yp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gm(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gm(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Bh(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Bh(e,this._rawAsyncValidators))}hasValidator(e){return iv(this._rawValidators,e)}hasAsyncValidator(e){return iv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Td,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=yp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=yc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yc||this.status===Td)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yp:yc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Td,this._hasOwnPendingAsyncValidator=!0;const n=pp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,s)=>r&&r._find(s),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?yp:this.errors?ym:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Td)?Td:this._anyControlsHaveStatus(ym)?ym:yc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Uh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function WT(t){return Array.isArray(t)?gp(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function uE(t){return Array.isArray(t)?Fh(t):t||null}(this._rawAsyncValidators)}}class cv extends uv{constructor(e,n,r){super(function av(t){return(Uh(t)?t.validators:t)||null}(n),function vm(t,e){return(Uh(e)?e.asyncValidators:t)||null}(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function wm(t,e,n){t._forEachChild((r,s)=>{if(void 0===n[s])throw new p.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function qT(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new p.vHH(1e3,"");if(!r[n])throw new p.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,s)=>((r.enabled||this.disabled)&&(n[s]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((s,c)=>{r=n(r,s,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const jh=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Cm}),Cm="always";function Is(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function lE(t,e){const n=function fm(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Dd(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function pm(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Dd(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const s=()=>t.updateValueAndValidity();Is(e._rawValidators,s),Is(e._rawAsyncValidators,s)}function dE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const gE={provide:Oo,useExisting:(0,p.Gpc)(()=>Cp)},wp=(()=>Promise.resolve())();let Cp=(()=>{var t;class e extends Oo{constructor(r,s,c){super(),this.callSetDisabledState=c,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new cv({},gp(r),Fh(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){wp.then(()=>{const s=this._findContainer(r.path);r.control=s.registerControl(r.name,r.control),function zh(t,e,n=Cm){lE(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function yl(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&dE(t,e)})}(t,e),function uP(t,e){const n=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function dv(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&dE(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function cE(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){wp.then(()=>{const s=this._findContainer(r.path);s&&s.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){wp.then(()=>{const s=this._findContainer(r.path),c=new cv({});(function hE(t,e){lE(t,e)})(c,r),s.registerControl(r.name,c),c.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){wp.then(()=>{const s=this._findContainer(r.path);s&&s.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,s){wp.then(()=>{this.form.get(r.path).setValue(s)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function pE(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(Po,10),p.Y36(ml,10),p.Y36(jh,8))},t.\u0275dir=p.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){1&r&&p.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([gE]),p.qOj]}),e})(),Cv=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=p.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),EE=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({}),e})(),dS=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[EE]}),e})(),pS=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:jh,useValue:r.callSetDisabledState??Cm}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[dS]}),e})();var Mm=k(8433);let ku=(()=>{var t;class e{initMap(){this.map=Mm.map("map",{zoomControl:!1}).setView([50.04,19.94],12),Mm.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(this.map);const r=new Mm.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});Mm.marker([50.04,19.94],{icon:r}).addTo(this.map)}constructor(){this.centroid=[50.04,19.94]}ngOnInit(){this.initMap()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-map"]],decls:1,vars:0,consts:[["id","map"]],template:function(r,s){1&r&&p._UZ(0,"div",0)},styles:["#map[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;height:50vw;width:100%;max-width:768px;max-height:385px;display:flex;margin:0 auto}"]}),e})(),Pv=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-home"]],decls:203,vars:0,consts:[[1,"hero-image"],["src","../../../assets/images/background/home.png","alt",""],[1,"hr-title"],[1,"hero-title"],[1,"our-offer"],[1,"our-offer-item"],["src","../../../assets/images/home/strawberry.png","alt",""],[1,"text-container"],["src","../../../assets/images/home/chocolate.png","alt",""],["src","../../../assets/images/home/blueberry.png","alt",""],["src","../../../assets/images/home/sweets.png","alt",""],[1,"reservation-wrapper"],[1,"book-a-table"],[1,"input-item"],["type","text","id","name"],["for","name"],[1,"container"],["type","text","id","phone"],["for","phone"],["type","text","id","email"],["for","email"],[1,"input-item-wrapper"],["type","date","id","date"],["for","date"],["type","time","id","time"],["for","time"],["type","number","id","guests","min","1","max","12","placeholder","1"],["for","guests"],[1,"input-item-message"],["name","text","id","message","cols","30","rows","5"],["for","message"],[1,"input-item-checkbox"],["type","checkbox","id","checkbox"],["for","checkbox"],["type","submit"],[1,"reservations"],["src","../../../assets/images/icons/clock-icon.svg","alt",""],[1,"wrapper"],[1,"contact"],["src","../../../assets/images/icons/email-icon.svg","alt",""],["src","../../../assets/images/icons/phone-icon.svg","alt",""],[1,"make-an-order"],["type","text"],["for",""],[1,"buttons-wrapper"],[1,"testimonials"],[1,"testimonial-card"],[1,"user"],["src","../../../assets/images/icons/image-placeholder-icon.png","alt",""],[1,"user-details"],[1,"user-name"],[1,"user-desc"],[1,"testimonial-wrapper"],[1,"share"],["type","text","id","share-name"],["for","share-name"],["name","share-message","id","share-message","cols","30","rows","5"],["for","share-message"],[1,"map"]],template:function(r,s){1&r&&(p.TgZ(0,"main")(1,"div",0),p._UZ(2,"img",1),p.qZA(),p._UZ(3,"hr",2),p.TgZ(4,"h1",3),p._uU(5,"Mr. Pancake"),p.qZA(),p._UZ(6,"hr",2),p.TgZ(7,"section",4)(8,"h2"),p._uU(9,"Co znajdziesz w naszej ofercie?"),p.qZA(),p.TgZ(10,"div",5),p._UZ(11,"img",6),p.TgZ(12,"div",7)(13,"h2"),p._uU(14,"Nale\u015bnik Truskawkowy"),p.qZA(),p.TgZ(15,"p"),p._uU(16," Nasz niebia\u0144ski nale\u015bnik truskawkowy to prawdziwa uczta dla podniebienia. Delikatny nale\u015bnik, cienko usma\u017cony na z\u0142ocist\u0105 konsystencj\u0119, jest nadziewany soczystymi kawa\u0142kami \u015bwie\u017cych truskawek. Ka\u017cdy k\u0119s to doskona\u0142e po\u0142\u0105czenie aksamitnego smaku ciasta z intensywnym aromatem sezonowych owoc\xf3w. Nale\u015bnik ten doskonale balansuje s\u0142odycz truskawek z subteln\u0105 nut\u0105 \u015bwie\u017co\u015bci. "),p.qZA()()(),p.TgZ(17,"div",5),p._UZ(18,"img",8),p.TgZ(19,"div",7)(20,"h2"),p._uU(21,"Nale\u015bnik Czekoladowy"),p.qZA(),p.TgZ(22,"p"),p._uU(23," Czy istnieje co\u015b bardziej kusz\u0105cego ni\u017c po\u0142\u0105czenie jedwabistego nale\u015bnika z dekadentnym smakiem czekolady? Nasz nale\u015bnik czekoladowy to spe\u0142nienie marze\u0144 ka\u017cdego \u0142asucha. Delikatny, lekko chrupi\u0105cy nale\u015bnik otacza g\u0119ste nadzienie z roztopionej czekolady, kt\xf3ra rozp\u0142ywa si\u0119 w ustach. Posypka z czekoladowymi wi\xf3rkami na wierzchu dodaje nuty intensywnego smaku i wykwintnego wygl\u0105du. "),p.qZA()()(),p.TgZ(24,"div",5),p._UZ(25,"img",9),p.TgZ(26,"div",7)(27,"h2"),p._uU(28,"Nale\u015bnik Jagodowy"),p.qZA(),p.TgZ(29,"p"),p._uU(30," Nasze jagodowe niebo w ustach to po\u0142\u0105czenie delikatno\u015bci i \u015bwie\u017co\u015bci. Nale\u015bnik jest przygotowywany z dba\u0142o\u015bci\u0105 o detale, by zachowa\u0107 jego puszysto\u015b\u0107 i lekko\u015b\u0107. Wewn\u0105trz znajdziesz pyszne nadzienie z soczystych, sezonowych jag\xf3d, kt\xf3re dodaj\u0105 lekkiej kwasowo\u015bci i intensywnego koloru. Ka\u017cdy k\u0119s to podr\xf3\u017c po smakach natury, a lekka posypka cukru pudru na wierzchu nadaje mu eleganckiego wyko\u0144czenia. "),p.qZA()()(),p.TgZ(31,"div",5),p._UZ(32,"img",10),p.TgZ(33,"div",7)(34,"h2"),p._uU(35,"Nale\u015bnik Skittles"),p.qZA(),p.TgZ(36,"p"),p._uU(37," Nasz nietuzinkowy nale\u015bnik Skittles to prawdziwa eksplozja kolor\xf3w i smak\xf3w. Jego wyj\u0105tkowo\u015b\u0107 polega na po\u0142\u0105czeniu aksamitnego ciasta z intensywnymi, owocowymi smakami Skittles\xf3w. Ka\u017cdy kawa\u0142ek nale\u015bnika to inny smak - od soczystej pomara\u0144czy przez kwaskowat\u0105 cytryn\u0119 po s\u0142odk\u0105 truskawk\u0119. Dodatkowo, posypany cukrem kryszta\u0142em daje mu nieco chrupi\u0105cy wygl\u0105d i dodatkow\u0105 s\u0142odk\u0105 przyjemno\u015b\u0107. "),p.qZA()()(),p.TgZ(38,"h3"),p._uU(39,"i wiele wi\u0119cej..."),p.qZA(),p._UZ(40,"hr"),p.qZA(),p.TgZ(41,"div",11)(42,"section",12)(43,"h2"),p._uU(44,"Zarezerwuj stolik"),p.qZA(),p.TgZ(45,"form")(46,"div",13),p._UZ(47,"input",14),p.TgZ(48,"label",15),p._uU(49,"imi\u0119 i nazwisko"),p.qZA()(),p.TgZ(50,"div",16)(51,"div",13),p._UZ(52,"input",17),p.TgZ(53,"label",18),p._uU(54,"numer telefonu"),p.qZA()(),p.TgZ(55,"div",13),p._UZ(56,"input",19),p.TgZ(57,"label",20),p._uU(58,"adres email"),p.qZA()()(),p.TgZ(59,"div",21)(60,"div",13),p._UZ(61,"input",22),p.TgZ(62,"label",23),p._uU(63,"data"),p.qZA()(),p.TgZ(64,"div",13),p._UZ(65,"input",24),p.TgZ(66,"label",25),p._uU(67,"godzina"),p.qZA()(),p.TgZ(68,"div",13),p._UZ(69,"input",26),p.TgZ(70,"label",27),p._uU(71,"liczba go\u015bci"),p.qZA()()(),p.TgZ(72,"div",28),p._UZ(73,"textarea",29),p.TgZ(74,"label",30),p._uU(75,"dodatkowa wiadomo\u015b\u0107"),p.qZA()(),p.TgZ(76,"div",31),p._UZ(77,"input",32),p.TgZ(78,"label",33),p._uU(79,"Wyra\u017cam zgod\u0119 na przetwarzanie przez Restauracj\u0119 Starka podanych w formularzu danych osobowych. Wi\u0119cej informacji dotycz\u0105cych przetwarzania danych osobowych znajduje si\u0119 na podstronie polityki prywatno\u015bci."),p.qZA()(),p.TgZ(80,"button",34),p._uU(81,"Zarezerwuj"),p.qZA()()(),p._UZ(82,"hr"),p.TgZ(83,"section",35)(84,"h2"),p._uU(85,"Rezerwacje indywidualne"),p.qZA(),p.TgZ(86,"span"),p._uU(87,"Nasze godziny otwarcia:"),p.qZA(),p.TgZ(88,"div",16)(89,"div"),p._UZ(90,"img",36),p.qZA(),p.TgZ(91,"div",37)(92,"div")(93,"div"),p._uU(94,"pn - pt:"),p.qZA(),p.TgZ(95,"div"),p._uU(96,"sb - nd:"),p.qZA()(),p.TgZ(97,"div")(98,"div"),p._uU(99,"11.00 - 22.00"),p.qZA(),p.TgZ(100,"div"),p._uU(101,"11.00 - 23.00"),p.qZA()()()(),p.TgZ(102,"p"),p._uU(103," ! Restauracja jest nieczynna w Wielkanoc, Uroczysto\u015b\u0107 Wszystkich \u015awi\u0119tych, Wigili\u0119 i Pierwszy Dzie\u0144 \u015awi\u0105t Bo\u017cego Narodzenia oraz Sylwestra. "),p.qZA(),p.TgZ(104,"p"),p._uU(105,"Rezerwacje przyjmujemy mailowo lub telefonicznie:"),p.qZA(),p.TgZ(106,"div",38)(107,"div"),p._UZ(108,"img",39),p.TgZ(109,"div"),p._uU(110,"mrpankakecacow@gmail.com"),p.qZA()(),p.TgZ(111,"div"),p._UZ(112,"img",40),p.TgZ(113,"div"),p._uU(114,"+12 345 345 345"),p.qZA()()()()(),p._UZ(115,"hr"),p.TgZ(116,"section",41)(117,"div",16)(118,"h2"),p._uU(119,"Z\u0142\xf3\u017c zam\xf3wienie"),p.qZA(),p.TgZ(120,"p"),p._uU(121,"Nasza restauracja realizuj\u0119 r\xf3wnie\u017c dostaw\u0119 na zam\xf3wienie."),p.qZA(),p.TgZ(122,"p"),p._uU(123,"Sprawd\u017a czy dowozimy r\xf3wnie\u017c do Twojej lokalizacji"),p.qZA(),p.TgZ(124,"form")(125,"div",37)(126,"div"),p._UZ(127,"input",42),p.TgZ(128,"label",43),p._uU(129,"ulica"),p.qZA()(),p.TgZ(130,"div"),p._UZ(131,"input",42),p.TgZ(132,"label",43),p._uU(133,"nr domu"),p.qZA()()(),p.TgZ(134,"div"),p._UZ(135,"input",42),p.TgZ(136,"label",43),p._uU(137,"miasto"),p.qZA()(),p.TgZ(138,"div",44)(139,"button"),p._uU(140,"Sprawd\u017a"),p.qZA(),p.TgZ(141,"button"),p._uU(142,"Przejd\u017a do oferty"),p.qZA()()()()(),p._UZ(143,"hr"),p.TgZ(144,"section",45)(145,"div",16)(146,"h2"),p._uU(147,"Opinie"),p.qZA(),p.TgZ(148,"div",37)(149,"div",46)(150,"p"),p._uU(151," A visual guide could be a\xa0wireframe, creative composition, or\xa0information architecture. A device that enables... "),p.qZA(),p.TgZ(152,"div",47),p._UZ(153,"img",48),p.TgZ(154,"div",49)(155,"div",50),p._uU(156,"John Carter"),p.qZA(),p.TgZ(157,"div",51),p._uU(158,"Head of Marketing"),p.qZA()()()(),p.TgZ(159,"div",46)(160,"p"),p._uU(161," A visual guide could be a\xa0wireframe, creative composition, or\xa0information architecture. A device that enables... "),p.qZA(),p.TgZ(162,"div",47),p._UZ(163,"img",48),p.TgZ(164,"div",49)(165,"div",50),p._uU(166,"John Carter"),p.qZA(),p.TgZ(167,"div",51),p._uU(168,"Head of Marketing"),p.qZA()()()(),p.TgZ(169,"div",46)(170,"p"),p._uU(171," A visual guide could be a\xa0wireframe, creative composition, or\xa0information architecture. A device that enables... "),p.qZA(),p.TgZ(172,"div",47),p._UZ(173,"img",48),p.TgZ(174,"div",49)(175,"div",50),p._uU(176,"John Carter"),p.qZA(),p.TgZ(177,"div",51),p._uU(178,"Head of Marketing"),p.qZA()()()()()()(),p._UZ(179,"hr"),p.TgZ(180,"div",52)(181,"section",53)(182,"div",16)(183,"h2"),p._uU(184,"Podziel si\u0119 swoj\u0105 opini\u0105"),p.qZA(),p.TgZ(185,"form")(186,"div"),p._UZ(187,"input",54),p.TgZ(188,"label",55),p._uU(189,"imi\u0119"),p.qZA()(),p.TgZ(190,"div"),p._UZ(191,"textarea",56),p.TgZ(192,"label",57),p._uU(193,"wiadomo\u015b\u0107"),p.qZA()(),p.TgZ(194,"button"),p._uU(195,"Wy\u015blij"),p.qZA()()()(),p._UZ(196,"hr"),p.TgZ(197,"section",58)(198,"h2"),p._uU(199,"Wpadnij do nas!"),p.qZA(),p._UZ(200,"app-map"),p.TgZ(201,"p"),p._uU(202,"Mr. Pancake - Krak\xf3w, ul. Wo\u017ana 2"),p.qZA()()()())},dependencies:[Cv,iE,Cp,ku],styles:[".hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:255px;width:100%;object-fit:cover}.hero-title[_ngcontent-%COMP%]{font-family:IngridDarling;font-size:60px;font-weight:400;display:flex;justify-content:center;color:#d1ab7d;margin:0}.hr-title[_ngcontent-%COMP%]:nth-of-type(1){margin:15px 0 0}.hr-title[_ngcontent-%COMP%]:nth-of-type(2){margin:0}.our-offer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.our-offer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;padding:0 24px}.our-offer[_ngcontent-%COMP%]   .our-offer-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;object-fit:contain}.our-offer[_ngcontent-%COMP%]   .our-offer-item[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{margin:0 24px;max-width:375px}.our-offer[_ngcontent-%COMP%]   .our-offer-item[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:PirataOne;font-weight:400;font-size:24px;margin:15px 0 5px}.our-offer[_ngcontent-%COMP%]   .our-offer-item[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:OpenSansItalic;font-weight:400;font-size:16px;color:#d1ab7d}.book-a-table[_ngcontent-%COMP%]{background-image:url(contact.9f215e8e0f0e702a.png);background-repeat:no-repeat;background-position:center;background-size:cover;width:100%;display:flex;justify-content:center;flex-direction:column;text-align:center;margin:auto}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;max-width:290px;margin:auto}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin:0;display:flex;flex-direction:column}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-item-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-item-wrapper[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{max-width:84px}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-item-message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-item-message[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-height:92px}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-item-checkbox[_ngcontent-%COMP%]{display:flex;margin:15px 0 0;position:relative}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-item-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;position:absolute;width:20px;height:20px;margin:2px 0 0;border:3px solid #272727;border-radius:5px;background-color:#272727;opacity:.8}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-item-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked{background:#d1ab7d;opacity:1}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-item-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 0 0 35px}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:15px auto 25px}.reservations[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;padding:0 24px;margin:auto;max-width:530px}.reservations[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;font-family:PirataOne;color:#d1ab7d}.reservations[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10px 0 0}.reservations[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin:0 0 0 15px;display:flex;gap:30px;color:#fff;font-size:24px;font-family:PirataOne;padding:0 30px 0 0}.reservations[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin:0 0 25px}.reservations[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.reservations[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0 0 0 15px;font-size:24px;color:#fff;font-family:PirataOne}.make-an-order[_ngcontent-%COMP%]{background-image:url(order.a380dc72bed19346.png);background-repeat:no-repeat;background-position:center;background-size:cover}.make-an-order[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin:0 auto;display:flex;justify-content:center;flex-direction:column;max-width:530px;padding:0 24px}.make-an-order[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:25px auto 0}.make-an-order[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin:15px 0 0}.make-an-order[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:25px 0 0}.make-an-order[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:35px}.make-an-order[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.make-an-order[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(1){flex:2}.make-an-order[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){flex:1}.make-an-order[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .buttons-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:30px 0 25px;gap:25px}.make-an-order[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .buttons-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-of-type(2){white-space:nowrap;max-width:none}.testimonials[_ngcontent-%COMP%]{margin:0 0 25px}.testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin:0 auto;display:flex;justify-content:center;flex-direction:column;max-width:350px;padding:0 24px}.testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]{background-color:#333;opacity:.8;border-radius:20px;padding:35px}.testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:OpenSans;font-size:16px;color:#fff}.testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;align-items:center;margin:20px 0 0}.testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 15px 0 0}.testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#d1ab7d;font-family:OpenSans;font-weight:700}.testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .user-desc[_ngcontent-%COMP%]{font-family:OpenSans;margin:6px 0 0}.share[_ngcontent-%COMP%]{padding:0 24px;margin:20px auto 0}.share[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;margin:0 auto}.share[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}.share[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;margin:0 auto}.share[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .share[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;max-width:530px;min-width:300px}.share[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:25px auto 10px}.map[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center}.map[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:PirataOne;font-size:16px;color:#fff;text-align:center}@media (min-width: 375px){.our-offer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:auto}.our-offer[_ngcontent-%COMP%]   .our-offer-title[_ngcontent-%COMP%]{font-size:28px;margin:15px 0}.our-offer[_ngcontent-%COMP%]   .our-offer-item[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;margin:auto}.our-offer[_ngcontent-%COMP%]   .our-offer-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:375px;object-fit:contain;margin:auto}span[_ngcontent-%COMP%]:nth-of-type(2){font-size:28px}}@media (min-width: 768px){.our-offer[_ngcontent-%COMP%]{gap:35px}.our-offer[_ngcontent-%COMP%]   .our-offer-title[_ngcontent-%COMP%]{font-size:32px;margin:35px 0 0}.our-offer[_ngcontent-%COMP%]   .our-offer-item[_ngcontent-%COMP%]{flex-direction:row}span[_ngcontent-%COMP%]:nth-of-type(2){font-size:32px}.book-a-table[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:568px;display:flex;flex-wrap:wrap}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{min-width:265px}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-item-wrapper[_ngcontent-%COMP%]{display:flex;gap:40px}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-item-wrapper[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]:nth-of-type(1){max-width:none;flex:2}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-item-wrapper[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]:nth-of-type(2){max-width:none;flex:1}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-item-wrapper[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]:nth-of-type(3){max-width:none;flex:1}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{margin:15px 0 0}.book-a-table[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:40px auto 25px}}@media (min-width: 1024px){.our-offer[_ngcontent-%COMP%]{gap:0}.our-offer[_ngcontent-%COMP%]   .our-offer-item[_ngcontent-%COMP%]{width:100%;margin:0;justify-content:center;align-items:flex-start}.our-offer[_ngcontent-%COMP%]   .our-offer-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40%;max-width:455px;margin:25px 0 0}.our-offer[_ngcontent-%COMP%]   .our-offer-item[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{margin:0 40px}.our-offer[_ngcontent-%COMP%]   .our-offer-item[_ngcontent-%COMP%]:nth-of-type(2), .our-offer[_ngcontent-%COMP%]   .our-offer-item[_ngcontent-%COMP%]:nth-of-type(4){flex-direction:row-reverse}.testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin:0 auto;flex-wrap:wrap;max-width:none;padding:0 50px}.testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{justify-content:center;flex-direction:row;gap:35px}.testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]{max-width:300px}}@media (min-width: 1440px){.reservation-wrapper[_ngcontent-%COMP%]{display:flex;background-image:url(contact.9f215e8e0f0e702a.png);background-repeat:no-repeat;background-position:center;background-size:cover}.reservation-wrapper[_ngcontent-%COMP%]   .book-a-table[_ngcontent-%COMP%]{margin:0 auto 85px;background-image:none;flex:1;position:relative}.reservation-wrapper[_ngcontent-%COMP%]   .book-a-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;bottom:-50px;margin:auto}.reservation-wrapper[_ngcontent-%COMP%]   .reservations[_ngcontent-%COMP%]{margin:0 auto;justify-content:start;flex:1}.reservation-wrapper[_ngcontent-%COMP%]   .reservations[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:40px 0 0}.reservation-wrapper[_ngcontent-%COMP%]   .reservations[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{justify-content:start;margin:25px 0 0}.reservation-wrapper[_ngcontent-%COMP%]   .reservations[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:40px 0 0}.testimonial-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 40px}.testimonial-wrapper[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]{width:40%}.testimonial-wrapper[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{width:60%}.testimonial-wrapper[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   #map[_ngcontent-%COMP%]{max-width:550px;max-height:285px;border-radius:10px}}"]}),e})(),gS=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-about"]],decls:2,vars:0,template:function(r,s){1&r&&(p.TgZ(0,"p"),p._uU(1,"about works!"),p.qZA())}}),e})(),FE=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-menu"]],decls:2,vars:0,template:function(r,s){1&r&&(p.TgZ(0,"p"),p._uU(1,"menu works!"),p.qZA())}}),e})();var mS=k(6321),Wn=k(2793);function xm(){return(0,oo.e)((t,e)=>{let n,r=!1;t.subscribe((0,Dr.x)(e,s=>{const c=n;n=s,r&&e.next([c,s]),r=!0}))})}var _t,Pm=k(3997),Ks=k(6304),VE=(k(8661),k(3399)),Ve=k(5861),Md=k(7592),bp=k(4537),Lu=k(7879),wn=k(9058),_S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eu={},Ov=Ov||{},an=_S||self;function Om(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Cl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Nm="closure_uid_"+(1e9*Math.random()>>>0),Rm=0;function CP(t,e,n){return t.call.apply(t.bind,arguments)}function yS(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function uo(t,e,n){return(uo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?CP:yS).apply(null,arguments)}function Tp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Gi(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,c){for(var d=Array(arguments.length-2),_=2;_<arguments.length;_++)d[_-2]=arguments[_];return e.prototype[s].apply(r,d)}}function El(){this.s=this.s,this.o=this.o}El.prototype.s=!1,El.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Dp(t){Object.prototype.hasOwnProperty.call(t,Nm)&&t[Nm]||(t[Nm]=++Rm)}(this)},El.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nv=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xd(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function UE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Om(r)){const s=t.length||0,c=r.length||0;t.length=s+c;for(let d=0;d<c;d++)t[s+d]=r[d]}else t.push(r)}}function co(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}co.prototype.h=function(){this.defaultPrevented=!0};var jE=function(){if(!an.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{an.addEventListener("test",()=>{},e),an.removeEventListener("test",()=>{},e)}catch{}return t}();function Sp(t){return/^[\s\xa0]*$/.test(t)}function km(){var t=an.navigator;return t&&(t=t.userAgent)?t:""}function Ds(t){return-1!=km().indexOf(t)}function Rv(t){return Rv[" "](t),t}Rv[" "]=function(){};var Ap,t,wS=Ds("Opera"),Wh=Ds("Trident")||Ds("MSIE"),zE=Ds("Edge"),kv=zE||Wh,$E=Ds("Gecko")&&!(-1!=km().toLowerCase().indexOf("webkit")&&!Ds("Edge"))&&!(Ds("Trident")||Ds("MSIE"))&&!Ds("Edge"),CS=-1!=km().toLowerCase().indexOf("webkit")&&!Ds("Edge");function Lv(){var t=an.document;return t?t.documentMode:void 0}e:{var Fv="",qh=(t=km(),$E?/rv:([^\);]+)(\)|;)/.exec(t):zE?/Edge\/([\d\.]+)/.exec(t):Wh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):CS?/WebKit\/(\S+)/.exec(t):wS?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(qh&&(Fv=qh?qh[1]:""),Wh){var Vv=Lv();if(null!=Vv&&Vv>parseFloat(Fv)){Ap=String(Vv);break e}}Ap=Fv}var ES=an.document&&Wh&&(Lv()||parseInt(Ap,10))||void 0;function Mp(t,e){if(co.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($E){e:{try{Rv(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:IS[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mp.$.h.call(this)}}Gi(Mp,co);var IS={2:"touch",3:"pen",4:"mouse"};Mp.prototype.h=function(){Mp.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xp="closure_listenable_"+(1e6*Math.random()|0),ZE=0;function GE(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++ZE,this.fa=this.ia=!1}function Lm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function WE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Uv(t){const e={};for(const n in t)e[n]=t[n];return e}const bS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pp(t,e){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)t[n]=r[n];for(let c=0;c<bS.length;c++)n=bS[c],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Fm(t){this.src=t,this.g={},this.h=0}function jv(t,e){var n=e.type;if(n in t.g){var c,r=t.g[n],s=Nv(r,e);(c=0<=s)&&Array.prototype.splice.call(r,s,1),c&&(Lm(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Op(t,e,n,r){for(var s=0;s<t.length;++s){var c=t[s];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==r)return s}return-1}Fm.prototype.add=function(t,e,n,r,s){var c=t.toString();(t=this.g[c])||(t=this.g[c]=[],this.h++);var d=Op(t,e,r,s);return-1<d?(e=t[d],n||(e.ia=!1)):((e=new GE(e,this.src,c,!!r,s)).ia=n,t.push(e)),e};var zv="closure_lm_"+(1e6*Math.random()|0),Sa={};function Kh(t,e,n,r,s){if(r&&r.once)return Np(t,e,n,r,s);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Kh(t,e[c],n,r,s);return null}return n=Dl(n),t&&t[xp]?t.O(e,n,Cl(r)?!!r.capture:!!r,s):lo(t,e,n,!1,r,s)}function lo(t,e,n,r,s,c){if(!e)throw Error("Invalid event type");var d=Cl(s)?!!s.capture:!!s,_=Il(t);if(_||(t[zv]=_=new Fm(t)),(n=_.add(e,n,r,d,c)).proxy)return n;if(r=function Pd(){const e=Yh;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)jE||(s=d),void 0===s&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Od(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Np(t,e,n,r,s){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Np(t,e[c],n,r,s);return null}return n=Dl(n),t&&t[xp]?t.P(e,n,Cl(r)?!!r.capture:!!r,s):lo(t,e,n,!0,r,s)}function Ys(t,e,n,r,s){if(Array.isArray(e))for(var c=0;c<e.length;c++)Ys(t,e[c],n,r,s);else r=Cl(r)?!!r.capture:!!r,n=Dl(n),t&&t[xp]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Op(c=t.g[e],n,r,s))&&(Lm(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete t.g[e],t.h--))):t&&(t=Il(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Op(e,n,r,s)),(n=-1<t?e[t]:null)&&Rp(n))}function Rp(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[xp])jv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Od(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Il(e))?(jv(n,t),0==n.h&&(n.src=null,e[zv]=null)):Lm(t)}}}function Od(t){return t in Sa?Sa[t]:Sa[t]="on"+t}function Yh(t,e){if(t.fa)t=!0;else{e=new Mp(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Rp(t),t=n.call(r,e)}return t}function Il(t){return(t=t[zv])instanceof Fm?t:null}var bl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dl(t){return"function"==typeof t?t:(t[bl]||(t[bl]=function(e){return t.handleEvent(e)}),t[bl])}function Kr(){El.call(this),this.i=new Fm(this),this.S=this,this.J=null}function ei(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new co(e,t);else if(e instanceof co)e.target=e.target||t;else{var s=e;Pp(e=new co(r,t),s)}if(s=!0,n)for(var c=n.length-1;0<=c;c--){var d=e.g=n[c];s=wc(d,r,!0,e)&&s}if(s=wc(d=e.g=t,r,!0,e)&&s,s=wc(d,r,!1,e)&&s,n)for(c=0;c<n.length;c++)s=wc(d=e.g=n[c],r,!1,e)&&s}function wc(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,c=0;c<e.length;++c){var d=e[c];if(d&&!d.fa&&d.capture==n){var _=d.listener,b=d.la||d.src;d.ia&&jv(t.i,d),s=!1!==_.call(b,r)&&s}}return s&&!r.defaultPrevented}Gi(Kr,El),Kr.prototype[xp]=!0,Kr.prototype.removeEventListener=function(t,e,n,r){Ys(this,t,e,n,r)},Kr.prototype.N=function(){if(Kr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Lm(n[r]);delete t.g[e],t.h--}}this.J=null},Kr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Kr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Tl=an.JSON.stringify;function YE(){var t=kp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var $v=new class KE{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new XE,t=>t.reset());class XE{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function JE(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function eI(t){an.setTimeout(()=>{throw t},0)}let Qh,Xh=!1,kp=new class QE{constructor(){this.h=this.g=null}add(e,n){const r=$v.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},tI=()=>{const t=an.Promise.resolve(void 0);Qh=()=>{t.then(EP)}};var EP=()=>{for(var t;t=YE();){try{t.h.call(t.g)}catch(n){eI(n)}var e=$v;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xh=!1};function Hv(t,e){Kr.call(this),this.h=t||1,this.g=e||an,this.j=uo(this.qb,this),this.l=Date.now()}function Zv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Gv(t,e,n){if("function"==typeof t)n&&(t=uo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=uo(t.handleEvent,t)}return 2147483647<Number(e)?-1:an.setTimeout(t,e||0)}function DS(t){t.g=Gv(()=>{t.g=null,t.i&&(t.i=!1,DS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Gi(Hv,Kr),(_t=Hv.prototype).ga=!1,_t.T=null,_t.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ei(this,"tick"),this.ga&&(Zv(this),this.start()))}},_t.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.N=function(){Hv.$.N.call(this),Zv(this),delete this.g};class TS extends El{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:DS(this)}N(){super.N(),this.g&&(an.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vm(t){El.call(this),this.h=t,this.g={}}Gi(Vm,El);var nI=[];function rI(t,e,n,r){Array.isArray(n)||(n&&(nI[0]=n.toString()),n=nI);for(var s=0;s<n.length;s++){var c=Kh(e,n[s],r||t.handleEvent,!1,t.h||t);if(!c)break;t.g[c.key]=c}}function iI(t){WE(t.g,function(e,n){this.g.hasOwnProperty(n)&&Rp(e)},t),t.g={}}function Jh(){this.g=!0}function Cc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Fp(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var c=s[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var d=1;d<s.length;d++)s[d]=""}}}return Tl(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Vm.prototype.N=function(){Vm.$.N.call(this),iI(this)},Vm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jh.prototype.Ea=function(){this.g=!1},Jh.prototype.info=function(){};var Sl={},sI=null;function Al(){return sI=sI||new Kr}function aI(t){co.call(this,Sl.Ta,t)}function Vp(t){const e=Al();ei(e,new aI(e))}function uI(t,e){co.call(this,Sl.STAT_EVENT,t),this.stat=e}function Qo(t){const e=Al();ei(e,new uI(e,t))}function Bm(t,e){co.call(this,Sl.Ua,t),this.size=e}function Ml(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return an.setTimeout(function(){t()},e)}Sl.Ta="serverreachability",Gi(aI,co),Sl.STAT_EVENT="statevent",Gi(uI,co),Sl.Ua="timingevent",Gi(Bm,co);var Nd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},SS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qv(){}function Um(){}qv.prototype.h=null;var Yv,Bp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jm(){co.call(this,"d")}function Kv(){co.call(this,"c")}function Up(){}function ef(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Vm(this),this.P=AS,this.V=new Hv(t=kv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Qv}function Qv(){this.i=null,this.g="",this.h=!1}Gi(jm,co),Gi(Kv,co),Gi(Up,qv),Up.prototype.g=function(){return new XMLHttpRequest},Up.prototype.i=function(){return{}},Yv=new Up;var AS=45e3,Xv={},zm={};function Jv(t,e,n){t.L=1,t.v=qm(Ec(e)),t.s=n,t.S=!0,$m(t,null)}function $m(t,e){t.G=Date.now(),xl(t),t.A=Ec(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),l0(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Qv,t.g=b0(t.l,n?e:null,!t.s),0<t.O&&(t.M=new TS(uo(t.Pa,t,t.g),t.O)),rI(t.U,t.g,"readystatechange",t.nb),e=t.I?Uv(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Vp(),function Lp(t,e,n,r,s,c){t.info(function(){if(t.g)if(c)for(var d="",_=c.split("&"),b=0;b<_.length;b++){var A=_[b].split("=");if(1<A.length){var N=A[0];A=A[1];var j=N.split("_");d=2<=j.length&&"type"==j[1]?d+(N+"=")+A+"&":d+(N+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+n+"\n"+d})}(t.j,t.u,t.A,t.m,t.W,t.s)}function Hm(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function lI(t,e,n){let s,r=!0;for(;!t.J&&t.C<n.length;){if(s=Zm(t,n),s==zm){4==e&&(t.o=4,Qo(14),r=!1),Cc(t.j,t.m,null,"[Incomplete Response]");break}if(s==Xv){t.o=4,Qo(15),Cc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Cc(t.j,t.m,s,null),e0(t,s)}Hm(t)&&s!=zm&&s!=Xv&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Qo(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),C0(e),e.M=!0,Qo(11))):(Cc(t.j,t.m,n,"[Invalid Chunked Response]"),Rd(t),zp(t))}function Zm(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?zm:(n=Number(e.substring(n,r)),isNaN(n)?Xv:(r+=1)+n>e.length?zm:(e=e.slice(r,r+n),t.C=r+n,e))}function xl(t){t.Y=Date.now()+t.P,Gm(t,t.P)}function Gm(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ml(uo(t.lb,t),e)}function jp(t){t.B&&(an.clearTimeout(t.B),t.B=null)}function zp(t){0==t.l.H||t.J||EI(t.l,t)}function Rd(t){jp(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Zv(t.V),iI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function e0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||h0(n.i,t)))if(!t.K&&h0(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;e_(n),Ts(n)}Vd(n),Qo(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ml(uo(n.ib,n),6e3));if(1>=pI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ol(n,11)}else if((t.K||n.g==t)&&e_(n),!Sp(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let A=s[e];if(n.V=A[0],A=A[1],2==n.H)if("c"==A[0]){n.K=A[1],n.pa=A[2];const N=A[3];null!=N&&(n.ra=N,n.l.info("VER="+n.ra));const j=A[4];null!=j&&(n.Ga=j,n.l.info("SVER="+n.Ga));const ne=A[5];null!=ne&&"number"==typeof ne&&0<ne&&(n.L=r=1.5*ne,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const ae=t.g;if(ae){const Le=ae.g?ae.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Le){var c=r.i;c.g||-1==Le.indexOf("spdy")&&-1==Le.indexOf("quic")&&-1==Le.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Hp(c,c.h),c.h=null))}if(r.F){const et=ae.g?ae.g.getResponseHeader("X-HTTP-Session-Id"):null;et&&(r.Da=et,Ar(r.I,r.F,et))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=t;if((r=n).wa=II(r,r.J?r.pa:null,r.Y),d.K){Pl(r.i,d);var _=d,b=r.L;b&&_.setTimeout(b),_.B&&(jp(_),xl(_)),r.g=d}else Jm(r);0<n.j.length&&Kp(n)}else"stop"!=A[0]&&"close"!=A[0]||Ol(n,7);else 3==n.H&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?Ol(n,7):Qs(n):"noop"!=A[0]&&n.h&&n.h.Aa(A),n.A=0)}Vp()}catch{}}function r0(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Om(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function n0(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Om(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function t0(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Om(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),s=r.length,c=0;c<s;c++)e.call(void 0,r[c],n&&n[c],t)}(_t=ef.prototype).setTimeout=function(t){this.P=t},_t.nb=function(t){t=t.target;const e=this.M;e&&3==Dc(t)?e.l():this.Pa(t)},_t.Pa=function(t){try{if(t==this.g)e:{const N=Dc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>N)&&(3!=N||kv||this.g&&(this.h.h||this.g.ja()||_0(this.g)))){this.J||4!=N||7==e||Vp(),jp(this);var n=this.g.da();this.ca=n;t:if(Hm(this)){var r=_0(this.g);t="";var s=r.length,c=4==Dc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Rd(this),zp(this);var d="";break t}this.h.i=new an.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:c&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==n,function Wv(t,e,n,r,s,c,d){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+n+"\n"+c+" "+d})}(this.j,this.u,this.A,this.m,this.W,N,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var _,b=this.g;if((_=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sp(_)){var A=_;break t}}A=null}if(!(n=A)){this.i=!1,this.o=3,Qo(12),Rd(this),zp(this);break e}Cc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,e0(this,n)}this.S?(lI(this,N,d),kv&&this.i&&3==N&&(rI(this.U,this.V,"tick",this.mb),this.V.start())):(Cc(this.j,this.m,d,null),e0(this,d)),4==N&&Rd(this),this.i&&!this.J&&(4==N?EI(this.l,this):(this.i=!1,xl(this)))}else(function y0(t){const e={};t=(t.g&&2<=Dc(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Sp(t[r]))continue;var n=JE(t[r]);const s=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[s]||[];e[s]=c,c.push(n)}!function qE(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<d.indexOf("Unknown SID")?(this.o=3,Qo(12)):(this.o=0,Qo(13)),Rd(this),zp(this)}}}catch{}},_t.mb=function(){if(this.g){var t=Dc(this.g),e=this.g.ja();this.C<e.length&&(jp(this),lI(this,t,e),this.i&&4!=t&&xl(this))}},_t.cancel=function(){this.J=!0,Rd(this)},_t.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function oI(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Vp(),Qo(17)),Rd(this),this.o=2,zp(this)):Gm(this,this.Y-t)};var o0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kd(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof kd){this.h=t.h,tf(this,t.j),this.s=t.s,this.g=t.g,$p(this,t.m),this.l=t.l;var e=t.i,n=new Ld;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Wm(this,n),this.o=t.o}else t&&(e=String(t).match(o0))?(this.h=!1,tf(this,e[1]||"",!0),this.s=nf(e[2]||""),this.g=nf(e[3]||"",!0),$p(this,e[4]),this.l=nf(e[5]||"",!0),Wm(this,e[6]||"",!0),this.o=nf(e[7]||"")):(this.h=!1,this.i=new Ld(null,this.h))}function Ec(t){return new kd(t)}function tf(t,e,n){t.j=n?nf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $p(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Wm(t,e,n){e instanceof Ld?(t.i=e,function hI(t,e){e&&!t.j&&(Ic(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(u0(this,r),l0(this,s,n))},t)),t.j=e}(t.i,t.h)):(n||(e=rf(e,OS)),t.i=new Ld(e,t.h))}function Ar(t,e,n){t.i.set(e,n)}function qm(t){return Ar(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function nf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,dI),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function dI(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}kd.prototype.toString=function(){var t=[],e=this.j;e&&t.push(rf(e,s0,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(rf(e,s0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(rf(n,"/"==n.charAt(0)?PS:xS,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",rf(n,a0)),t.join("")};var s0=/[#\/\?@]/g,xS=/[#\?:]/g,PS=/[#\?]/g,OS=/[#\?@]/g,a0=/#/g;function Ld(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ic(t){t.g||(t.g=new Map,t.h=0,t.i&&function MS(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var c=t[n].substring(0,r);s=t[n].substring(r+1)}else c=t[n];e(c,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function u0(t,e){Ic(t),e=Fd(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function c0(t,e){return Ic(t),e=Fd(t,e),t.g.has(e)}function l0(t,e,n){u0(t,e),0<n.length&&(t.i=null,t.g.set(Fd(t,e),xd(n)),t.h+=n.length)}function Fd(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function d0(t){this.l=t||Km,t=an.PerformanceNavigationTiming?0<(t=an.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(an.g&&an.g.Ka&&an.g.Ka()&&an.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_t=Ld.prototype).add=function(t,e){Ic(this),this.i=null,t=Fd(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},_t.forEach=function(t,e){Ic(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)},_t.ta=function(){Ic(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let c=0;c<s.length;c++)n.push(e[r])}return n},_t.Z=function(t){Ic(this);let e=[];if("string"==typeof t)c0(this,t)&&(e=e.concat(this.g.get(Fd(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},_t.set=function(t,e){return Ic(this),this.i=null,c0(this,t=Fd(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},_t.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const c=encodeURIComponent(String(r)),d=this.Z(r);for(r=0;r<d.length;r++){var s=c;""!==d[r]&&(s+="="+encodeURIComponent(String(d[r]))),t.push(s)}}return this.i=t.join("&")};var Km=10;function bc(t){return!!t.h||!!t.g&&t.g.size>=t.j}function pI(t){return t.h?1:t.g?t.g.size:0}function h0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Hp(t,e){t.g?t.g.add(e):t.h=e}function Pl(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ym(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return xd(t.i)}d0.prototype.cancel=function(){if(this.i=Ym(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var NS=class{stringify(t){return an.JSON.stringify(t,void 0)}parse(t){return an.JSON.parse(t,void 0)}};function f0(){this.g=new NS}function IP(t,e,n){const r=n||"";try{r0(t,function(s,c){let d=s;Cl(s)&&(d=Tl(s)),e.push(r+c+"="+encodeURIComponent(d))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Qm(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Zp(t){this.l=t.fc||null,this.j=t.ob||!1}function Gp(t,e){Kr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=p0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gi(Zp,qv),Zp.prototype.g=function(){return new Gp(this.l,this.j)},Zp.prototype.i=function(t){return function(){return t}}({}),Gi(Gp,Kr);var p0=0;function Ci(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function sf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wp(t)}function Wp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(_t=Gp.prototype).open=function(t,e){if(this.readyState!=p0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wp(this)},_t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||an).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sf(this)),this.readyState=p0},_t.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wp(this)),this.g&&(this.readyState=3,Wp(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof an.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ci(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},_t.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sf(this):Wp(this),3==this.readyState&&Ci(this)}},_t.Za=function(t){this.g&&(this.response=this.responseText=t,sf(this))},_t.Ya=function(t){this.g&&(this.response=t,sf(this))},_t.ka=function(){this.g&&sf(this)},_t.setRequestHeader=function(t,e){this.v.append(t,e)},_t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Gp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var RS=an.JSON.parse;function Yr(t){Kr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gI,this.L=this.M=!1}Gi(Yr,Kr);var gI="",mI=/^https?$/i,_I=["POST","PUT"];function yI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,vI(t),Xm(t)}function vI(t){t.F||(t.F=!0,ei(t,"complete"),ei(t,"error"))}function g0(t){if(t.h&&typeof Ov<"u"&&(!t.C[1]||4!=Dc(t)||2!=t.da()))if(t.v&&4==Dc(t))Gv(t.La,0,t);else if(ei(t,"readystatechange"),4==Dc(t)){t.h=!1;try{const d=t.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===d){var s=String(t.I).match(o0)[1]||null;!s&&an.self&&an.self.location&&(s=an.self.location.protocol.slice(0,-1)),r=!mI.test(s?s.toLowerCase():"")}n=r}if(n)ei(t,"complete"),ei(t,"success");else{t.m=6;try{var c=2<Dc(t)?t.g.statusText:""}catch{c=""}t.j=c+" ["+t.da()+"]",vI(t)}}finally{Xm(t)}}}function Xm(t,e){if(t.g){m0(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ei(t,"ready");try{n.onreadystatechange=r}catch{}}}function m0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(an.clearTimeout(t.A),t.A=null)}function Dc(t){return t.g?t.g.readyState:0}function _0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case gI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function tu(t){let e="";return WE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function v0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tu(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ar(t,e,n))}function qp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nu(t){this.Ga=0,this.j=[],this.l=new Jh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qp("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qp("baseRetryDelayMs",5e3,t),this.hb=qp("retryDelaySeedMs",1e4,t),this.eb=qp("forwardChannelMaxRetries",2,t),this.xa=qp("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new d0(t&&t.concurrentRequestLimit),this.Ja=new f0,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Qs(t){if(w0(t),3==t.H){var e=t.W++,n=Ec(t.I);if(Ar(n,"SID",t.K),Ar(n,"RID",e),Ar(n,"TYPE","terminate"),Yp(t,n),(e=new ef(t,t.l,e)).L=2,e.v=qm(Ec(n)),n=!1,an.navigator&&an.navigator.sendBeacon)try{n=an.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&an.Image&&((new Image).src=e.v,n=!0),n||(e.g=b0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),xl(e)}Qp(t)}function Ts(t){t.g&&(C0(t),t.g.cancel(),t.g=null)}function w0(t){Ts(t),t.u&&(an.clearTimeout(t.u),t.u=null),e_(t),t.i.cancel(),t.m&&("number"==typeof t.m&&an.clearTimeout(t.m),t.m=null)}function Kp(t){if(!bc(t.i)&&!t.m){t.m=!0;var e=t.Na;Qh||tI(),Xh||(Qh(),Xh=!0),kp.add(e,t),t.C=0}}function wI(t,e){var n;n=e?e.m:t.W++;const r=Ec(t.I);Ar(r,"SID",t.K),Ar(r,"RID",n),Ar(r,"AID",t.V),Yp(t,r),t.o&&t.s&&v0(r,t.o,t.s),n=new ef(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=CI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Hp(t.i,n),Jv(n,r,e)}function Yp(t,e){t.na&&WE(t.na,function(n,r){Ar(e,r,n)}),t.h&&r0({},function(n,r){Ar(e,r,n)})}function CI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?uo(t.h.Va,t.h,t):null;e:{var s=t.j;let c=-1;for(;;){const d=["count="+n];-1==c?0<n?(c=s[0].g,d.push("ofs="+c)):c=0:d.push("ofs="+c);let _=!0;for(let b=0;b<n;b++){let A=s[b].g;const N=s[b].map;if(A-=c,0>A)c=Math.max(0,s[b].g-100),_=!1;else try{IP(N,d,"req"+A+"_")}catch{r&&r(N)}}if(_){r=d.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Jm(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Qh||tI(),Xh||(Qh(),Xh=!0),kp.add(e,t),t.A=0}}function Vd(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Ml(uo(t.Ma,t),I0(t,t.A)),t.A++,0))}function C0(t){null!=t.B&&(an.clearTimeout(t.B),t.B=null)}function E0(t){t.g=new ef(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ec(t.wa);Ar(e,"RID","rpc"),Ar(e,"SID",t.K),Ar(e,"AID",t.V),Ar(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ar(e,"TO",t.qa),Ar(e,"TYPE","xmlhttp"),Yp(t,e),t.o&&t.s&&v0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=qm(Ec(e)),n.s=null,n.S=!0,$m(n,t)}function e_(t){null!=t.v&&(an.clearTimeout(t.v),t.v=null)}function EI(t,e){var n=null;if(t.g==e){e_(t),C0(t),t.g=null;var r=2}else{if(!h0(t.i,e))return;n=e.F,Pl(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;ei(r=Al(),new Bm(r,n)),Kp(t)}else Jm(t);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function kS(t,e){return!(pI(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Ml(uo(t.Na,t,e),I0(t,t.C)),t.C++,0)))}(t,e)||2==r&&Vd(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Ol(t,5);break;case 4:Ol(t,10);break;case 3:Ol(t,6);break;default:Ol(t,2)}}function I0(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ol(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=uo(t.pb,t);n||(n=new kd("//www.google.com/images/cleardot.gif"),an.location&&"http"==an.location.protocol||tf(n,"https"),qm(n)),function bP(t,e){const n=new Jh;if(an.Image){const r=new Image;r.onload=Tp(Qm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Tp(Qm,n,r,"TestLoadImage: error",!1,e),r.onabort=Tp(Qm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Tp(Qm,n,r,"TestLoadImage: timeout",!1,e),an.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Qo(2);t.H=0,t.h&&t.h.za(e),Qp(t),w0(t)}function Qp(t){if(t.H=0,t.ma=[],t.h){const e=Ym(t.i);(0!=e.length||0!=t.j.length)&&(UE(t.ma,e),UE(t.ma,t.j),t.i.i.length=0,xd(t.j),t.j.length=0),t.h.ya()}}function II(t,e,n){var r=n instanceof kd?Ec(n):new kd(n);if(""!=r.g)e&&(r.g=e+"."+r.g),$p(r,r.m);else{var s=an.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var c=new kd(null);r&&tf(c,r),e&&(c.g=e),s&&$p(c,s),n&&(c.l=n),r=c}return e=t.Da,(n=t.F)&&e&&Ar(r,n,e),Ar(r,"VER",t.ra),Yp(t,r),r}function b0(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yr(n&&t.Ha&&!t.va?new Zp({ob:!0}):t.va)).Oa(t.J),e}function D0(){}function Xp(){if(Wh&&!(10<=Number(ES)))throw Error("Environmental error: no available transport.")}function Xs(t,e){Kr.call(this),this.g=new nu(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Sp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sp(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Tc(this)}function bI(t){jm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function t_(){Kv.call(this),this.status=1}function Tc(t){this.g=t}function Aa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function n_(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=t.g[3],d=(e=t.g[0])+(c^(n=t.g[1])&((s=t.g[2])^c))+r[0]+3614090360&4294967295;d=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=n+(d<<7&4294967295|d>>>25))+((d=c+(s^e&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=s+(n^c&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=n+(e^s&(c^e))+r[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^n&(s^c))+r[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=c+(s^e&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=s+(n^c&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=n+(e^s&(c^e))+r[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^n&(s^c))+r[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=c+(s^e&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=s+(n^c&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=n+(e^s&(c^e))+r[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^n&(s^c))+r[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=c+(s^e&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=s+(n^c&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=n+(e^s&(c^e))+r[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(s^c&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=c+(n^s&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^n&(c^e))+r[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=n+(c^e&(s^c))+r[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(s^c&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=c+(n^s&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^n&(c^e))+r[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=n+(c^e&(s^c))+r[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(s^c&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=c+(n^s&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^n&(c^e))+r[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=n+(c^e&(s^c))+r[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(s^c&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=c+(n^s&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^n&(c^e))+r[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=n+(c^e&(s^c))+r[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(n^s^c)+r[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=s+(c^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=n+(s^c^e)+r[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(n^s^c)+r[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=s+(c^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=n+(s^c^e)+r[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(n^s^c)+r[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=s+(c^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=n+(s^c^e)+r[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(n^s^c)+r[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=s+(c^e^n)+r[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=n+(s^c^e)+r[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(s^(n|~c))+r[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=c+(n^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=s+(e^(c|~n))+r[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=n+(c^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(s^(n|~c))+r[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=c+(n^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=s+(e^(c|~n))+r[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=n+(c^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(s^(n|~c))+r[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=c+(n^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=s+(e^(c|~n))+r[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=n+(c^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((c=(e=n+((d=e+(s^(n|~c))+r[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=c+(n^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((s=c+((d=s+(e^(c|~n))+r[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(d<<21&4294967295|d>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+c&4294967295}function nr(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var c=0|t[s];r&&c==e||(n[s]=c,r=!1)}this.g=n}(_t=Yr.prototype).Oa=function(t){this.M=t},_t.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yv.g(),this.C=function cI(t){return t.h||(t.h=t.i())}(this.u?this.u:Yv),this.g.onreadystatechange=uo(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(c){return void yI(this,c)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())n.set(c,r.get(c))}r=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),s=an.FormData&&t instanceof an.FormData,!(0<=Nv(_I,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,d]of n)this.g.setRequestHeader(c,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{m0(this),0<this.B&&((this.L=function af(t){return Wh&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=uo(this.ua,this)):this.A=Gv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(c){yI(this,c)}},_t.ua=function(){typeof Ov<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ei(this,"timeout"),this.abort(8))},_t.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ei(this,"complete"),ei(this,"abort"),Xm(this))},_t.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xm(this,!0)),Yr.$.N.call(this)},_t.La=function(){this.s||(this.G||this.v||this.l?g0(this):this.kb())},_t.kb=function(){g0(this)},_t.isActive=function(){return!!this.g},_t.da=function(){try{return 2<Dc(this)?this.g.status:-1}catch{return-1}},_t.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_t.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),RS(e)}},_t.Ia=function(){return this.m},_t.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=nu.prototype).ra=8,_t.H=1,_t.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new ef(this,this.l,t);let c=this.s;if(this.U&&(c?(c=Uv(c),Pp(c,this.U)):c=this.U),null!==this.o||this.O||(s.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=CI(this,s,e),Ar(n=Ec(this.I),"RID",t),Ar(n,"CVER",22),this.F&&Ar(n,"X-HTTP-Session-Id",this.F),Yp(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(tu(c)))+"&"+e:this.o&&v0(n,this.o,c)),Hp(this.i,s),this.bb&&Ar(n,"TYPE","init"),this.P?(Ar(n,"$req",e),Ar(n,"SID","null"),s.aa=!0,Jv(s,n,null)):Jv(s,n,e),this.H=2}}else 3==this.H&&(t?wI(this,t):0==this.j.length||bc(this.i)||wI(this))},_t.Ma=function(){if(this.u=null,E0(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ml(uo(this.jb,this),t)}},_t.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qo(10),Ts(this),E0(this))},_t.ib=function(){null!=this.v&&(this.v=null,Ts(this),Vd(this),Qo(19))},_t.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qo(2)):(this.l.info("Failed to ping google.com"),Qo(1))},_t.isActive=function(){return!!this.h&&this.h.isActive(this)},(_t=D0.prototype).Ba=function(){},_t.Aa=function(){},_t.za=function(){},_t.ya=function(){},_t.isActive=function(){return!0},_t.Va=function(){},Xp.prototype.g=function(t,e){return new Xs(t,e)},Gi(Xs,Kr),Xs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qo(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=II(t,null,t.Y),Kp(t)},Xs.prototype.close=function(){Qs(this.g)},Xs.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Tl(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Kp(e)},Xs.prototype.N=function(){this.g.h=null,delete this.j,Qs(this.g),delete this.g,Xs.$.N.call(this)},Gi(bI,jm),Gi(t_,Kv),Gi(Tc,D0),Tc.prototype.Ba=function(){ei(this.g,"a")},Tc.prototype.Aa=function(t){ei(this.g,new bI(t))},Tc.prototype.za=function(t){ei(this.g,new t_)},Tc.prototype.ya=function(){ei(this.g,"b")},Gi(Aa,function DI(){this.blockSize=-1}),Aa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Aa.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,c=0;c<e;){if(0==s)for(;c<=n;)n_(this,t,c),c+=this.blockSize;if("string"==typeof t){for(;c<e;)if(r[s++]=t.charCodeAt(c++),s==this.blockSize){n_(this,r),s=0;break}}else for(;c<e;)if(r[s++]=t[c++],s==this.blockSize){n_(this,r),s=0;break}}this.h=s,this.i+=e},Aa.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var TI={};function r_(t){return-128<=t&&128>t?function vS(t,e){var n=TI;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new nr([0|e],0>e?-1:0)}):new nr([0|t],0>t?-1:0)}function ru(t){if(isNaN(t)||!isFinite(t))return uf;if(0>t)return ho(ru(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=S0;return new nr(e,0)}var S0=4294967296,uf=r_(0),A0=r_(1),SI=r_(16777216);function Sc(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ma(t){return-1==t.h}function ho(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new nr(n,~t.h).add(A0)}function i_(t,e){return t.add(ho(e))}function o_(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Jp(t,e){this.g=t,this.h=e}function s_(t,e){if(Sc(e))throw Error("division by zero");if(Sc(t))return new Jp(uf,uf);if(Ma(t))return e=s_(ho(t),e),new Jp(ho(e.g),ho(e.h));if(Ma(e))return e=s_(t,ho(e)),new Jp(ho(e.g),e.h);if(30<t.g.length){if(Ma(t)||Ma(e))throw Error("slowDivide_ only works with positive integers.");for(var n=A0,r=e;0>=r.X(t);)n=AI(n),r=AI(r);var s=cf(n,1),c=cf(r,1);for(r=cf(r,2),n=cf(n,2);!Sc(r);){var d=c.add(r);0>=d.X(t)&&(s=s.add(n),c=d),r=cf(r,1),n=cf(n,1)}return e=i_(t,s.R(e)),new Jp(s,e)}for(s=uf;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),d=(c=ru(n)).R(e);Ma(d)||0<d.X(t);)d=(c=ru(n-=r)).R(e);Sc(c)&&(c=A0),s=s.add(c),t=i_(t,d)}return new Jp(s,t)}function AI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new nr(n,t.h)}function cf(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],c=0;c<r;c++)s[c]=0<e?t.D(c+n)>>>e|t.D(c+n+1)<<32-e:t.D(c+n);return new nr(s,t.h)}(_t=nr.prototype).ea=function(){if(Ma(this))return-ho(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:S0+r)*e,e*=S0}return t},_t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Sc(this))return"0";if(Ma(this))return"-"+ho(this).toString(t);for(var e=ru(Math.pow(t,6)),n=this,r="";;){var s=s_(n,e).g,c=((0<(n=i_(n,s.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Sc(n=s))return c+r;for(;6>c.length;)c="0"+c;r=c+r}},_t.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},_t.X=function(t){return Ma(t=i_(this,t))?-1:Sc(t)?0:1},_t.abs=function(){return Ma(this)?ho(this):this},_t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var c=r+(65535&this.D(s))+(65535&t.D(s)),d=(c>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=d>>>16,n[s]=(d&=65535)<<16|(c&=65535)}return new nr(n,-2147483648&n[n.length-1]?-1:0)},_t.R=function(t){if(Sc(this)||Sc(t))return uf;if(Ma(this))return Ma(t)?ho(this).R(ho(t)):ho(ho(this).R(t));if(Ma(t))return ho(this.R(ho(t)));if(0>this.X(SI)&&0>t.X(SI))return ru(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var c=this.D(r)>>>16,d=65535&this.D(r),_=t.D(s)>>>16,b=65535&t.D(s);n[2*r+2*s]+=d*b,o_(n,2*r+2*s),n[2*r+2*s+1]+=c*b,o_(n,2*r+2*s+1),n[2*r+2*s+1]+=d*_,o_(n,2*r+2*s+1),n[2*r+2*s+2]+=c*_,o_(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new nr(n,0)},_t.gb=function(t){return s_(this,t).h},_t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new nr(n,this.h&t.h)},_t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new nr(n,this.h|t.h)},_t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new nr(n,this.h^t.h)},Xp.prototype.createWebChannel=Xp.prototype.g,Xs.prototype.send=Xs.prototype.u,Xs.prototype.open=Xs.prototype.m,Xs.prototype.close=Xs.prototype.close,Nd.NO_ERROR=0,Nd.TIMEOUT=8,Nd.HTTP_ERROR=6,SS.COMPLETE="complete",Um.EventType=Bp,Bp.OPEN="a",Bp.CLOSE="b",Bp.ERROR="c",Bp.MESSAGE="d",Kr.prototype.listen=Kr.prototype.O,Yr.prototype.listenOnce=Yr.prototype.P,Yr.prototype.getLastError=Yr.prototype.Sa,Yr.prototype.getLastErrorCode=Yr.prototype.Ia,Yr.prototype.getStatus=Yr.prototype.da,Yr.prototype.getResponseJson=Yr.prototype.Wa,Yr.prototype.getResponseText=Yr.prototype.ja,Yr.prototype.send=Yr.prototype.ha,Yr.prototype.setWithCredentials=Yr.prototype.Oa,Aa.prototype.digest=Aa.prototype.l,Aa.prototype.reset=Aa.prototype.reset,Aa.prototype.update=Aa.prototype.j,nr.prototype.add=nr.prototype.add,nr.prototype.multiply=nr.prototype.R,nr.prototype.modulo=nr.prototype.gb,nr.prototype.compare=nr.prototype.X,nr.prototype.toNumber=nr.prototype.ea,nr.prototype.toString=nr.prototype.toString,nr.prototype.getBits=nr.prototype.D,nr.fromNumber=ru,nr.fromString=function T0(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return ho(T0(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ru(Math.pow(e,8)),r=uf,s=0;s<t.length;s+=8){var c=Math.min(8,t.length-s),d=parseInt(t.substring(s,s+c),e);8>c?(c=ru(Math.pow(e,c)),r=r.R(c).add(ru(d))):r=(r=r.R(n)).add(ru(d))}return r};var LS=eu.createWebChannelTransport=function(){return new Xp},FS=eu.getStatEventTarget=function(){return Al()},M0=eu.ErrorCode=Nd,VS=eu.EventType=SS,BS=eu.Event=Sl,x0=eu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},MI=eu.FetchXmlHttpFactory=Zp,eg=eu.WebChannel=Um,xI=eu.XhrIo=Yr,PI=eu.Md5=Aa,Bd=eu.Integer=nr;const P0="@firebase/firestore";class Oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oi.UNAUTHENTICATED=new Oi(null),Oi.GOOGLE_CREDENTIALS=new Oi("google-credentials-uid"),Oi.FIRST_PARTY=new Oi("first-party-uid"),Oi.MOCK_USER=new Oi("mock-user");let Ud="9.23.0";const Ac=new Lu.Yd("@firebase/firestore");function a_(){return Ac.logLevel}function Xe(t,...e){if(Ac.logLevel<=Lu.in.DEBUG){const n=e.map(OI);Ac.debug(`Firestore (${Ud}): ${t}`,...n)}}function fi(t,...e){if(Ac.logLevel<=Lu.in.ERROR){const n=e.map(OI);Ac.error(`Firestore (${Ud}): ${t}`,...n)}}function fo(t,...e){if(Ac.logLevel<=Lu.in.WARN){const n=e.map(OI);Ac.warn(`Firestore (${Ud}): ${t}`,...n)}}function OI(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function bt(t="Unexpected state"){const e=`FIRESTORE (${Ud}) INTERNAL ASSERTION FAILED: `+t;throw fi(e),new Error(e)}function Ut(t,e){t||bt()}function mt(t,e){return t}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends wn.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class RI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class US{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Oi.UNAUTHENTICATED))}shutdown(){}}class lf{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jS{constructor(e){this.t=e,this.currentUser=Oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let s=this.i;const c=A=>this.i!==s?(s=this.i,n(A)):Promise.resolve();let d=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Ni,e.enqueueRetryable(()=>c(this.currentUser))};const _=()=>{const A=d;e.enqueueRetryable((0,Ve.Z)(function*(){yield A.promise,yield c(r.currentUser)}))},b=A=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(A=>b(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?b(A):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Ni)}},0),_()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut("string"==typeof r.accessToken),new RI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new Oi(e)}}class u_{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Oi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class c_{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new u_(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DP{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=c=>{null!=c.error&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.T;return this.T=c.token,Xe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const s=c=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>s(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?s(c):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ut("string"==typeof n.token),this.T=n.token,new Xo(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class LI{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=kI(40);for(let c=0;c<s.length;++c)r.length<20&&s[c]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[c]%62))}return r}}function rn(t,e){return t<e?-1:t>e?1:0}function zd(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function O0(t){return t+"\0"}class Or{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ze(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ze(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ze(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Or.fromMillis(Date.now())}static fromDate(e){return Or.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Or(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jt(e)}static min(){return new jt(new Or(0,0))}static max(){return new jt(new Or(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tg{constructor(e,n,r){void 0===n?n=0:n>e.length&&bt(),void 0===r?r=e.length-n:r>e.length-n&&bt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===tg.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof tg?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const c=e.get(s),d=n.get(s);if(c<d)return-1;if(c>d)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bn extends tg{construct(e,n,r){return new Bn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ze(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Bn(n)}static emptyPath(){return new Bn([])}}const ng=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends tg{construct(e,n,r){return new ti(e,n,r)}static isValidIdentifier(e){return ng.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ti(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const c=()=>{if(0===r.length)throw new Ze(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;s<e.length;){const _=e[s];if("\\"===_){if(s+1===e.length)throw new Ze(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[s+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Ze(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,s+=2}else"`"===_?(d=!d,s++):"."!==_||d?(r+=_,s++):(c(),s++)}if(c(),d)throw new Ze(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ti(n)}static emptyPath(){return new ti([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Bn.fromString(e))}static fromName(e){return new ft(Bn.fromString(e).popFirst(5))}static empty(){return new ft(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Bn(e.slice()))}}class l_{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function df(t){return t.fields.find(e=>2===e.kind)}function Nl(t){return t.fields.filter(e=>2!==e.kind)}l_.UNKNOWN_ID=-1;class rg{constructor(e,n){this.fieldPath=e,this.kind=n}}class Mc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Mc(0,Js.min())}}function hf(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=jt.fromTimestamp(1e9===r?new Or(n+1,0):new Or(n,r));return new Js(s,ft.empty(),e)}function VI(t){return new Js(t.readTime,t.key,-1)}class Js{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Js(jt.min(),ft.empty(),-1)}static max(){return new Js(jt.max(),ft.empty(),-1)}}function N0(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ft.comparator(t.documentKey,e.documentKey),0!==n?n:rn(t.largestBatchId,e.largestBatchId))}const R0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xc(t){return L0.apply(this,arguments)}function L0(){return L0=(0,Ve.Z)(function*(t){if(t.code!==Se.FAILED_PRECONDITION||t.message!==R0)throw t;Xe("LocalStore","Unexpectedly lost primary lease")}),L0.apply(this,arguments)}class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ie((r,s)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,s)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ie?n:Ie.resolve(n)}catch(n){return Ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.reject(n)}static resolve(e){return new Ie((n,r)=>{n(e)})}static reject(e){return new Ie((n,r)=>{r(e)})}static waitFor(e){return new Ie((n,r)=>{let s=0,c=0,d=!1;e.forEach(_=>{++s,_.next(()=>{++c,d&&c===s&&n()},b=>r(b))}),d=!0,c===s&&n()})}static or(e){let n=Ie.resolve(!1);for(const r of e)n=n.next(s=>s?Ie.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,c)=>{r.push(n.call(this,s,c))}),this.waitFor(r)}static mapArray(e,n){return new Ie((r,s)=>{const c=e.length,d=new Array(c);let _=0;for(let b=0;b<c;b++){const A=b;n(e[A]).next(N=>{d[A]=N,++_,_===c&&r(d)},N=>s(N))}})}static doWhile(e,n){return new Ie((r,s)=>{const c=()=>{!0===e()?n().next(()=>{c()},s):r()};c()})}}class d_{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new Ni,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new h_(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const s=F0(r.target.error);this.v.reject(new h_(e,s))}}static open(e,n,r,s){try{return new d_(n,e.transaction(s,r))}catch(c){throw new h_(n,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new SP(n)}}class iu{constructor(e,n,r){this.name=e,this.version=n,this.V=r,12.2===iu.S((0,wn.z$)())&&fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xe("SimpleDb","Removing database:",e),Rl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,wn.hl)())return!1;if(iu.C())return!0;const e=(0,wn.z$)(),n=iu.S(e),r=0<n&&n<10,s=iu.N(e),c=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var n=this;return(0,Ve.Z)(function*(){return n.db||(Xe("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,s)=>{const c=indexedDB.open(n.name,n.version);c.onsuccess=d=>{r(d.target.result)},c.onblocked=()=>{s(new h_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=d=>{const _=d.target.error;s("VersionError"===_.name?new Ze(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Ze(Se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new h_(e,_))},c.onupgradeneeded=d=>{Xe("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',d.oldVersion),n.V.O(d.target.result,c.transaction,d.oldVersion,n.version).next(()=>{Xe("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=r=>n.F(r)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,s){var c=this;return(0,Ve.Z)(function*(){const d="readonly"===n;let _=0;for(;;){++_;try{c.db=yield c.$(e);const b=d_.open(c.db,e,d?"readonly":"readwrite",r),A=s(b).next(N=>(b.P(),N)).catch(N=>(b.abort(N),Ie.reject(N))).toPromise();return A.catch(()=>{}),yield b.R,A}catch(b){const A=b,N="FirebaseError"!==A.name&&_<3;if(Xe("SimpleDb","Transaction failed with error:",A.message,"Retrying:",N),c.close(),!N)return Promise.reject(A)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class TP{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Rl(this.L.delete())}}class h_ extends Ze{constructor(e,n){super(Se.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function $d(t){return"IndexedDbTransactionError"===t.name}class SP{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(Xe("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Rl(r)}add(e){return Xe("SimpleDb","ADD",this.store.name,e,e),Rl(this.store.add(e))}get(e){return Rl(this.store.get(e)).next(n=>(void 0===n&&(n=null),Xe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Xe("SimpleDb","DELETE",this.store.name,e),Rl(this.store.delete(e))}count(){return Xe("SimpleDb","COUNT",this.store.name),Rl(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),c=[];return this.W(s,(d,_)=>{c.push(_)}).next(()=>c)}{const s=this.store.getAll(r.range);return new Ie((c,d)=>{s.onerror=_=>{d(_.target.error)},s.onsuccess=_=>{c(_.target.result)}})}}H(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new Ie((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}J(e,n){Xe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const s=this.cursor(r);return this.W(s,(c,d,_)=>_.delete())}X(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.W(s,n)}Z(e){const n=this.cursor({});return new Ie((r,s)=>{n.onerror=c=>{const d=F0(c.target.error);s(d)},n.onsuccess=c=>{const d=c.target.result;d?e(d.primaryKey,d.value).next(_=>{_?d.continue():r()}):r()}})}W(e,n){const r=[];return new Ie((s,c)=>{e.onerror=d=>{c(d.target.error)},e.onsuccess=d=>{const _=d.target.result;if(!_)return void s();const b=new TP(_),A=n(_.primaryKey,_.value,b);if(A instanceof Ie){const N=A.catch(j=>(b.done(),Ie.reject(j)));r.push(N)}b.isDone?s():null===b.K?_.continue():_.continue(b.K)}}).next(()=>Ie.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Rl(t){return new Ie((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const s=F0(r.target.error);n(s)}})}let ig=!1;function F0(t){const e=iu.S((0,wn.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ig||(ig=!0,setTimeout(()=>{throw r},0)),r}}return t}class HS{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;Xe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ve.Z)(function*(){n.task=null;try{Xe("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(r){$d(r)?Xe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield xc(r)}yield n.et(6e4)}))}}class BI{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,Ve.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.st(r,e))})()}st(e,n){const r=new Set;let s=n,c=!0;return Ie.doWhile(()=>!0===c&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Xe("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,s).next(_=>{s-=_,r.add(d)});c=!1})).next(()=>n-s)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(c=>{const d=c.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(s,c)).next(_=>(Xe("IndexBackiller",`Updating offset: ${_}`),this.localStore.indexManager.updateCollectionGroup(e,n,_))).next(()=>d.size)}))}rt(e,n){let r=e;return n.changes.forEach((s,c)=>{const d=VI(c);N0(d,r)>0&&(r=d)}),new Js(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let po=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function og(t){return null==t}function sg(t){return 0===t&&1/t==-1/0}function UI(t){return"number"==typeof t&&Number.isInteger(t)&&!sg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function No(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jI(e)),e=AP(t.get(n),e);return jI(e)}function AP(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const c=t.charAt(s);switch(c){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=c}}return n}function jI(t){return t+"\x01\x01"}function ou(t){const e=t.length;if(Ut(e>=2),2===e)return Ut("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Bn.emptyPath();const n=e-2,r=[];let s="";for(let c=0;c<e;){const d=t.indexOf("\x01",c);switch((d<0||d>n)&&bt(),t.charAt(d+1)){case"\x01":const _=t.substring(c,d);let b;0===s.length?b=_:(s+=_,b=s,s=""),r.push(b);break;case"\x10":s+=t.substring(c,d),s+="\0";break;case"\x11":s+=t.substring(c,d+1);break;default:bt()}c=d+2}return new Bn(r)}const zI=["userId","batchId"];function f_(t,e){return[t,No(e)]}function ff(t,e,n){return[t,No(e),n]}const ZS={},$I=["prefixPath","collectionGroup","readTime","documentId"],GS=["prefixPath","collectionGroup","documentId"],HI=["collectionGroup","readTime","prefixPath","documentId"],WS=["canonicalId","targetId"],ZI=["targetId","path"],qS=["path","targetId"],V0=["collectionId","parent"],KS=["indexId","uid"],GI=["uid","sequenceNumber"],WI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],YS=["indexId","uid","orderedDocumentKey"],QS=["userId","collectionPath","documentId"],XS=["userId","collectionPath","largestBatchId"],B0=["userId","collectionGroup","largestBatchId"],qI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],KI=[...qI,"documentOverlays"],YI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QI=YI,JS=[...QI,"indexConfiguration","indexState","indexEntries"];class U0 extends k0{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function Wi(t,e){const n=mt(t);return iu.M(n.ht,e)}function XI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function kl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vr{constructor(e,n){this.comparator=e,this.root=n||go.EMPTY}insert(e,n){return new vr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,go.BLACK,null,null))}remove(e){return new vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,go.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ag(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ag(this.root,e,this.comparator,!1)}getReverseIterator(){return new ag(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ag(this.root,e,this.comparator,!0)}}class ag{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&s&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class go{constructor(e,n,r,s,c){this.key=e,this.value=n,this.color=r??go.RED,this.left=s??go.EMPTY,this.right=c??go.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,c){return new go(e??this.key,n??this.value,r??this.color,s??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,n,r),null):0===c?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return go.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===n(e,s.key)){if(s.right.isEmpty())return go.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,go.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,go.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}go.EMPTY=null,go.RED=!0,go.BLACK=!1,go.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(t,e,n,r,s){return this}insert(t,e,n){return new go(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nr{constructor(e){this.comparator=e,this.data=new vr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j0(this.data.getIterator())}getIteratorFrom(e){return new j0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,c=r.getNext().key;if(0!==this.comparator(s,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nr(this.comparator);return n.data=e,n}}class j0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pf(t){return t.hasNext()?t.getNext():void 0}class Ss{constructor(e){this.fields=e,e.sort(ti.comparator)}static empty(){return new Ss([])}unionWith(e){let n=new Nr(ti.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ss(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new eb("Invalid base64 string: "+s):s}}(e);return new pi(n)}static fromUint8Array(e){const n=function(r){let s="";for(let c=0;c<r.length;++c)s+=String.fromCharCode(r[c]);return s}(e);return new pi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pi.EMPTY_BYTE_STRING=new pi("");const z0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pc(t){if(Ut(!!t),"string"==typeof t){let e=0;const n=z0.exec(t);if(Ut(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ur(t.seconds),nanos:Ur(t.nanos)}}function Ur(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Oc(t){return"string"==typeof t?pi.fromBase64String(t):pi.fromUint8Array(t)}function p_(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gf(t){const e=t.mapValue.fields.__previous_value__;return p_(e)?gf(e):e}function ug(t){const e=Pc(t.mapValue.fields.__local_write_time__.timestampValue);return new Or(e.seconds,e.nanos)}class tb{constructor(e,n,r,s,c,d,_,b,A){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=b,this.useFetchStreams=A}}class As{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new As("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof As&&e.projectId===this.projectId&&e.database===this.database}}const Nc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},g_={nullValue:"NULL_VALUE"};function Hd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?p_(t)?4:nb(t)?9007199254740991:10:bt()}function xa(t,e){if(t===e)return!0;const n=Hd(t);if(n!==Hd(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ug(t).isEqual(ug(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const c=Pc(r.timestampValue),d=Pc(s.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,Oc(t.bytesValue).isEqual(Oc(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ur(r.geoPointValue.latitude)===Ur(s.geoPointValue.latitude)&&Ur(r.geoPointValue.longitude)===Ur(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ur(r.integerValue)===Ur(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const c=Ur(r.doubleValue),d=Ur(s.doubleValue);return c===d?sg(c)===sg(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return zd(t.arrayValue.values||[],e.arrayValue.values||[],xa);case 10:return function(r,s){const c=r.mapValue.fields||{},d=s.mapValue.fields||{};if(XI(c)!==XI(d))return!1;for(const _ in c)if(c.hasOwnProperty(_)&&(void 0===d[_]||!xa(c[_],d[_])))return!1;return!0}(t,e);default:return bt()}var s}function Zd(t,e){return void 0!==(t.values||[]).find(n=>xa(n,e))}function Ll(t,e){if(t===e)return 0;const n=Hd(t),r=Hd(e);if(n!==r)return rn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rn(t.booleanValue,e.booleanValue);case 2:return function(s,c){const d=Ur(s.integerValue||s.doubleValue),_=Ur(c.integerValue||c.doubleValue);return d<_?-1:d>_?1:d===_?0:isNaN(d)?isNaN(_)?0:-1:1}(t,e);case 3:return $0(t.timestampValue,e.timestampValue);case 4:return $0(ug(t),ug(e));case 5:return rn(t.stringValue,e.stringValue);case 6:return function(s,c){const d=Oc(s),_=Oc(c);return d.compareTo(_)}(t.bytesValue,e.bytesValue);case 7:return function(s,c){const d=s.split("/"),_=c.split("/");for(let b=0;b<d.length&&b<_.length;b++){const A=rn(d[b],_[b]);if(0!==A)return A}return rn(d.length,_.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,c){const d=rn(Ur(s.latitude),Ur(c.latitude));return 0!==d?d:rn(Ur(s.longitude),Ur(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,c){const d=s.values||[],_=c.values||[];for(let b=0;b<d.length&&b<_.length;++b){const A=Ll(d[b],_[b]);if(A)return A}return rn(d.length,_.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,c){if(s===Nc.mapValue&&c===Nc.mapValue)return 0;if(s===Nc.mapValue)return 1;if(c===Nc.mapValue)return-1;const d=s.fields||{},_=Object.keys(d),b=c.fields||{},A=Object.keys(b);_.sort(),A.sort();for(let N=0;N<_.length&&N<A.length;++N){const j=rn(_[N],A[N]);if(0!==j)return j;const ne=Ll(d[_[N]],b[A[N]]);if(0!==ne)return ne}return rn(_.length,A.length)}(t.mapValue,e.mapValue);default:throw bt()}}function $0(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return rn(t,e);const n=Pc(t),r=Pc(e),s=rn(n.seconds,r.seconds);return 0!==s?s:rn(n.nanos,r.nanos)}function Gd(t){return H0(t)}function H0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=Pc(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Oc(t.bytesValue).toBase64():"referenceValue"in t?ft.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",c=!0;for(const d of r.values||[])c?c=!1:s+=",",s+=H0(d);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const _ of s)d?d=!1:c+=",",c+=`${_}:${H0(r.fields[_])}`;return c+"}"}(t.mapValue):bt();var e}function Rc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function m_(t){return!!t&&"integerValue"in t}function mf(t){return!!t&&"arrayValue"in t}function Z0(t){return!!t&&"nullValue"in t}function G0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function __(t){return!!t&&"mapValue"in t}function lg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return kl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=lg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nb(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function tA(t){return"nullValue"in t?g_:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Rc(As.empty(),ft.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:bt()}function rb(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Rc(As.empty(),ft.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Nc:bt()}function nA(t,e){const n=Ll(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function W0(t,e){const n=Ll(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class mo{constructor(e){this.value=e}static empty(){return new mo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!__(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lg(n)}setAll(e){let n=ti.emptyPath(),r={},s=[];e.forEach((d,_)=>{if(!n.isImmediateParentOf(_)){const b=this.getFieldsMap(n);this.applyChanges(b,r,s),r={},s=[],n=_.popLast()}d?r[_.lastSegment()]=lg(d):s.push(_.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,r,s)}delete(e){const n=this.field(e.popLast());__(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];__(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){kl(n,(s,c)=>e[s]=c);for(const s of r)delete e[s]}clone(){return new mo(lg(this.value))}}function ib(t){const e=[];return kl(t.fields,(n,r)=>{const s=new ti([n]);if(__(r)){const c=ib(r.mapValue).fields;if(0===c.length)e.push(s);else for(const d of c)e.push(s.child(d))}else e.push(s)}),new Ss(e)}class jr{constructor(e,n,r,s,c,d,_){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=c,this.data=d,this.documentState=_}static newInvalidDocument(e){return new jr(e,0,jt.min(),jt.min(),jt.min(),mo.empty(),0)}static newFoundDocument(e,n,r,s){return new jr(e,1,n,jt.min(),r,s,0)}static newNoDocument(e,n){return new jr(e,2,n,jt.min(),jt.min(),mo.empty(),0)}static newUnknownDocument(e,n){return new jr(e,3,n,jt.min(),jt.min(),mo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(jt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fl{constructor(e,n){this.position=e,this.inclusive=n}}function ob(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const c=e[s],d=t.position[s];if(r=c.field.isKeyField()?ft.comparator(ft.fromName(d.referenceValue),n.key):Ll(d,n.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function sb(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xa(t.position[n],e.position[n]))return!1;return!0}class _f{constructor(e,n="asc"){this.field=e,this.dir=n}}function rA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class ab{}class Ln extends ab{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new cb(e,n,r):"array-contains"===n?new MP(e,r):"in"===n?new oA(e,r):"not-in"===n?new sA(e,r):"array-contains-any"===n?new aA(e,r):new Ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new lb(e,r):new iA(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ll(n,this.value)):null!==n&&Hd(this.value)===Hd(n)&&this.matchesComparison(Ll(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class lr extends ab{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new lr(e,n)}matches(e){return yf(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function yf(t){return"and"===t.op}function q0(t){return"or"===t.op}function K0(t){return ub(t)&&yf(t)}function ub(t){for(const e of t.filters)if(e instanceof lr)return!1;return!0}function Wd(t){if(t instanceof Ln)return t.field.canonicalString()+t.op.toString()+Gd(t.value);if(K0(t))return t.filters.map(e=>Wd(e)).join(",");{const e=t.filters.map(n=>Wd(n)).join(",");return`${t.op}(${e})`}}function Y0(t,e){return t instanceof Ln?(n=t,(r=e)instanceof Ln&&n.op===r.op&&n.field.isEqual(r.field)&&xa(n.value,r.value)):t instanceof lr?function(n,r){return r instanceof lr&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((s,c,d)=>s&&Y0(c,r.filters[d]),!0)}(t,e):void bt();var n,r}function Q0(t,e){const n=t.filters.concat(e);return lr.create(n,t.op)}function X0(t){return t instanceof Ln?`${(e=t).field.canonicalString()} ${e.op} ${Gd(e.value)}`:t instanceof lr?function(e){return e.op.toString()+" {"+e.getFilters().map(X0).join(" ,")+"}"}(t):"Filter";var e}class cb extends Ln{constructor(e,n,r){super(e,n,r),this.key=ft.fromName(r.referenceValue)}matches(e){const n=ft.comparator(e.key,this.key);return this.matchesComparison(n)}}class lb extends Ln{constructor(e,n){super(e,"in",n),this.keys=db(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iA extends Ln{constructor(e,n){super(e,"not-in",n),this.keys=db(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function db(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ft.fromName(r.referenceValue))}class MP extends Ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mf(n)&&Zd(n.arrayValue,this.value)}}class oA extends Ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Zd(this.value.arrayValue,n)}}class sA extends Ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Zd(this.value.arrayValue,n)}}class aA extends Ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zd(this.value.arrayValue,r))}}class uA{constructor(e,n=null,r=[],s=[],c=null,d=null,_=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=c,this.startAt=d,this.endAt=_,this.dt=null}}function J0(t,e=null,n=[],r=[],s=null,c=null,d=null){return new uA(t,e,n,r,s,c,d)}function qd(t){const e=mt(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),og(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gd(r)).join(",")),e.dt=n}return e.dt}function kc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Y0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sb(t.startAt,e.startAt)&&sb(t.endAt,e.endAt)}function y_(t){return ft.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function vf(t,e){return t.filters.filter(n=>n instanceof Ln&&n.field.isEqual(e))}function hb(t,e,n){let r=g_,s=!0;for(const c of vf(t,e)){let d=g_,_=!0;switch(c.op){case"<":case"<=":d=tA(c.value);break;case"==":case"in":case">=":d=c.value;break;case">":d=c.value,_=!1;break;case"!=":case"not-in":d=g_}nA({value:r,inclusive:s},{value:d,inclusive:_})<0&&(r=d,s=_)}if(null!==n)for(let c=0;c<t.orderBy.length;++c)if(t.orderBy[c].field.isEqual(e)){const d=n.position[c];nA({value:r,inclusive:s},{value:d,inclusive:n.inclusive})<0&&(r=d,s=n.inclusive);break}return{value:r,inclusive:s}}function cA(t,e,n){let r=Nc,s=!0;for(const c of vf(t,e)){let d=Nc,_=!0;switch(c.op){case">=":case">":d=rb(c.value),_=!1;break;case"==":case"in":case"<=":d=c.value;break;case"<":d=c.value,_=!1;break;case"!=":case"not-in":d=Nc}W0({value:r,inclusive:s},{value:d,inclusive:_})>0&&(r=d,s=_)}if(null!==n)for(let c=0;c<t.orderBy.length;++c)if(t.orderBy[c].field.isEqual(e)){const d=n.position[c];W0({value:r,inclusive:s},{value:d,inclusive:n.inclusive})>0&&(r=d,s=n.inclusive);break}return{value:r,inclusive:s}}class Lc{constructor(e,n=null,r=[],s=[],c=null,d="F",_=null,b=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=c,this.limitType=d,this.startAt=_,this.endAt=b,this.wt=null,this._t=null}}function lA(t,e,n,r,s,c,d,_){return new Lc(t,e,n,r,s,c,d,_)}function Fu(t){return new Lc(t)}function fb(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ew(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function v_(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function wf(t){return null!==t.collectionGroup}function Vl(t){const e=mt(t);if(null===e.wt){e.wt=[];const n=v_(e),r=ew(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new _f(n)),e.wt.push(new _f(ti.keyField(),"asc"));else{let s=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(s=!0);if(!s){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new _f(ti.keyField(),c))}}}return e.wt}function Jo(t){const e=mt(t);if(!e._t)if("F"===e.limitType)e._t=J0(e.path,e.collectionGroup,Vl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const c of Vl(e))n.push(new _f(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new Fl(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Fl(e.startAt.position,e.startAt.inclusive):null;e._t=J0(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function w_(t,e){e.getFirstInequalityField(),v_(t);const n=t.filters.concat([e]);return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kd(t,e,n){return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dg(t,e){return kc(Jo(t),Jo(e))&&t.limitType===e.limitType}function pb(t){return`${qd(Jo(t))}|lt:${t.limitType}`}function C_(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>X0(r)).join(", ")}]`),og(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gd(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gd(r)).join(",")),`Target(${n})`}(Jo(t))}; limitType=${t.limitType})`}function hg(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ft.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of Vl(n))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(s,c,d){const _=ob(s,c,d);return s.inclusive?_<=0:_<0}(n.startAt,Vl(n),r)||n.endAt&&!function(s,c,d){const _=ob(s,c,d);return s.inclusive?_>=0:_>0}(n.endAt,Vl(n),r)));var n,r}function gb(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tw(t){return(e,n)=>{let r=!1;for(const s of Vl(t)){const c=E_(s,e,n);if(0!==c)return c;r=r||s.field.isKeyField()}return 0}}function E_(t,e,n){const r=t.field.isKeyField()?ft.comparator(e.key,n.key):function(s,c,d){const _=c.data.field(s),b=d.data.field(s);return null!==_&&null!==b?Ll(_,b):bt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return bt()}}class Fc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[s,c]of r)if(this.equalsFn(s,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return void(s[c]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){kl(this.inner,(n,r)=>{for(const[s,c]of r)e(s,c)})}isEmpty(){return JI(this.inner)}size(){return this.innerSize}}const dA=new vr(ft.comparator);function es(){return dA}const nw=new vr(ft.comparator);function Yd(...t){let e=nw;for(const n of t)e=e.insert(n.key,n);return e}function rw(t){let e=nw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vu(){return Cf()}function iw(){return Cf()}function Cf(){return new Fc(t=>t.toString(),(t,e)=>t.isEqual(e))}const hA=new vr(ft.comparator),fA=new Nr(ft.comparator);function fn(...t){let e=fA;for(const n of t)e=e.add(n);return e}const ow=new Nr(rn);function I_(){return ow}function b_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sg(e)?"-0":e}}function D_(t){return{integerValue:""+t}}function mb(t,e){return UI(e)?D_(e):b_(t,e)}class T_{constructor(){this._=void 0}}function pA(t,e,n){return t instanceof Bl?function(r,s){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&p_(s)&&(s=gf(s)),s&&(c.fields.__previous_value__=s),{mapValue:c}}(n,e):t instanceof Ul?_b(t,e):t instanceof jl?aw(t,e):function(r,s){const c=sw(r,s),d=uw(c)+uw(r.gt);return m_(c)&&m_(r.gt)?D_(d):b_(r.serializer,d)}(t,e)}function gA(t,e,n){return t instanceof Ul?_b(t,e):t instanceof jl?aw(t,e):n}function sw(t,e){return t instanceof Ef?m_(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Bl extends T_{}class Ul extends T_{constructor(e){super(),this.elements=e}}function _b(t,e){const n=cw(e);for(const r of t.elements)n.some(s=>xa(s,r))||n.push(r);return{arrayValue:{values:n}}}class jl extends T_{constructor(e){super(),this.elements=e}}function aw(t,e){let n=cw(e);for(const r of t.elements)n=n.filter(s=>!xa(s,r));return{arrayValue:{values:n}}}class Ef extends T_{constructor(e,n){super(),this.serializer=e,this.gt=n}}function uw(t){return Ur(t.integerValue||t.doubleValue)}function cw(t){return mf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class fg{constructor(e,n){this.field=e,this.transform=n}}class mA{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class S_{}function vb(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new $l(t.key,Nn.none()):new pg(t.key,t.data,Nn.none());{const n=t.data,r=mo.empty();let s=new Nr(ti.comparator);for(let c of e.fields)if(!s.has(c)){let d=n.field(c);null===d&&c.length>1&&(c=c.popLast(),d=n.field(c)),null===d?r.delete(c):r.set(c,d),s=s.add(c)}return new zl(t.key,r,new Ss(s.toArray()),Nn.none())}}function xP(t,e,n){t instanceof pg?function(r,s,c){const d=r.value.clone(),_=If(r.fieldTransforms,s,c.transformResults);d.setAll(_),s.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof zl?function(r,s,c){if(!Vc(r.precondition,s))return void s.convertToUnknownDocument(c.version);const d=If(r.fieldTransforms,s,c.transformResults),_=s.data;_.setAll(_A(r)),_.setAll(d),s.convertToFoundDocument(c.version,_).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function A_(t,e,n,r){return t instanceof pg?function(s,c,d,_){if(!Vc(s.precondition,c))return d;const b=s.value.clone(),A=Cb(s.fieldTransforms,_,c);return b.setAll(A),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),null}(t,e,n,r):t instanceof zl?function(s,c,d,_){if(!Vc(s.precondition,c))return d;const b=Cb(s.fieldTransforms,_,c),A=c.data;return A.setAll(_A(s)),A.setAll(b),c.convertToFoundDocument(c.version,A).setHasLocalMutations(),null===d?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(N=>N.field))}(t,e,n,r):(d=n,Vc(t.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d);var c,d}function wb(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),c=sw(r.transform,s||null);null!=c&&(null===n&&(n=mo.empty()),n.set(r.field,c))}return n||null}function M_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&zd(n,r,(s,c)=>function yb(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ul&&r instanceof Ul||n instanceof jl&&r instanceof jl?zd(n.elements,r.elements,xa):n instanceof Ef&&r instanceof Ef?xa(n.gt,r.gt):n instanceof Bl&&r instanceof Bl);var n,r}(s,c))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class pg extends S_{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zl extends S_{constructor(e,n,r,s,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function _A(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function If(t,e,n){const r=new Map;Ut(t.length===n.length);for(let s=0;s<n.length;s++){const c=t[s],d=c.transform,_=e.data.field(c.field);r.set(c.field,gA(d,_,n[s]))}return r}function Cb(t,e,n){const r=new Map;for(const s of t){const c=s.transform,d=n.data.field(s.field);r.set(s.field,pA(c,d,e))}return r}class $l extends S_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lw extends S_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class x_{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const c=this.mutations[s];c.key.isEqual(e.key)&&xP(c,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=A_(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=A_(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iw();return this.mutations.forEach(s=>{const c=e.get(s.key),d=c.overlayedDocument;let _=this.applyToLocalView(d,c.mutatedFields);_=n.has(s.key)?null:_;const b=vb(d,_);null!==b&&r.set(s.key,b),d.isValidDocument()||d.convertToNoDocument(jt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fn())}isEqual(e){return this.batchId===e.batchId&&zd(this.mutations,e.mutations,(n,r)=>M_(n,r))&&zd(this.baseMutations,e.baseMutations,(n,r)=>M_(n,r))}}class dw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ut(e.mutations.length===r.length);let s=hA;const c=e.mutations;for(let d=0;d<c.length;d++)s=s.insert(c[d].key,r[d].version);return new dw(e,n,r,s)}}class hw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fw{constructor(e,n){this.count=e,this.unchangedNames=n}}var gi,Un;function gg(t){switch(t){default:return bt();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function P_(t){if(void 0===t)return fi("GRPC error has no .code"),Se.UNKNOWN;switch(t){case gi.OK:return Se.OK;case gi.CANCELLED:return Se.CANCELLED;case gi.UNKNOWN:return Se.UNKNOWN;case gi.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case gi.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case gi.INTERNAL:return Se.INTERNAL;case gi.UNAVAILABLE:return Se.UNAVAILABLE;case gi.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case gi.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case gi.NOT_FOUND:return Se.NOT_FOUND;case gi.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case gi.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case gi.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case gi.ABORTED:return Se.ABORTED;case gi.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case gi.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case gi.DATA_LOSS:return Se.DATA_LOSS;default:return bt()}}(Un=gi||(gi={}))[Un.OK=0]="OK",Un[Un.CANCELLED=1]="CANCELLED",Un[Un.UNKNOWN=2]="UNKNOWN",Un[Un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Un[Un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Un[Un.NOT_FOUND=5]="NOT_FOUND",Un[Un.ALREADY_EXISTS=6]="ALREADY_EXISTS",Un[Un.PERMISSION_DENIED=7]="PERMISSION_DENIED",Un[Un.UNAUTHENTICATED=16]="UNAUTHENTICATED",Un[Un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Un[Un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Un[Un.ABORTED=10]="ABORTED",Un[Un.OUT_OF_RANGE=11]="OUT_OF_RANGE",Un[Un.UNIMPLEMENTED=12]="UNIMPLEMENTED",Un[Un.INTERNAL=13]="INTERNAL",Un[Un.UNAVAILABLE=14]="UNAVAILABLE",Un[Un.DATA_LOSS=15]="DATA_LOSS";class Eb{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return mg}static getOrCreateInstance(){return null===mg&&(mg=new Eb),mg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let mg=null;function Ib(){return new TextEncoder}const bb=new Bd([4294967295,4294967295],0);function Qd(t){const e=Ib().encode(t),n=new PI;return n.update(e),new Uint8Array(n.digest())}function Db(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Bd([n,r],0),new Bd([s,c],0)]}class O_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xd(`Invalid padding: ${n}`);if(r<0)throw new Xd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Xd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Xd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Bd.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(Bd.fromNumber(r)));return 1===s.compare(bb)&&(s=new Bd([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=Qd(e),[r,s]=Db(n);for(let c=0;c<this.hashCount;c++){const d=this.Et(r,s,c);if(!this.At(d))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new O_(c,s,n);return r.forEach(_=>d.insert(_)),d}insert(e){if(0===this.It)return;const n=Qd(e),[r,s]=Db(n);for(let c=0;c<this.hashCount;c++){const d=this.Et(r,s,c);this.Rt(d)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Xd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class N_{constructor(e,n,r,s,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,_g.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new N_(jt.min(),s,new vr(rn),es(),fn())}}class _g{constructor(e,n,r,s,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _g(r,n,fn(),fn(),fn())}}class pw{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class Tb{constructor(e,n){this.targetId=e,this.Vt=n}}class Sb{constructor(e,n,r=pi.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Ab{constructor(){this.St=0,this.Dt=xb(),this.Ct=pi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=fn(),n=fn(),r=fn();return this.Dt.forEach((s,c)=>{switch(c){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:bt()}}),new _g(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=xb()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Mb{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=es(),this.zt=gw(),this.Wt=new vr(rn)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:bt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,c=this.se(r);if(c){const d=c.target;if(y_(d))if(0===s){const _=new ft(d.path);this.Yt(r,_,jr.newNoDocument(_,jt.min()))}else Ut(1===s);else{const _=this.ie(r);if(_!==s){const b=this.re(e,_);0!==b&&(this.ee(r),this.Wt=this.Wt.insert(r,2===b?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Eb.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(A,N,j){var ne,ae,Le,et,st,Lt;const Qt={localCacheCount:N,existenceFilterCount:j.count},$t=j.unchangedNames;return $t&&(Qt.bloomFilter={applied:0===A,hashCount:null!==(ne=$t?.hashCount)&&void 0!==ne?ne:0,bitmapLength:null!==(et=null===(Le=null===(ae=$t?.bits)||void 0===ae?void 0:ae.bitmap)||void 0===Le?void 0:Le.length)&&void 0!==et?et:0,padding:null!==(Lt=null===(st=$t?.bits)||void 0===st?void 0:st.padding)&&void 0!==Lt?Lt:0}),Qt}(b,_,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:c="",padding:d=0},hashCount:_=0}=r;let b,A;try{b=Oc(c).toUint8Array()}catch(N){if(N instanceof eb)return fo("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw N}try{A=new O_(b,d,_)}catch(N){return fo(N instanceof Xd?"BloomFilter error: ":"Applying bloom filter failed: ",N),1}return 0===A.It?1:s!==n-this.oe(e.targetId,A)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(c=>{const d=this.Gt.ue(),_=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;n.vt(_)||(this.Yt(e,c,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((c,d)=>{const _=this.se(d);if(_){if(c.current&&y_(_.target)){const b=new ft(_.target.path);null!==this.jt.get(b)||this.ae(d,b)||this.Yt(d,b,jr.newNoDocument(b,e))}c.Mt&&(n.set(d,c.Ot()),c.Ft())}});let r=fn();this.zt.forEach((c,d)=>{let _=!0;d.forEachWhile(b=>{const A=this.se(b);return!A||"TargetPurposeLimboResolution"===A.purpose||(_=!1,!1)}),_&&(r=r.add(c))}),this.jt.forEach((c,d)=>d.setReadTime(e));const s=new N_(e,n,this.Wt,this.jt,r);return this.jt=es(),this.zt=gw(),this.Wt=new vr(rn),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Ab,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Nr(rn),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Xe("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ab),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function gw(){return new vr(ft.comparator)}function xb(){return new vr(ft.comparator)}const Pb={asc:"ASCENDING",desc:"DESCENDING"},Ob={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vA={and:"AND",or:"OR"};class wA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function R_(t,e){return t.useProto3Json||og(e)?e:{value:e}}function bf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Nb(t,e){return bf(t,e.toTimestamp())}function ni(t){return Ut(!!t),jt.fromTimestamp(function(e){const n=Pc(e);return new Or(n.seconds,n.nanos)}(t))}function k_(t,e){return(n=t,new Bn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Rb(t){const e=Bn.fromString(t);return Ut(SA(e)),e}function yg(t,e){return k_(t.databaseId,e.path)}function Bc(t,e){const n=Rb(e);if(n.get(1)!==t.databaseId.projectId)throw new Ze(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ze(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ft(EA(n))}function L_(t,e){return k_(t.databaseId,e)}function CA(t){const e=Rb(t);return 4===e.length?Bn.emptyPath():EA(e)}function F_(t){return new Bn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EA(t){return Ut(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function IA(t,e,n){return{name:yg(t,e),fields:n.value.mapValue.fields}}function bA(t,e,n){const r=Bc(t,e.name),s=ni(e.updateTime),c=e.createTime?ni(e.createTime):jt.min(),d=new mo({mapValue:{fields:e.fields}}),_=jr.newFoundDocument(r,s,c,d);return n&&_.setHasCommittedMutations(),n?_.setHasCommittedMutations():_}function V_(t,e){let n;if(e instanceof pg)n={update:IA(t,e.key,e.value)};else if(e instanceof $l)n={delete:yg(t,e.key)};else if(e instanceof zl)n={update:IA(t,e.key,e.data),updateMask:TA(e.fieldMask)};else{if(!(e instanceof lw))return bt();n={verify:yg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,c){const d=c.transform;if(d instanceof Bl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ul)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof jl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ef)return{fieldPath:c.field.canonicalString(),increment:d.gt};throw bt()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:Nb(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:bt()),n;var s}function kb(t,e){const n=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Nn.updateTime(ni(s.updateTime)):void 0!==s.exists?Nn.exists(s.exists):Nn.none():Nn.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(c,d){let _=null;"setToServerValue"in d?(Ut("REQUEST_TIME"===d.setToServerValue),_=new Bl):"appendMissingElements"in d?_=new Ul(d.appendMissingElements.values||[]):"removeAllFromArray"in d?_=new jl(d.removeAllFromArray.values||[]):"increment"in d?_=new Ef(c,d.increment):bt();const b=ti.fromServerFormat(d.fieldPath);return new fg(b,_)}(t,s)):[];var s;if(e.update){const s=Bc(t,e.update.name),c=new mo({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Ss((e.updateMask.fieldPaths||[]).map(A=>ti.fromServerFormat(A)));return new zl(s,c,d,n,r)}return new pg(s,c,n,r)}if(e.delete){const s=Bc(t,e.delete);return new $l(s,n)}if(e.verify){const s=Bc(t,e.verify);return new lw(s,n)}return bt()}function B_(t,e){return{documents:[L_(t,e.path)]}}function U_(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=L_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=L_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(b){if(0!==b.length)return Bb(lr.create(b,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const c=function(b){if(0!==b.length)return b.map(A=>{return{field:Uc((N=A).field),direction:NP(N.dir)};var N})}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=R_(t,e.limit);var _,b;return null!==d&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt={before:(_=e.startAt).inclusive,values:_.position}),e.endAt&&(n.structuredQuery.endAt={before:!(b=e.endAt).inclusive,values:b.position}),n}function Fb(t){let e=CA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ut(1===r);const N=n.from[0];N.allDescendants?s=N.collectionId:e=e.child(N.collectionId)}let c=[];n.where&&(c=function(N){const j=Vb(N);return j instanceof lr&&K0(j)?j.getFilters():[j]}(n.where));let d=[];n.orderBy&&(d=n.orderBy.map(N=>{return new _f(Df((j=N).field),function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction));var j}));let _=null;n.limit&&(_=function(N){let j;return j="object"==typeof N?N.value:N,og(j)?null:j}(n.limit));let b=null;var N;n.startAt&&(b=new Fl((N=n.startAt).values||[],!!N.before));let A=null;return n.endAt&&(A=function(N){return new Fl(N.values||[],!N.before)}(n.endAt)),lA(e,s,d,c,_,"F",b,A)}function Vb(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Df(e.unaryFilter.field);return Ln.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Df(e.unaryFilter.field);return Ln.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Df(e.unaryFilter.field);return Ln.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Df(e.unaryFilter.field);return Ln.create(c,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(t):void 0!==t.fieldFilter?Ln.create(Df((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return lr.create(e.compositeFilter.filters.map(n=>Vb(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return bt()}}(e.compositeFilter.op))}(t):bt();var e}function NP(t){return Pb[t]}function RP(t){return Ob[t]}function DA(t){return vA[t]}function Uc(t){return{fieldPath:t.canonicalString()}}function Df(t){return ti.fromServerFormat(t.fieldPath)}function Bb(t){return t instanceof Ln?function(e){if("=="===e.op){if(G0(e.value))return{unaryFilter:{field:Uc(e.field),op:"IS_NAN"}};if(Z0(e.value))return{unaryFilter:{field:Uc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(G0(e.value))return{unaryFilter:{field:Uc(e.field),op:"IS_NOT_NAN"}};if(Z0(e.value))return{unaryFilter:{field:Uc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uc(e.field),op:RP(e.op),value:e.value}}}(t):t instanceof lr?function(e){const n=e.getFilters().map(r=>Bb(r));return 1===n.length?n[0]:{compositeFilter:{op:DA(e.op),filters:n}}}(t):bt()}function TA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SA(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class jc{constructor(e,n,r,s,c=jt.min(),d=jt.min(),_=pi.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=b}withSequenceNumber(e){return new jc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Tf{constructor(e){this.fe=e}}function Ub(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:$_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:yg(s=t.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:bf(s,c.version.toTimestamp()),createTime:bf(s,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Jd(e.version)};else{if(!e.isUnknownDocument())return bt();r.unknownDocument={path:n.path.toArray(),version:Jd(e.version)}}var s,c;return r}function $_(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Jd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function eh(t){const e=new Or(t.seconds,t.nanoseconds);return jt.fromTimestamp(e)}function th(t,e){const n=(e.baseMutations||[]).map(c=>kb(t.fe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>kb(t.fe,c)),s=Or.fromMillis(e.localWriteTimeMs);return new x_(e.batchId,s,n,r)}function vg(t){const e=eh(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?eh(t.lastLimboFreeSnapshotVersion):jt.min();let r;var s;return void 0!==t.query.documents?(Ut(1===(s=t.query).documents.length),r=Jo(Fu(CA(s.documents[0])))):r=Jo(Fb(t.query)),new jc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,pi.fromBase64String(t.resumeToken))}function H_(t,e){const n=Jd(e.snapshotVersion),r=Jd(e.lastLimboFreeSnapshotVersion);let s;s=y_(e.target)?B_(t.fe,e.target):U_(t.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qd(e.target),readTime:n,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function _w(t){const e=Fb({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Kd(e,e.limit,"L"):e}function yw(t,e){return new hw(e.largestBatchId,kb(t.fe,e.overlayMutation))}function jb(t,e){const n=e.path.lastSegment();return[t,No(e.path.popLast()),n]}function zb(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Jd(r.readTime),documentKey:No(r.documentKey.path),largestBatchId:r.largestBatchId}}class AA{getBundleMetadata(e,n){return $b(e).get(n).next(r=>{if(r)return{id:(s=r).bundleId,createTime:eh(s.createTime),version:s.version};var s})}saveBundleMetadata(e,n){return $b(e).put({bundleId:(r=n).id,createTime:Jd(ni(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return Hb(e).get(n).next(r=>{if(r)return{name:(s=r).name,query:_w(s.bundledQuery),readTime:eh(s.readTime)};var s})}saveNamedQuery(e,n){return Hb(e).put({name:(r=n).name,readTime:Jd(ni(r.readTime)),bundledQuery:r.bundledQuery});var r}}function $b(t){return Wi(t,"bundles")}function Hb(t){return Wi(t,"namedQueries")}class Z_{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new Z_(e,n.uid||"")}getOverlay(e,n){return wg(e).get(jb(this.userId,n)).next(r=>r?yw(this.serializer,r):null)}getOverlays(e,n){const r=Vu();return Ie.forEach(n,s=>this.getOverlay(e,s).next(c=>{null!==c&&r.set(s,c)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((c,d)=>{const _=new hw(n,d);s.push(this.we(e,_))}),Ie.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(d=>s.add(No(d.getCollectionPath())));const c=[];return s.forEach(d=>{const _=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);c.push(wg(e).J("collectionPathOverlayIndex",_))}),Ie.waitFor(c)}getOverlaysForCollection(e,n,r){const s=Vu(),c=No(n),d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return wg(e).j("collectionPathOverlayIndex",d).next(_=>{for(const b of _){const A=yw(this.serializer,b);s.set(A.getKey(),A)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const c=Vu();let d;const _=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return wg(e).X({index:"collectionGroupOverlayIndex",range:_},(b,A,N)=>{const j=yw(this.serializer,A);c.size()<s||j.largestBatchId===d?(c.set(j.getKey(),j),d=j.largestBatchId):N.done()}).next(()=>c)}we(e,n){return wg(e).put(function(r,s,c){const[d,_,b]=jb(s,c.mutation.key);return{userId:s,collectionPath:_,documentId:b,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:V_(r.fe,c.mutation)}}(this.serializer,this.userId,n))}}function wg(t){return Wi(t,"documentOverlays")}class Hl{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ur(e.integerValue));else if("doubleValue"in e){const r=Ur(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),sg(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Oc(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?nb(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):bt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const s of Object.keys(r))this.Te(s,n),this.me(r[s],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const s of r)this.me(s,n)}ve(e,n){this.ye(n,37),ft.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function vw(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Zb(t){const e=64-function(n){let r=0;for(let s=0;s<8;++s){const c=vw(255&n[s]);if(r+=c,8!==c)break}return r}(t);return Math.ceil(e/8)}Hl.Ve=new Hl;class MA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const s=n.codePointAt(0);this.De(240|s>>>18),this.De(128|63&s>>>12),this.De(128|63&s>>>6),this.De(128|63&s)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const s=n.codePointAt(0);this.Ne(240|s>>>18),this.Ne(128|63&s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s)}}this.ke()}Oe(e){const n=this.Fe(e),r=Zb(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}Le(e){const n=this.Fe(e),r=Zb(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(s){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,s,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class Gb{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Wb{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class G_{constructor(){this.je=new MA,this.ze=new Gb(this.je),this.We=new Wb(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ei{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ei(this.indexId,this.documentKey,this.arrayValue,r)}}function zc(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=ww(t.arrayValue,e.arrayValue),0!==n?n:(n=ww(t.directionalValue,e.directionalValue),0!==n?n:ft.comparator(t.documentKey,e.documentKey)))}function ww(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class xA{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Ut(e.collectionGroup===this.collectionId);const n=df(e);if(void 0!==n&&!this.en(n))return!1;const r=Nl(e);let s=new Set,c=0,d=0;for(;c<r.length&&this.en(r[c]);++c)s=s.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(void 0!==this.Ze){if(!s.has(this.Ze.field.canonicalString())){const _=r[c];if(!this.nn(this.Ze,_)||!this.sn(this.Ye[d++],_))return!1}++c}for(;c<r.length;++c)if(d>=this.Ye.length||!this.sn(this.Ye[d++],r[c]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function Cw(t){var e,n;if(Ut(t instanceof Ln||t instanceof lr),t instanceof Ln){if(t instanceof oA){const s=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(c=>Ln.create(t.field,"==",c)))||[];return lr.create(s,"or")}return t}const r=t.filters.map(s=>Cw(s));return lr.create(r,t.op)}function PA(t){if(0===t.getFilters().length)return[];const e=Eg(Cw(t));return Ut(Ew(e)),Cg(e)||Bu(e)?[e]:e.getFilters()}function Cg(t){return t instanceof Ln}function Bu(t){return t instanceof lr&&K0(t)}function Ew(t){return Cg(t)||Bu(t)||function(e){if(e instanceof lr&&q0(e)){for(const n of e.getFilters())if(!Cg(n)&&!Bu(n))return!1;return!0}return!1}(t)}function Eg(t){if(Ut(t instanceof Ln||t instanceof lr),t instanceof Ln)return t;if(1===t.filters.length)return Eg(t.filters[0]);const e=t.filters.map(r=>Eg(r));let n=lr.create(e,t.op);return n=Iw(n),Ew(n)?n:(Ut(n instanceof lr),Ut(yf(n)),Ut(n.filters.length>1),n.filters.reduce((r,s)=>Ig(r,s)))}function Ig(t,e){let n;return Ut(t instanceof Ln||t instanceof lr),Ut(e instanceof Ln||e instanceof lr),n=t instanceof Ln?e instanceof Ln?lr.create([t,e],"and"):qb(t,e):e instanceof Ln?qb(e,t):function(r,s){if(Ut(r.filters.length>0&&s.filters.length>0),yf(r)&&yf(s))return Q0(r,s.getFilters());const c=q0(r)?r:s,d=q0(r)?s:r,_=c.filters.map(b=>Ig(b,d));return lr.create(_,"or")}(t,e),Iw(n)}function qb(t,e){if(yf(e))return Q0(e,t.getFilters());{const n=e.filters.map(r=>Ig(t,r));return lr.create(n,"or")}}function Iw(t){if(Ut(t instanceof Ln||t instanceof lr),t instanceof Ln)return t;const e=t.getFilters();if(1===e.length)return Iw(e[0]);if(ub(t))return t;const n=e.map(s=>Iw(s)),r=[];return n.forEach(s=>{s instanceof Ln?r.push(s):s instanceof lr&&(s.op===t.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:lr.create(r,t.op)}class Kb{constructor(){this.rn=new bw}addToCollectionParentIndex(e,n){return this.rn.add(n),Ie.resolve()}getCollectionParents(e,n){return Ie.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Ie.resolve()}deleteFieldIndex(e,n){return Ie.resolve()}getDocumentsMatchingTarget(e,n){return Ie.resolve(null)}getIndexType(e,n){return Ie.resolve(0)}getFieldIndexes(e,n){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,n){return Ie.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,n){return Ie.resolve(Js.min())}updateCollectionGroup(e,n,r){return Ie.resolve()}updateIndexEntries(e,n){return Ie.resolve()}}class bw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Nr(Bn.comparator),c=!s.has(r);return this.index[n]=s.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Nr(Bn.comparator)).toArray()}}const W_=new Uint8Array(0);class OA{constructor(e,n){this.user=e,this.databaseId=n,this.on=new bw,this.un=new Fc(r=>qd(r),(r,s)=>kc(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const c={collectionId:r,parent:No(s)};return Yb(e).put(c)}return Ie.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[O0(n),""],!1,!0);return Yb(e).j(s).next(c=>{for(const d of c){if(d.collectionId!==n)break;r.push(ou(d.parent))}return r})}addFieldIndex(e,n){const r=Dw(e),s={indexId:(d=n).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(_=>[_.fieldPath.canonicalString(),_.kind])};var d;delete s.indexId;const c=r.add(s);if(n.indexState){const d=Af(e);return c.next(_=>{d.put(zb(_,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return c.next()}deleteFieldIndex(e,n){const r=Dw(e),s=Af(e),c=Sf(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Sf(e);let s=!0;const c=new Map;return Ie.forEach(this.cn(n),d=>this.an(e,d).next(_=>{s&&(s=!!_),c.set(d,_)})).next(()=>{if(s){let d=fn();const _=[];return Ie.forEach(c,(b,A)=>{var N;Xe("IndexedDbIndexManager",`Using index ${N=b,`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map($t=>`${$t.fieldPath}:${$t.kind}`).join(",")}`} to execute ${qd(n)}`);const j=function($t,en){const Cn=df(en);if(void 0===Cn)return null;for(const Zn of vf($t,Cn.fieldPath))switch(Zn.op){case"array-contains-any":return Zn.value.arrayValue.values||[];case"array-contains":return[Zn.value]}return null}(A,b),ne=function($t,en){const Cn=new Map;for(const Zn of Nl(en))for(const Ms of vf($t,Zn.fieldPath))switch(Ms.op){case"==":case"in":Cn.set(Zn.fieldPath.canonicalString(),Ms.value);break;case"not-in":case"!=":return Cn.set(Zn.fieldPath.canonicalString(),Ms.value),Array.from(Cn.values())}return null}(A,b),ae=function($t,en){const Cn=[];let Zn=!0;for(const Ms of Nl(en)){const Ug=0===Ms.kind?hb($t,Ms.fieldPath,$t.startAt):cA($t,Ms.fieldPath,$t.startAt);Cn.push(Ug.value),Zn&&(Zn=Ug.inclusive)}return new Fl(Cn,Zn)}(A,b),Le=function($t,en){const Cn=[];let Zn=!0;for(const Ms of Nl(en)){const Ug=0===Ms.kind?cA($t,Ms.fieldPath,$t.endAt):hb($t,Ms.fieldPath,$t.endAt);Cn.push(Ug.value),Zn&&(Zn=Ug.inclusive)}return new Fl(Cn,Zn)}(A,b),et=this.hn(b,A,ae),st=this.hn(b,A,Le),Lt=this.ln(b,A,ne),Qt=this.fn(b.indexId,j,et,ae.inclusive,st,Le.inclusive,Lt);return Ie.forEach(Qt,$t=>r.H($t,n.limit).next(en=>{en.forEach(Cn=>{const Zn=ft.fromSegments(Cn.documentKey);d.has(Zn)||(d=d.add(Zn),_.push(Zn))})}))}).next(()=>_)}return Ie.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:PA(lr.create(e.filters,"and")).map(r=>J0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,s,c,d,_){const b=(null!=n?n.length:1)*Math.max(r.length,c.length),A=b/(null!=n?n.length:1),N=[];for(let j=0;j<b;++j){const ne=n?this.dn(n[j/A]):W_,ae=this.wn(e,ne,r[j%A],s),Le=this._n(e,ne,c[j%A],d),et=_.map(st=>this.wn(e,ne,st,!0));N.push(...this.createRange(ae,Le,et))}return N}wn(e,n,r,s){const c=new Ei(e,ft.empty(),n,r);return s?c:c.Je()}_n(e,n,r,s){const c=new Ei(e,ft.empty(),n,r);return s?c.Je():c}an(e,n){const r=new xA(n),s=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(c=>{let d=null;for(const _ of c)r.tn(_)&&(!d||_.fields.length>d.fields.length)&&(d=_);return d})}getIndexType(e,n){let r=2;const s=this.cn(n);return Ie.forEach(s,c=>this.an(e,c).next(d=>{d?0!==r&&d.fields.length<function(_){let b=new Nr(ti.comparator),A=!1;for(const N of _.filters)for(const j of N.getFlattenedFilters())j.field.isKeyField()||("array-contains"===j.op||"array-contains-any"===j.op?A=!0:b=b.add(j.field));for(const N of _.orderBy)N.field.isKeyField()||(b=b.add(N.field));return b.size+(A?1:0)}(c)&&(r=1):r=0})).next(()=>null!==n.limit&&s.length>1&&2===r?1:r)}mn(e,n){const r=new G_;for(const s of Nl(e)){const c=n.data.field(s.fieldPath);if(null==c)return null;const d=r.He(s.kind);Hl.Ve._e(c,d)}return r.Qe()}dn(e){const n=new G_;return Hl.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new G_;return Hl.Ve._e(Rc(this.databaseId,n),r.He(function(s){const c=Nl(s);return 0===c.length?0:c[c.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(null===r)return[];let s=[];s.push(new G_);let c=0;for(const d of Nl(e)){const _=r[c++];for(const b of s)if(this.yn(n,d.fieldPath)&&mf(_))s=this.pn(s,d,_);else{const A=b.He(d.kind);Hl.Ve._e(_,A)}}return this.In(s)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const s=[...e],c=[];for(const d of r.arrayValue.values||[])for(const _ of s){const b=new G_;b.seed(_.Qe()),Hl.Ve._e(d,b.He(n.kind)),c.push(b)}return c}yn(e,n){return!!e.filters.find(r=>r instanceof Ln&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=Dw(e),s=Af(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(c=>{const d=[];return Ie.forEach(c,_=>s.get([_.indexId,this.uid]).next(b=>{d.push(function(A,N){const j=N?new Mc(N.sequenceNumber,new Js(eh(N.readTime),new ft(ou(N.documentKey)),N.largestBatchId)):Mc.empty(),ne=A.fields.map(([ae,Le])=>new rg(ti.fromServerFormat(ae),Le));return new l_(A.indexId,A.collectionGroup,ne,j)}(_,b))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,s)=>{const c=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==c?c:rn(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=Dw(e),c=Af(e);return this.Tn(e).next(d=>s.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(_=>Ie.forEach(_,b=>c.put(zb(b.indexId,this.user,d,r)))))}updateIndexEntries(e,n){const r=new Map;return Ie.forEach(n,(s,c)=>{const d=r.get(s.collectionGroup);return(d?Ie.resolve(d):this.getFieldIndexes(e,s.collectionGroup)).next(_=>(r.set(s.collectionGroup,_),Ie.forEach(_,b=>this.En(e,s,b).next(A=>{const N=this.An(c,b);return A.isEqual(N)?Ie.resolve():this.vn(e,c,b,A,N)}))))})}Rn(e,n,r,s){return Sf(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,s){return Sf(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const s=Sf(e);let c=new Nr(zc);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(d,_)=>{c=c.add(new Ei(r.indexId,n,_.arrayValue,_.directionalValue))}).next(()=>c)}An(e,n){let r=new Nr(zc);const s=this.mn(n,e);if(null==s)return r;const c=df(n);if(null!=c){const d=e.data.field(c.fieldPath);if(mf(d))for(const _ of d.arrayValue.values||[])r=r.add(new Ei(n.indexId,e.key,this.dn(_),s))}else r=r.add(new Ei(n.indexId,e.key,W_,s));return r}vn(e,n,r,s,c){Xe("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const d=[];return function(_,b,A,N,j){const ne=_.getIterator(),ae=b.getIterator();let Le=pf(ne),et=pf(ae);for(;Le||et;){let st=!1,Lt=!1;if(Le&&et){const Qt=A(Le,et);Qt<0?Lt=!0:Qt>0&&(st=!0)}else null!=Le?Lt=!0:st=!0;st?(N(et),et=pf(ae)):Lt?(j(Le),Le=pf(ne)):(Le=pf(ne),et=pf(ae))}}(s,c,zc,_=>{d.push(this.Rn(e,n,r,_))},_=>{d.push(this.Pn(e,n,r,_))}),Ie.waitFor(d)}Tn(e){let n=1;return Af(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,c)=>{c.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((d,_)=>zc(d,_)).filter((d,_,b)=>!_||0!==zc(d,b[_-1]));const s=[];s.push(e);for(const d of r){const _=zc(d,e),b=zc(d,n);if(0===_)s[0]=e.Je();else if(_>0&&b<0)s.push(d),s.push(d.Je());else if(b>0)break}s.push(n);const c=[];for(let d=0;d<s.length;d+=2){if(this.bn(s[d],s[d+1]))return[];c.push(IDBKeyRange.bound([s[d].indexId,this.uid,s[d].arrayValue,s[d].directionalValue,W_,[]],[s[d+1].indexId,this.uid,s[d+1].arrayValue,s[d+1].directionalValue,W_,[]]))}return c}bn(e,n){return zc(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Qb)}getMinOffset(e,n){return Ie.mapArray(this.cn(n),r=>this.an(e,r).next(s=>s||bt())).next(Qb)}}function Yb(t){return Wi(t,"collectionParents")}function Sf(t){return Wi(t,"indexEntries")}function Dw(t){return Wi(t,"indexConfiguration")}function Af(t){return Wi(t,"indexState")}function Qb(t){Ut(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;N0(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Js(e.readTime,e.documentKey,n)}const Tw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ts{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ts(e,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function q_(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),c=[],d=IDBKeyRange.only(n.batchId);let _=0;const b=r.X({range:d},(N,j,ne)=>(_++,ne.delete()));c.push(b.next(()=>{Ut(1===_)}));const A=[];for(const N of n.mutations){const j=ff(e,N.key.path,n.batchId);c.push(s.delete(j)),A.push(N.key)}return Ie.waitFor(c).next(()=>A)}function bg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw bt();e=t.noDocument}return JSON.stringify(e).length}ts.DEFAULT_COLLECTION_PERCENTILE=10,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ts.DEFAULT=new ts(41943040,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ts.DISABLED=new ts(-1,0,0);class Dg{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Vn={}}static de(e,n,r,s){Ut(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Dg(c,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $c(e).X({index:"userMutationsIndex",range:r},(s,c,d)=>{n=!1,d.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const c=nh(e),d=$c(e);return d.add({}).next(_=>{Ut("number"==typeof _);const b=new x_(_,n,r,s),A=function(ne,ae,Le){const et=Le.baseMutations.map(Lt=>V_(ne.fe,Lt)),st=Le.mutations.map(Lt=>V_(ne.fe,Lt));return{userId:ae,batchId:Le.batchId,localWriteTimeMs:Le.localWriteTime.toMillis(),baseMutations:et,mutations:st}}(this.serializer,this.userId,b),N=[];let j=new Nr((ne,ae)=>rn(ne.canonicalString(),ae.canonicalString()));for(const ne of s){const ae=ff(this.userId,ne.key.path,_);j=j.add(ne.key.path.popLast()),N.push(d.put(A)),N.push(c.put(ae,ZS))}return j.forEach(ne=>{N.push(this.indexManager.addToCollectionParentIndex(e,ne))}),e.addOnCommittedListener(()=>{this.Vn[_]=b.keys()}),Ie.waitFor(N).next(()=>b)})}lookupMutationBatch(e,n){return $c(e).get(n).next(r=>r?(Ut(r.userId===this.userId),th(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?Ie.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Vn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return $c(e).X({index:"userMutationsIndex",range:s},(d,_,b)=>{_.userId===this.userId&&(Ut(_.batchId>=r),c=th(this.serializer,_)),b.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $c(e).X({index:"userMutationsIndex",range:n,reverse:!0},(s,c,d)=>{r=c.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $c(e).j("userMutationsIndex",n).next(r=>r.map(s=>th(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=f_(this.userId,n.path),s=IDBKeyRange.lowerBound(r),c=[];return nh(e).X({range:s},(d,_,b)=>{const[A,N,j]=d,ne=ou(N);if(A===this.userId&&n.path.isEqual(ne))return $c(e).get(j).next(ae=>{if(!ae)throw bt();Ut(ae.userId===this.userId),c.push(th(this.serializer,ae))});b.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nr(rn);const s=[];return n.forEach(c=>{const d=f_(this.userId,c.path),_=IDBKeyRange.lowerBound(d),b=nh(e).X({range:_},(A,N,j)=>{const[ne,ae,Le]=A,et=ou(ae);ne===this.userId&&c.path.isEqual(et)?r=r.add(Le):j.done()});s.push(b)}),Ie.waitFor(s).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,c=f_(this.userId,r),d=IDBKeyRange.lowerBound(c);let _=new Nr(rn);return nh(e).X({range:d},(b,A,N)=>{const[j,ne,ae]=b,Le=ou(ne);j===this.userId&&r.isPrefixOf(Le)?Le.length===s&&(_=_.add(ae)):N.done()}).next(()=>this.Dn(e,_))}Dn(e,n){const r=[],s=[];return n.forEach(c=>{s.push($c(e).get(c).next(d=>{if(null===d)throw bt();Ut(d.userId===this.userId),r.push(th(this.serializer,d))}))}),Ie.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return q_(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),Ie.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ie.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return nh(e).X({range:r},(c,d,_)=>{if(c[0]===this.userId){const b=ou(c[1]);s.push(b)}else _.done()}).next(()=>{Ut(0===s.length)})})}containsKey(e,n){return Xb(e,this.userId,n)}xn(e){return rh(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xb(t,e,n){const r=f_(e,n.path),s=r[1],c=IDBKeyRange.lowerBound(r);let d=!1;return nh(t).X({range:c,Y:!0},(_,b,A)=>{const[N,j,ne]=_;N===e&&j===s&&(d=!0),A.done()}).next(()=>d)}function $c(t){return Wi(t,"mutations")}function nh(t){return Wi(t,"documentMutations")}function rh(t){return Wi(t,"mutationQueues")}class Uu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Uu(0)}static Mn(){return new Uu(-1)}}class Jb{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new Uu(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>jt.fromTimestamp(new Or(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.On(e,s)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ih(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(Ut(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let s=0;const c=[];return ih(e).X((d,_)=>{const b=vg(_);b.sequenceNumber<=n&&null===r.get(b.targetId)&&(s++,c.push(this.removeTargetData(e,b)))}).next(()=>Ie.waitFor(c)).next(()=>s)}forEachTarget(e,n){return ih(e).X((r,s)=>{const c=vg(s);n(c)})}$n(e){return eD(e).get("targetGlobalKey").next(n=>(Ut(null!==n),n))}On(e,n){return eD(e).put("targetGlobalKey",n)}Fn(e,n){return ih(e).put(H_(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=qd(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return ih(e).X({range:s,index:"queryTargetsIndex"},(d,_,b)=>{const A=vg(_);kc(n,A.target)&&(c=A,b.done())}).next(()=>c)}addMatchingKeys(e,n,r){const s=[],c=Zl(e);return n.forEach(d=>{const _=No(d.path);s.push(c.put({targetId:r,path:_})),s.push(this.referenceDelegate.addReference(e,r,d))}),Ie.waitFor(s)}removeMatchingKeys(e,n,r){const s=Zl(e);return Ie.forEach(n,c=>{const d=No(c.path);return Ie.waitFor([s.delete([r,d]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,n){const r=Zl(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Zl(e);let c=fn();return s.X({range:r,Y:!0},(d,_,b)=>{const A=ou(d[1]),N=new ft(A);c=c.add(N)}).next(()=>c)}containsKey(e,n){const r=No(n.path),s=IDBKeyRange.bound([r],[O0(r)],!1,!0);let c=0;return Zl(e).X({index:"documentTargetsIndex",Y:!0,range:s},([d,_],b,A)=>{0!==d&&(c++,A.done())}).next(()=>c>0)}le(e,n){return ih(e).get(n).next(r=>r?vg(r):null)}}function ih(t){return Wi(t,"targets")}function eD(t){return Wi(t,"targetGlobal")}function Zl(t){return Wi(t,"targetDocuments")}function NA([t,e],[n,r]){const s=rn(t,n);return 0===s?rn(e,r):s}class tD{constructor(e){this.Ln=e,this.buffer=new Nr(NA),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();NA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;Xe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ve.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){$d(r)?Xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield xc(r)}yield n.Qn(3e5)}))}}class RA{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return Ie.resolve(po.ct);const r=new tD(n);return this.jn.forEachTarget(e,s=>r.Kn(s.sequenceNumber)).next(()=>this.jn.Wn(e,s=>r.Kn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(Tw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tw):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,s,c,d,_,b,A;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(j=>(j>this.params.maximumSequenceNumbersToCollect?(Xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${j}`),s=this.params.maximumSequenceNumbersToCollect):s=j,d=Date.now(),this.nthSequenceNumber(e,s))).next(j=>(r=j,_=Date.now(),this.removeTargets(e,r,n))).next(j=>(c=j,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(j=>(A=Date.now(),a_()<=Lu.in.DEBUG&&Xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-N}ms\n\tDetermined least recently used ${s} in `+(_-d)+`ms\n\tRemoved ${c} targets in `+(b-_)+`ms\n\tRemoved ${j} documents in `+(A-b)+`ms\nTotal Duration: ${A-N}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:c,documentsRemoved:j})))}}class kP{constructor(e,n){this.db=e,this.garbageCollector=function kA(t,e){return new RA(t,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,s)=>n(s))}addReference(e,n,r){return Sw(e,r)}removeReference(e,n,r){return Sw(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Sw(e,n)}Xn(e,n){return function(r,s){let c=!1;return rh(r).Z(d=>Xb(r,d,s).next(_=>(_&&(c=!0),Ie.resolve(!_)))).next(()=>c)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let c=0;return this.Yn(e,(d,_)=>{if(_<=n){const b=this.Xn(e,d).next(A=>{if(!A)return c++,r.getEntry(e,d).next(()=>(r.removeEntry(d,jt.min()),Zl(e).delete([0,No(d.path)])))});s.push(b)}}).next(()=>Ie.waitFor(s)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Sw(e,n)}Yn(e,n){const r=Zl(e);let s,c=po.ct;return r.X({index:"documentTargetsIndex"},([d,_],{path:b,sequenceNumber:A})=>{0===d?(c!==po.ct&&n(new ft(ou(s)),c),c=A,s=b):c=po.ct}).next(()=>{c!==po.ct&&n(new ft(ou(s)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sw(t,e){return Zl(t).put((r=t.currentSequenceNumber,{targetId:0,path:No(e.path),sequenceNumber:r}));var r}class Aw{constructor(){this.changes=new Fc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?Ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LA{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Mf(e).put(r)}removeEntry(e,n,r){return Mf(e).delete(function(s,c){const d=s.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],$_(c),d[d.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=jr.newInvalidDocument(n);return Mf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(K_(n))},(s,c)=>{r=this.ts(n,c)}).next(()=>r)}es(e,n){let r={size:0,document:jr.newInvalidDocument(n)};return Mf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(K_(n))},(s,c)=>{r={document:this.ts(n,c),size:bg(c)}}).next(()=>r)}getEntries(e,n){let r=es();return this.ns(e,n,(s,c)=>{const d=this.ts(s,c);r=r.insert(s,d)}).next(()=>r)}ss(e,n){let r=es(),s=new vr(ft.comparator);return this.ns(e,n,(c,d)=>{const _=this.ts(c,d);r=r.insert(c,_),s=s.insert(c,bg(d))}).next(()=>({documents:r,rs:s}))}ns(e,n,r){if(n.isEmpty())return Ie.resolve();let s=new Nr(UA);n.forEach(b=>s=s.add(b));const c=IDBKeyRange.bound(K_(s.first()),K_(s.last())),d=s.getIterator();let _=d.getNext();return Mf(e).X({index:"documentKeyIndex",range:c},(b,A,N)=>{const j=ft.fromSegments([...A.prefixPath,A.collectionGroup,A.documentId]);for(;_&&UA(_,j)<0;)r(_,null),_=d.getNext();_&&_.isEqual(j)&&(r(_,A),_=d.hasNext()?d.getNext():null),_?N.G(K_(_)):N.done()}).next(()=>{for(;_;)r(_,null),_=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,n,r,s){const c=n.path,d=[c.popLast().toArray(),c.lastSegment(),$_(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],_=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mf(e).j(IDBKeyRange.bound(d,_,!0)).next(b=>{let A=es();for(const N of b){const j=this.ts(ft.fromSegments(N.prefixPath.concat(N.collectionGroup,N.documentId)),N);j.isFoundDocument()&&(hg(n,j)||s.has(j.key))&&(A=A.insert(j.key,j))}return A})}getAllFromCollectionGroup(e,n,r,s){let c=es();const d=BA(n,r),_=BA(n,Js.max());return Mf(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,_,!0)},(b,A,N)=>{const j=this.ts(ft.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);c=c.insert(j.key,j),c.size===s&&N.done()}).next(()=>c)}newChangeBuffer(e){return new FA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return VA(e).get("remoteDocumentGlobalKey").next(n=>(Ut(!!n),n))}Zn(e,n){return VA(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=function z_(t,e){let n;if(e.document)n=bA(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ft.fromSegments(e.noDocument.path),s=eh(e.noDocument.readTime);n=jr.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return bt();{const r=ft.fromSegments(e.unknownDocument.path),s=eh(e.unknownDocument.version);n=jr.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(r){const s=new Or(r[0],r[1]);return jt.fromTimestamp(s)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(jt.min()))return r}return jr.newInvalidDocument(e)}}function rD(t){return new LA(t)}class FA extends Aw{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new Fc(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new Nr((c,d)=>rn(c.canonicalString(),d.canonicalString()));return this.changes.forEach((c,d)=>{const _=this.us.get(c);if(n.push(this.os.removeEntry(e,c,_.readTime)),d.isValidDocument()){const b=Ub(this.os.serializer,d);s=s.add(c.path.popLast());const A=bg(b);r+=A-_.size,n.push(this.os.addEntry(e,c,b))}else if(r-=_.size,this.trackRemovals){const b=Ub(this.os.serializer,d.convertToNoDocument(jt.min()));n.push(this.os.addEntry(e,c,b))}}),s.forEach(c=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),n.push(this.os.updateMetadata(e,r)),Ie.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:s})=>(s.forEach((c,d)=>{this.us.set(c,{size:d,readTime:r.get(c).readTime})}),r))}}function VA(t){return Wi(t,"remoteDocumentGlobal")}function Mf(t){return Wi(t,"remoteDocumentsV14")}function K_(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function BA(t,e){const n=e.documentKey.path.toArray();return[t,$_(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function UA(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let c=0;c<n.length-2&&c<r.length-2;++c)if(s=rn(n[c],r[c]),s)return s;return s=rn(n.length,r.length),s||(s=rn(n[n.length-2],r[r.length-2]),s||rn(n[n.length-1],r[r.length-1]))}class jA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Tg{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(null!==r&&A_(r.mutation,s,Ss.empty(),Or.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fn()){const s=Vu();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(c=>{let d=Yd();return c.forEach((_,b)=>{d=d.insert(_,b.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const r=Vu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fn()))}populateOverlays(e,n,r){const s=[];return r.forEach(c=>{n.has(c)||s.push(c)}),this.documentOverlayCache.getOverlays(e,s).next(c=>{c.forEach((d,_)=>{n.set(d,_)})})}computeViews(e,n,r,s){let c=es();const d=Cf(),_=Cf();return n.forEach((b,A)=>{const N=r.get(A.key);s.has(A.key)&&(void 0===N||N.mutation instanceof zl)?c=c.insert(A.key,A):void 0!==N?(d.set(A.key,N.mutation.getFieldMask()),A_(N.mutation,A,N.mutation.getFieldMask(),Or.now())):d.set(A.key,Ss.empty())}),this.recalculateAndSaveOverlays(e,c).next(b=>(b.forEach((A,N)=>d.set(A,N)),n.forEach((A,N)=>{var j;return _.set(A,new jA(N,null!==(j=d.get(A))&&void 0!==j?j:null))}),_))}recalculateAndSaveOverlays(e,n){const r=Cf();let s=new vr((d,_)=>d-_),c=fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const _ of d)_.keys().forEach(b=>{const A=n.get(b);if(null===A)return;let N=r.get(b)||Ss.empty();N=_.applyToLocalView(A,N),r.set(b,N);const j=(s.get(_.batchId)||fn()).add(b);s=s.insert(_.batchId,j)})}).next(()=>{const d=[],_=s.getReverseIterator();for(;_.hasNext();){const b=_.getNext(),A=b.key,N=b.value,j=iw();N.forEach(ne=>{if(!c.has(ne)){const ae=vb(n.get(ne),r.get(ne));null!==ae&&j.set(ne,ae),c=c.add(ne)}}),d.push(this.documentOverlayCache.saveOverlays(e,A,j))}return Ie.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return ft.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):wf(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var s}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(c=>{const d=s-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-c.size):Ie.resolve(Vu());let _=-1,b=c;return d.next(A=>Ie.forEach(A,(N,j)=>(_<j.largestBatchId&&(_=j.largestBatchId),c.get(N)?Ie.resolve():this.remoteDocumentCache.getEntry(e,N).next(ne=>{b=b.insert(N,ne)}))).next(()=>this.populateOverlays(e,A,c)).next(()=>this.computeViews(e,b,A,fn())).next(N=>({batchId:_,changes:rw(N)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ft(n)).next(r=>{let s=Yd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let c=Yd();return this.indexManager.getCollectionParents(e,s).next(d=>Ie.forEach(d,_=>{const b=(A=n,N=_.child(s),new Lc(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,N;return this.getDocumentsMatchingCollectionQuery(e,b,r).next(A=>{A.forEach((N,j)=>{c=c.insert(N,j)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(c=>{s.forEach((_,b)=>{const A=b.getKey();null===c.get(A)&&(c=c.insert(A,jr.newInvalidDocument(A)))});let d=Yd();return c.forEach((_,b)=>{const A=s.get(_);void 0!==A&&A_(A.mutation,b,Ss.empty(),Or.now()),hg(n,b)&&(d=d.insert(_,b))}),d})}}class zA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Ie.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ni(r.createTime)}),Ie.resolve()}getNamedQuery(e,n){return Ie.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:_w(r.bundledQuery),readTime:ni(r.readTime)}),Ie.resolve();var r}}class $A{constructor(){this.overlays=new vr(ft.comparator),this.ls=new Map}getOverlay(e,n){return Ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vu();return Ie.forEach(n,s=>this.getOverlay(e,s).next(c=>{null!==c&&r.set(s,c)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,c)=>{this.we(e,n,c)}),Ie.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(r)),Ie.resolve()}getOverlaysForCollection(e,n,r){const s=Vu(),c=n.length+1,d=new ft(n.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const b=_.getNext().value,A=b.getKey();if(!n.isPrefixOf(A.path))break;A.path.length===c&&b.largestBatchId>r&&s.set(b.getKey(),b)}return Ie.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let c=new vr((A,N)=>A-N);const d=this.overlays.getIterator();for(;d.hasNext();){const A=d.getNext().value;if(A.getKey().getCollectionGroup()===n&&A.largestBatchId>r){let N=c.get(A.largestBatchId);null===N&&(N=Vu(),c=c.insert(A.largestBatchId,N)),N.set(A.getKey(),A)}}const _=Vu(),b=c.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((A,N)=>_.set(A,N)),!(_.size()>=s)););return Ie.resolve(_)}we(e,n,r){const s=this.overlays.get(r.key);if(null!==s){const d=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new hw(n,r));let c=this.ls.get(n);void 0===c&&(c=fn(),this.ls.set(n,c)),this.ls.set(n,c.add(r.key))}}class Y_{constructor(){this.fs=new Nr(zr.ds),this.ws=new Nr(zr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new zr(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new zr(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ft(new Bn([])),r=new zr(n,e),s=new zr(n,e+1),c=[];return this.ws.forEachInRange([r,s],d=>{this.ys(d),c.push(d.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ft(new Bn([])),r=new zr(n,e),s=new zr(n,e+1);let c=fn();return this.ws.forEachInRange([r,s],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new zr(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class zr{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ft.comparator(e.key,n.key)||rn(e.As,n.As)}static _s(e,n){return rn(e.As,n.As)||ft.comparator(e.key,n.key)}}class iD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Nr(zr.ds)}checkEmpty(e){return Ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,s){const c=this.vs;this.vs++;const d=new x_(c,n,r,s);this.mutationQueue.push(d);for(const _ of s)this.Rs=this.Rs.add(new zr(_.key,c)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return Ie.resolve(d)}lookupMutationBatch(e,n){return Ie.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=this.bs(n+1),c=s<0?0:s;return Ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zr(n,0),s=new zr(n,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([r,s],d=>{const _=this.Ps(d.As);c.push(_)}),Ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nr(rn);return n.forEach(s=>{const c=new zr(s,0),d=new zr(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,d],_=>{r=r.add(_.As)})}),Ie.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let c=r;ft.isDocumentKey(c)||(c=c.child(""));const d=new zr(new ft(c),0);let _=new Nr(rn);return this.Rs.forEachWhile(b=>{const A=b.key.path;return!!r.isPrefixOf(A)&&(A.length===s&&(_=_.add(b.As)),!0)},d),Ie.resolve(this.Vs(_))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&n.push(s)}),n}removeMutationBatch(e,n){Ut(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Ie.forEach(n.mutations,s=>{const c=new zr(s.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new zr(n,0),s=this.Rs.firstAfterOrEqual(r);return Ie.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return Ie.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Mw{constructor(e){this.Ds=e,this.docs=new vr(ft.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),c=s?s.size:0,d=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ie.resolve(r?r.document.mutableCopy():jr.newInvalidDocument(n))}getEntries(e,n){let r=es();return n.forEach(s=>{const c=this.docs.get(s);r=r.insert(s,c?c.document.mutableCopy():jr.newInvalidDocument(s))}),Ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let c=es();const d=n.path,_=new ft(d.child("")),b=this.docs.getIteratorFrom(_);for(;b.hasNext();){const{key:A,value:{document:N}}=b.getNext();if(!d.isPrefixOf(A.path))break;A.path.length>d.length+1||N0(VI(N),r)<=0||(s.has(N.key)||hg(n,N))&&(c=c.insert(N.key,N.mutableCopy()))}return Ie.resolve(c)}getAllFromCollectionGroup(e,n,r,s){bt()}Cs(e,n){return Ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xw(this)}getSize(e){return Ie.resolve(this.size)}}class xw extends Aw{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),Ie.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class HA{constructor(e){this.persistence=e,this.xs=new Fc(n=>qd(n),kc),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Y_,this.targetCount=0,this.Ms=Uu.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Ie.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Uu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Ie.resolve()}updateTargetData(e,n){return this.Fn(n),Ie.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,n,r){let s=0;const c=[];return this.xs.forEach((d,_)=>{_.sequenceNumber<=n&&null===r.get(_.targetId)&&(this.xs.delete(d),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),s++)}),Ie.waitFor(c).next(()=>s)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Ie.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Ie.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,c=[];return s&&n.forEach(d=>{c.push(s.markPotentiallyOrphaned(e,d))}),Ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Ie.resolve(r)}containsKey(e,n){return Ie.resolve(this.ks.containsKey(n))}}class Sg{constructor(e,n){this.$s={},this.overlays={},this.Os=new po(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new HA(this),this.indexManager=new Kb,this.remoteDocumentCache=new Mw(r=>this.referenceDelegate.Ls(r)),this.serializer=new Tf(n),this.qs=new zA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $A,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new iD(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Xe("MemoryPersistence","Starting transaction:",e);const s=new Pw(this.Os.next());return this.referenceDelegate.Us(),r(s).next(c=>this.referenceDelegate.Ks(s).next(()=>c)).toPromise().then(c=>(s.raiseOnCommittedEvent(),c))}Gs(e,n){return Ie.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Pw extends k0{constructor(e){super(),this.currentSequenceNumber=e}}class oh{constructor(e){this.persistence=e,this.Qs=new Y_,this.js=null}static zs(e){return new oh(e)}get Ws(){if(this.js)return this.js;throw bt()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Ie.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Ie.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(c=>this.Ws.add(c.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.Ws,r=>{const s=ft.fromPath(r);return this.Hs(e,s).next(c=>{c||n.removeEntry(s,jt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Ie.or([()=>Ie.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class LP{constructor(e){this.serializer=e}O(e,n,r,s){const c=new d_("createOrUpgrade",n);var _;r<1&&s>=1&&(e.createObjectStore("owner"),(_=e).createObjectStore("mutationQueues",{keyPath:"userId"}),_.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zI,{unique:!0}),_.createObjectStore("documentMutations"),ZA(e),function(_){_.createObjectStore("remoteDocuments")}(e));let d=Ie.resolve();return r<3&&s>=3&&(0!==r&&(function(_){_.deleteObjectStore("targetDocuments"),_.deleteObjectStore("targets"),_.deleteObjectStore("targetGlobal")}(e),ZA(e)),d=d.next(()=>function(_){const b=_.store("targetGlobal"),A={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jt.min().toTimestamp(),targetCount:0};return b.put("targetGlobalKey",A)}(c))),r<4&&s>=4&&(0!==r&&(d=d.next(()=>function(_,b){return b.store("mutations").j().next(A=>{_.deleteObjectStore("mutations"),_.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zI,{unique:!0});const N=b.store("mutations"),j=A.map(ne=>N.put(ne));return Ie.waitFor(j)})}(e,c))),d=d.next(()=>{!function(_){_.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(d=d.next(()=>this.Ys(c))),r<6&&s>=6&&(d=d.next(()=>(function(_){_.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),r<7&&s>=7&&(d=d.next(()=>this.Zs(c))),r<8&&s>=8&&(d=d.next(()=>this.ti(e,c))),r<9&&s>=9&&(d=d.next(()=>{!function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(d=d.next(()=>this.ei(c))),r<11&&s>=11&&(d=d.next(()=>{(function(_){_.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(_){_.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(d=d.next(()=>{!function(_){const b=_.createObjectStore("documentOverlays",{keyPath:QS});b.createIndex("collectionPathOverlayIndex",XS,{unique:!1}),b.createIndex("collectionGroupOverlayIndex",B0,{unique:!1})}(e)})),r<13&&s>=13&&(d=d.next(()=>function(_){const b=_.createObjectStore("remoteDocumentsV14",{keyPath:$I});b.createIndex("documentKeyIndex",GS),b.createIndex("collectionGroupIndex",HI)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(d=d.next(()=>this.si(e,c))),r<15&&s>=15&&(d=d.next(()=>function(_){_.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),_.createObjectStore("indexState",{keyPath:KS}).createIndex("sequenceNumberIndex",GI,{unique:!1}),_.createObjectStore("indexEntries",{keyPath:WI}).createIndex("documentKeyIndex",YS,{unique:!1})}(e))),d}Xs(e){let n=0;return e.store("remoteDocuments").X((r,s)=>{n+=bg(s)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(s=>Ie.forEach(s,c=>{const d=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",d).next(_=>Ie.forEach(_,b=>{Ut(b.userId===c.userId);const A=th(this.serializer,b);return q_(e,c.userId,A).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const c=[];return r.X((d,_)=>{const b=new Bn(d),A=[0,No(b)];c.push(n.get(A).next(N=>N?Ie.resolve():n.put({targetId:0,path:No(b),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>Ie.waitFor(c))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:V0});const r=n.store("collectionParents"),s=new bw,c=d=>{if(s.add(d)){const _=d.lastSegment(),b=d.popLast();return r.put({collectionId:_,parent:No(b)})}};return n.store("remoteDocuments").X({Y:!0},(d,_)=>{const b=new Bn(d);return c(b.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([d,_,b],A)=>{const N=ou(_);return c(N.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,s)=>{const c=vg(s),d=H_(this.serializer,c);return n.put(d)})}ni(e,n){const r=n.store("remoteDocuments"),s=[];return r.X((c,d)=>{const _=n.store("remoteDocumentsV14"),b=(A=d,A.document?new ft(Bn.fromString(A.document.name).popFirst(5)):A.noDocument?ft.fromSegments(A.noDocument.path):A.unknownDocument?ft.fromSegments(A.unknownDocument.path):bt()).path.toArray();var A;const N={prefixPath:b.slice(0,b.length-2),collectionGroup:b[b.length-2],documentId:b[b.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};s.push(_.put(N))}).next(()=>Ie.waitFor(s))}si(e,n){const r=n.store("mutations"),s=rD(this.serializer),c=new Sg(oh.zs,this.serializer.fe);return r.j().next(d=>{const _=new Map;return d.forEach(b=>{var A;let N=null!==(A=_.get(b.userId))&&void 0!==A?A:fn();th(this.serializer,b).keys().forEach(j=>N=N.add(j)),_.set(b.userId,N)}),Ie.forEach(_,(b,A)=>{const N=new Oi(A),j=Z_.de(this.serializer,N),ne=c.getIndexManager(N),ae=Dg.de(N,this.serializer,ne,c.referenceDelegate);return new Tg(s,ae,j,ne).recalculateAndSaveOverlaysForDocumentKeys(new U0(n,po.ct),b).next()})})}}function ZA(t){t.createObjectStore("targetDocuments",{keyPath:ZI}).createIndex("documentTargetsIndex",qS,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",WS,{unique:!0}),t.createObjectStore("targetGlobal")}const Q_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Nw{constructor(e,n,r,s,c,d,_,b,A,N,j=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=c,this.window=d,this.document=_,this.ri=A,this.oi=N,this.ui=j,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=ne=>Promise.resolve(),!Nw.D())throw new Ze(Se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kP(this,s),this.di=n+"main",this.serializer=new Tf(b),this.wi=new iu(this.di,this.ui,new LP(this.serializer)),this.Bs=new Jb(this.referenceDelegate,this.serializer),this.remoteDocumentCache=rD(this.serializer),this.qs=new AA,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===N&&fi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ze(Se.FAILED_PRECONDITION,Q_);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new po(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var r=(0,Ve.Z)(function*(s){if(n.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=(0,Ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ve.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>X_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if($d(e))return Xe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Ag(e).get("owner").next(n=>Ie.resolve(this.Ri(n)))}Pi(e){return X_(e).delete(this.clientId)}bi(){var e=this;return(0,Ve.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=Wi(r,"clientMetadata");return s.j().next(c=>{const d=e.Si(c,18e5),_=c.filter(b=>-1===d.indexOf(b));return Ie.forEach(_,b=>s.delete(b.clientId)).next(()=>_)})}).catch(()=>[]);if(e._i)for(const r of n)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ie.resolve(!0):Ag(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new Ze(Se.FAILED_PRECONDITION,Q_);return!1}}return!(!this.networkEnabled||!this.inForeground)||X_(e).j().next(r=>void 0===this.Si(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Xe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,Ve.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new U0(n,po.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>X_(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return Dg.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new OA(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Z_.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){Xe("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===n?"readonly":"readwrite",c=15===(d=this.ui)?JS:14===d?QI:13===d?YI:12===d?KI:11===d?qI:void bt();var d;let _;return this.wi.runTransaction(e,s,c,b=>(_=new U0(b,this.Os?this.Os.next():po.ct),"readwrite-primary"===n?this.Ti(_).next(A=>!!A||this.Ei(_)).next(A=>{if(!A)throw fi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ze(Se.FAILED_PRECONDITION,R0);return r(_)}).next(A=>this.vi(_).next(()=>A)):this.Oi(_).next(()=>r(_)))).then(b=>(_.raiseOnCommittedEvent(),b))}Oi(e){return Ag(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ze(Se.FAILED_PRECONDITION,Q_)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ag(e).put("owner",n)}static D(){return iu.D()}Ai(e){const n=Ag(e);return n.get("owner").next(r=>this.Ri(r)?(Xe("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ie.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n||e>r&&(fi(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,wn.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return Xe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return fi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){fi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ag(t){return Wi(t,"owner")}function X_(t){return Wi(t,"clientMetadata")}function Rw(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class J_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=fn(),s=fn();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:s=s.add(c.doc.key)}return new J_(e,n.fromCache,r,s)}}class kw{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(c=>c||this.Gi(e,n,s,r)).next(c=>c||this.Qi(e,n))}Ki(e,n){if(fb(n))return Ie.resolve(null);let r=Jo(n);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==n.limit&&1===s&&(n=Kd(n,null,"F"),r=Jo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const d=fn(...c);return this.Ui.getDocuments(e,d).next(_=>this.indexManager.getMinOffset(e,r).next(b=>{const A=this.ji(n,_);return this.zi(n,A,d,b.readTime)?this.Ki(e,Kd(n,null,"F")):this.Wi(e,A,n,b)}))})))}Gi(e,n,r,s){return fb(n)||s.isEqual(jt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(c=>{const d=this.ji(n,c);return this.zi(n,d,r,s)?this.Qi(e,n):(a_()<=Lu.in.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),C_(n)),this.Wi(e,d,n,hf(s,-1)))})}ji(e,n){let r=new Nr(tw(e));return n.forEach((s,c)=>{hg(e,c)&&(r=r.add(c))}),r}zi(e,n,r,s){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(s)>0)}Qi(e,n){return a_()<=Lu.in.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",C_(n)),this.Ui.getDocumentsMatchingQuery(e,n,Js.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}class oD{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new vr(rn),this.Yi=new Fc(c=>qd(c),kc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tg(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function sD(t,e,n,r){return new oD(t,e,n,r)}function aD(t,e){return ey.apply(this,arguments)}function ey(){return ey=(0,Ve.Z)(function*(t,e){const n=mt(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(c=>(s=c,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],_=[];let b=fn();for(const A of s){d.push(A.batchId);for(const N of A.mutations)b=b.add(N.key)}for(const A of c){_.push(A.batchId);for(const N of A.mutations)b=b.add(N.key)}return n.localDocuments.getDocuments(r,b).next(A=>({er:A,removedBatchIds:d,addedBatchIds:_}))})})}),ey.apply(this,arguments)}function GA(t){const e=mt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ty(t,e,n){let r=fn(),s=fn();return n.forEach(c=>r=r.add(c)),e.getEntries(t,r).next(c=>{let d=es();return n.forEach((_,b)=>{const A=c.get(_);b.isFoundDocument()!==A.isFoundDocument()&&(s=s.add(_)),b.isNoDocument()&&b.version.isEqual(jt.min())?(e.removeEntry(_,b.readTime),d=d.insert(_,b)):!A.isValidDocument()||b.version.compareTo(A.version)>0||0===b.version.compareTo(A.version)&&A.hasPendingWrites?(e.addEntry(b),d=d.insert(_,b)):Xe("LocalStore","Ignoring outdated watch update for ",_,". Current version:",A.version," Watch version:",b.version)}),{nr:d,sr:s}})}function WA(t,e){const n=mt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xf(t,e){const n=mt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(c=>c?(s=c,Ie.resolve(s)):n.Bs.allocateTargetId(r).next(d=>(s=new jc(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function Mg(t,e,n){return cD.apply(this,arguments)}function cD(){return cD=(0,Ve.Z)(function*(t,e,n){const r=mt(t),s=r.Ji.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,s)))}catch(d){if(!$d(d))throw d;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),cD.apply(this,arguments)}function ny(t,e,n){const r=mt(t);let s=jt.min(),c=fn();return r.persistence.runTransaction("Execute query","readonly",d=>function(_,b,A){const N=mt(_),j=N.Yi.get(A);return void 0!==j?Ie.resolve(N.Ji.get(j)):N.Bs.getTargetData(b,A)}(r,d,Jo(e)).next(_=>{if(_)return s=_.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(d,_.targetId).next(b=>{c=b})}).next(()=>r.Hi.getDocumentsMatchingQuery(d,e,n?s:jt.min(),n?c:fn())).next(_=>(hD(r,gb(e),_),{documents:_,ir:c})))}function lD(t,e){const n=mt(t),r=mt(n.Bs),s=n.Ji.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",c=>r.le(c,e).next(d=>d?d.target:null))}function dD(t,e){const n=mt(t),r=n.Xi.get(e)||jt.min();return n.persistence.runTransaction("Get new document changes","readonly",s=>n.Zi.getAllFromCollectionGroup(s,e,hf(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(hD(n,e,s),s))}function hD(t,e,n){let r=t.Xi.get(e)||jt.min();n.forEach((s,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),t.Xi.set(e,r)}function ry(){return ry=(0,Ve.Z)(function*(t,e,n,r){const s=mt(t);let c=fn(),d=es();for(const A of n){const N=e.rr(A.metadata.name);A.document&&(c=c.add(N));const j=e.ur(A);j.setReadTime(e.cr(A.metadata.readTime)),d=d.insert(N,j)}const _=s.Zi.newChangeBuffer({trackRemovals:!0}),b=yield xf(s,(A=r,Jo(Fu(Bn.fromString(`__bundle__/docs/${A}`)))));var A;return s.persistence.runTransaction("Apply bundle documents","readwrite",A=>ty(A,_,d).next(N=>(_.apply(A),N)).next(N=>s.Bs.removeMatchingKeysForTargetId(A,b.targetId).next(()=>s.Bs.addMatchingKeys(A,c,b.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(A,N.nr,N.sr)).next(()=>N.nr)))}),ry.apply(this,arguments)}function qA(t,e){return iy.apply(this,arguments)}function iy(){return iy=(0,Ve.Z)(function*(t,e,n=fn()){const r=yield xf(t,Jo(_w(e.bundledQuery))),s=mt(t);return s.persistence.runTransaction("Save named query","readwrite",c=>{const d=ni(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return s.qs.saveNamedQuery(c,e);const _=r.withResumeToken(pi.EMPTY_BYTE_STRING,d);return s.Ji=s.Ji.insert(_.targetId,_),s.Bs.updateTargetData(c,_).next(()=>s.Bs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>s.Bs.addMatchingKeys(c,n,r.targetId)).next(()=>s.qs.saveNamedQuery(c,e))})}),iy.apply(this,arguments)}function Fw(t,e){return`firestore_clients_${t}_${e}`}function KA(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Vw(t,e){return`firestore_targets_${t}_${e}`}class Pf{constructor(e,n,r,s){this.user=e,this.batchId=n,this.state=r,this.error=s}static ar(e,n,r){const s=JSON.parse(r);let c,d="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(c=new Ze(s.error.code,s.error.message))),d?new Pf(e,n,s.state,c):(fi("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Of{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let s,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Ze(r.error.code,r.error.message))),c?new Of(e,r.state,s):(fi("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xg{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let s="object"==typeof r&&r.activeTargetIds instanceof Array,c=I_();for(let d=0;s&&d<r.activeTargetIds.length;++d)s=UI(r.activeTargetIds[d]),c=c.add(r.activeTargetIds[d]);return s?new xg(e,c):(fi("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Bw{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Bw(n.clientId,n.onlineState):(fi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Nf{constructor(){this.activeTargetIds=I_()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uw{constructor(e,n,r,s,c){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new vr(rn),this.started=!1,this.yr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=Fw(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Nf),this.Tr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(_){return`firestore_bundle_loaded_v2_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ve.Z)(function*(){const n=yield e.syncEngine.$i();for(const s of n){if(s===e.wr)continue;const c=e.getItem(Fw(e.persistenceKey,s));if(c){const d=xg.ar(s,c);d&&(e.gr=e.gr.insert(d.clientId,d))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const s=e.br(r);s&&e.Vr(s)}for(const s of e.yr)e.mr(s);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Vw(this.persistenceKey,e));if(r){const s=Of.ar(e,r);s&&(n=s.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vw(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(s=>{this.Cr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Xe("SharedClientState","READ",e,n),n}setItem(e,n){Xe("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const r=e;if(r.storageArea===this.storage){if(Xe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void fi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ve.Z)(function*(){if(n.started){if(null!==r.key)if(n.Tr.test(r.key)){if(null==r.newValue){const s=n.Or(r.key);return n.Fr(s,null)}{const s=n.Br(r.key,r.newValue);if(s)return n.Fr(s.clientId,s)}}else if(n.Er.test(r.key)){if(null!==r.newValue){const s=n.Lr(r.key,r.newValue);if(s)return n.qr(s)}}else if(n.Ar.test(r.key)){if(null!==r.newValue){const s=n.Ur(r.key,r.newValue);if(s)return n.Kr(s)}}else if(r.key===n.vr){if(null!==r.newValue){const s=n.br(r.newValue);if(s)return n.Vr(s)}}else if(r.key===n.Ir){const s=function(c){let d=po.ct;if(null!=c)try{const _=JSON.parse(c);Ut("number"==typeof _),d=_}catch(_){fi("SharedClientState","Failed to read sequence number from WebStorage",_)}return d}(r.newValue);s!==po.ct&&n.sequenceNumberHandler(s)}else if(r.key===n.Rr){const s=n.Gr(r.newValue);yield Promise.all(s.map(c=>n.syncEngine.Qr(c)))}}else n.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const s=new Pf(this.currentUser,e,n,r),c=KA(this.persistenceKey,this.currentUser,e);this.setItem(c,s.hr())}Cr(e){const n=KA(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,r){const s=Vw(this.persistenceKey,e),c=new Of(e,n,r);this.setItem(s,c.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return xg.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),s=Number(r[1]);return Pf.ar(new Oi(void 0!==r[2]?r[2]:null),s,n)}Ur(e,n){const r=this.Ar.exec(e),s=Number(r[1]);return Of.ar(s,n)}br(e){return Bw.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,Ve.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);Xe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),s=this.Sr(this.gr),c=this.Sr(r),d=[],_=[];return c.forEach(b=>{s.has(b)||d.push(b)}),s.forEach(b=>{c.has(b)||_.push(b)}),this.syncEngine.Wr(d,_).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=I_();return e.forEach((r,s)=>{n=n.unionWith(s.activeTargetIds)}),n}}class pD{constructor(){this.Hr=new Nf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Nf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gD{Yr(e){}shutdown(){}}class jw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let zw=null;function $w(){return null===zw?zw=268435456+Math.round(2147483648*Math.random()):zw++,"0x"+zw.toString(16)}const FP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YA{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ns="WebChannelConnection";class VP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,c){const d=$w(),_=this.To(e,n);Xe("RestConnection",`Sending RPC '${e}' ${d}:`,_,r);const b={};return this.Eo(b,s,c),this.Ao(e,_,b,r).then(A=>(Xe("RestConnection",`Received RPC '${e}' ${d}: `,A),A),A=>{throw fo("RestConnection",`RPC '${e}' ${d} failed with error: `,A,"url: ",_,"request:",r),A})}vo(e,n,r,s,c,d){return this.Io(e,n,r,s,c)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ud,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,c)=>e[c]=s),r&&r.headers.forEach((s,c)=>e[c]=s)}To(e,n){return`${this.mo}/v1/${n}:${FP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const c=$w();return new Promise((d,_)=>{const b=new xI;b.setWithCredentials(!0),b.listenOnce(VS.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case M0.NO_ERROR:const N=b.getResponseJson();Xe(ns,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(N)),d(N);break;case M0.TIMEOUT:Xe(ns,`RPC '${e}' ${c} timed out`),_(new Ze(Se.DEADLINE_EXCEEDED,"Request time out"));break;case M0.HTTP_ERROR:const j=b.getStatus();if(Xe(ns,`RPC '${e}' ${c} failed with status:`,j,"response text:",b.getResponseText()),j>0){let ne=b.getResponseJson();Array.isArray(ne)&&(ne=ne[0]);const ae=ne?.error;if(ae&&ae.status&&ae.message){const Le=function(et){const st=et.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(st)>=0?st:Se.UNKNOWN}(ae.status);_(new Ze(Le,ae.message))}else _(new Ze(Se.UNKNOWN,"Server responded with status "+b.getStatus()))}else _(new Ze(Se.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{Xe(ns,`RPC '${e}' ${c} completed.`)}});const A=JSON.stringify(s);Xe(ns,`RPC '${e}' ${c} sending request:`,s),b.send(n,"POST",A,r,15)})}Ro(e,n,r){const s=$w(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=LS(),_=FS(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},A=this.longPollingOptions.timeoutSeconds;void 0!==A&&(b.longPollingTimeout=Math.round(1e3*A)),this.useFetchStreams&&(b.xmlHttpFactory=new MI({})),this.Eo(b.initMessageHeaders,n,r),b.encodeInitMessageHeaders=!0;const N=c.join("");Xe(ns,`Creating RPC '${e}' stream ${s}: ${N}`,b);const j=d.createWebChannel(N,b);let ne=!1,ae=!1;const Le=new YA({ro:st=>{ae?Xe(ns,`Not sending because RPC '${e}' stream ${s} is closed:`,st):(ne||(Xe(ns,`Opening RPC '${e}' stream ${s} transport.`),j.open(),ne=!0),Xe(ns,`RPC '${e}' stream ${s} sending:`,st),j.send(st))},oo:()=>j.close()}),et=(st,Lt,Qt)=>{st.listen(Lt,$t=>{try{Qt($t)}catch(en){setTimeout(()=>{throw en},0)}})};return et(j,eg.EventType.OPEN,()=>{ae||Xe(ns,`RPC '${e}' stream ${s} transport opened.`)}),et(j,eg.EventType.CLOSE,()=>{ae||(ae=!0,Xe(ns,`RPC '${e}' stream ${s} transport closed`),Le.wo())}),et(j,eg.EventType.ERROR,st=>{ae||(ae=!0,fo(ns,`RPC '${e}' stream ${s} transport errored:`,st),Le.wo(new Ze(Se.UNAVAILABLE,"The operation could not be completed")))}),et(j,eg.EventType.MESSAGE,st=>{var Lt;if(!ae){const Qt=st.data[0];Ut(!!Qt);const en=Qt.error||(null===(Lt=Qt[0])||void 0===Lt?void 0:Lt.error);if(en){Xe(ns,`RPC '${e}' stream ${s} received error:`,en);const Cn=en.status;let Zn=function(Ug){const V1=gi[Ug];if(void 0!==V1)return P_(V1)}(Cn),Ms=en.message;void 0===Zn&&(Zn=Se.INTERNAL,Ms="Unknown error status: "+Cn+" with message "+en.message),ae=!0,Le.wo(new Ze(Zn,Ms)),j.close()}else Xe(ns,`RPC '${e}' stream ${s} received:`,Qt),Le._o(Qt)}}),et(_,BS.STAT_EVENT,st=>{st.stat===x0.PROXY?Xe(ns,`RPC '${e}' stream ${s} detected buffering proxy`):st.stat===x0.NOPROXY&&Xe(ns,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{Le.fo()},0),Le}}function mD(){return typeof window<"u"?window:null}function oy(){return typeof document<"u"?document:null}function sy(t){return new wA(t,!0)}class _D{constructor(e,n,r=1e3,s=1.5,c=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&Xe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class QA{constructor(e,n,r,s,c,d,_,b){this.ii=e,this.$o=r,this.Oo=s,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=b,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new _D(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ve.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ve.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return(0,Ve.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?(fi(n.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===Se.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new Ze(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,Ve.Z)(function*(){e.state=0,e.start()}))}tu(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BP extends QA{constructor(e,n,r,s,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,d),this.serializer=c}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function OP(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:bt(),s=e.targetChange.targetIds||[],c=function(b,A){return b.useProto3Json?(Ut(void 0===A||"string"==typeof A),pi.fromBase64String(A||"")):(Ut(void 0===A||A instanceof Uint8Array),pi.fromUint8Array(A||new Uint8Array))}(t,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&function(b){const A=void 0===b.code?Se.UNKNOWN:P_(b.code);return new Ze(A,b.message||"")}(d);n=new Sb(r,s,c,_||null)}else if("documentChange"in e){const r=e.documentChange,s=Bc(t,r.document.name),c=ni(r.document.updateTime),d=r.document.createTime?ni(r.document.createTime):jt.min(),_=new mo({mapValue:{fields:r.document.fields}}),b=jr.newFoundDocument(s,c,d,_);n=new pw(r.targetIds||[],r.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const r=e.documentDelete,s=Bc(t,r.document),c=r.readTime?ni(r.readTime):jt.min(),d=jr.newNoDocument(s,c);n=new pw([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,s=Bc(t,r.document);n=new pw([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return bt();{const r=e.filter,{count:s=0,unchangedNames:c}=r,d=new fw(s,c);n=new Tb(r.targetId,d)}}var b;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return jt.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?jt.min():c.readTime?ni(c.readTime):jt.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=F_(this.serializer),n.addTarget=function(s,c){let d;const _=c.target;if(d=y_(_)?{documents:B_(s,_)}:{query:U_(s,_)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=mw(s,c.resumeToken);const b=R_(s,c.expectedCount);null!==b&&(d.expectedCount=b)}else if(c.snapshotVersion.compareTo(jt.min())>0){d.readTime=bf(s,c.snapshotVersion.toTimestamp());const b=R_(s,c.expectedCount);null!==b&&(d.expectedCount=b)}return d}(this.serializer,e);const r=function j_(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=F_(this.serializer),n.removeTarget=e,this.Wo(n)}}class UP extends QA{constructor(e,n,r,s,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,d),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Lb(t,e){return t&&t.length>0?(Ut(void 0!==e),t.map(n=>function(r,s){let c=ni(r.updateTime?r.updateTime:s);return c.isEqual(jt.min())&&(c=ni(s)),new mA(c,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.cu(r,n)}return Ut(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=F_(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>V_(this.serializer,r))};this.Wo(n)}}class XA extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Ze(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Io(e,n,r,s,c)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ze(Se.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.vo(e,n,r,c,d,s)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ze(Se.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class zP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(fi(n),this.mu=!1):Xe("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class $P{constructor(e,n,r,s,c){var d=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(_=>{r.enqueueAndForget((0,Ve.Z)(function*(){var b;C(d)&&(Xe("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,Ve.Z)(function*(A){const N=mt(A);N.vu.add(4),yield Pg(N),N.bu.set("Unknown"),N.vu.delete(4),yield ay(N)}),function(A){return b.apply(this,arguments)})(d))}))}),this.bu=new zP(r,s)}}function ay(t){return Hw.apply(this,arguments)}function Hw(){return Hw=(0,Ve.Z)(function*(t){if(C(t))for(const e of t.Ru)yield e(!0)}),Hw.apply(this,arguments)}function Pg(t){return i.apply(this,arguments)}function i(){return i=(0,Ve.Z)(function*(t){for(const e of t.Ru)yield e(!1)}),i.apply(this,arguments)}function o(t,e){const n=mt(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),w(n)?g(n):uy(n).Ko()&&l(n,e))}function a(t,e){const n=mt(t),r=uy(n);n.Au.delete(e),r.Ko()&&h(n,e),0===n.Au.size&&(r.Ko()?r.jo():C(n)&&n.bu.set("Unknown"))}function l(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uy(t).su(e)}function h(t,e){t.Vu.qt(e),uy(t).iu(e)}function g(t){t.Vu=new Mb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),uy(t).start(),t.bu.gu()}function w(t){return C(t)&&!uy(t).Uo()&&t.Au.size>0}function C(t){return 0===mt(t).vu.size}function S(t){t.Vu=void 0}function P(t){return F.apply(this,arguments)}function F(){return F=(0,Ve.Z)(function*(t){t.Au.forEach((e,n)=>{l(t,e)})}),F.apply(this,arguments)}function W(t,e){return ie.apply(this,arguments)}function ie(){return ie=(0,Ve.Z)(function*(t,e){S(t),w(t)?(t.bu.Iu(e),g(t)):t.bu.set("Unknown")}),ie.apply(this,arguments)}function de(t,e,n){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,Ve.Z)(function*(t,e,n){if(t.bu.set("Online"),e instanceof Sb&&2===e.state&&e.cause)try{yield(r=(0,Ve.Z)(function*(s,c){const d=c.cause;for(const _ of c.targetIds)s.Au.has(_)&&(yield s.remoteSyncer.rejectListen(_,d),s.Au.delete(_),s.Vu.removeTarget(_))}),function(s,c){return r.apply(this,arguments)})(t,e)}catch(r){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Qe(t,r)}else if(e instanceof pw?t.Vu.Ht(e):e instanceof Tb?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(jt.min()))try{const r=yield GA(t.localStore);n.compareTo(r)>=0&&(yield function(s,c){const d=s.Vu.ce(c);return d.targetChanges.forEach((_,b)=>{if(_.resumeToken.approximateByteSize()>0){const A=s.Au.get(b);A&&s.Au.set(b,A.withResumeToken(_.resumeToken,c))}}),d.targetMismatches.forEach((_,b)=>{const A=s.Au.get(_);if(!A)return;s.Au.set(_,A.withResumeToken(pi.EMPTY_BYTE_STRING,A.snapshotVersion)),h(s,_);const N=new jc(A.target,_,b,A.sequenceNumber);l(s,N)}),s.remoteSyncer.applyRemoteEvent(d)}(t,n))}catch(r){Xe("RemoteStore","Failed to raise snapshot:",r),yield Qe(t,r)}var r}),Ne.apply(this,arguments)}function Qe(t,e,n){return pt.apply(this,arguments)}function pt(){return pt=(0,Ve.Z)(function*(t,e,n){if(!$d(e))throw e;t.vu.add(1),yield Pg(t),t.bu.set("Offline"),n||(n=()=>GA(t.localStore)),t.asyncQueue.enqueueRetryable((0,Ve.Z)(function*(){Xe("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield ay(t)}))}),pt.apply(this,arguments)}function Bt(t,e){return e().catch(n=>Qe(t,n,e))}function We(t){return Xt.apply(this,arguments)}function Xt(){return Xt=(0,Ve.Z)(function*(t){const e=mt(t),n=kf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Dn(e);)try{const s=yield WA(e.localStore,r);if(null===s){0===e.Eu.length&&n.jo();break}r=s.batchId,dr(e,s)}catch(s){yield Qe(e,s)}rs(e)&&ju(e)}),Xt.apply(this,arguments)}function Dn(t){return C(t)&&t.Eu.length<10}function dr(t,e){t.Eu.push(e);const n=kf(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function rs(t){return C(t)&&!kf(t).Uo()&&t.Eu.length>0}function ju(t){kf(t).start()}function Rf(t){return Og.apply(this,arguments)}function Og(){return Og=(0,Ve.Z)(function*(t){kf(t).hu()}),Og.apply(this,arguments)}function JA(t){return Zw.apply(this,arguments)}function Zw(){return Zw=(0,Ve.Z)(function*(t){const e=kf(t);for(const n of t.Eu)e.uu(n.mutations)}),Zw.apply(this,arguments)}function G1(t,e,n){return eM.apply(this,arguments)}function eM(){return eM=(0,Ve.Z)(function*(t,e,n){const r=t.Eu.shift(),s=dw.from(r,e,n);yield Bt(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),yield We(t)}),eM.apply(this,arguments)}function W1(t,e){return tM.apply(this,arguments)}function tM(){return tM=(0,Ve.Z)(function*(t,e){var n;e&&kf(t).ou&&(yield(n=(0,Ve.Z)(function*(r,s){if(gg(c=s.code)&&c!==Se.ABORTED){const d=r.Eu.shift();kf(r).Qo(),yield Bt(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,s)),yield We(r)}var c}),function(r,s){return n.apply(this,arguments)})(t,e)),rs(t)&&ju(t)}),tM.apply(this,arguments)}function HP(t,e){return nM.apply(this,arguments)}function nM(){return nM=(0,Ve.Z)(function*(t,e){const n=mt(t);n.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const r=C(n);n.vu.add(3),yield Pg(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield ay(n)}),nM.apply(this,arguments)}function rM(t,e){return iM.apply(this,arguments)}function iM(){return iM=(0,Ve.Z)(function*(t,e){const n=mt(t);e?(n.vu.delete(2),yield ay(n)):e||(n.vu.add(2),yield Pg(n),n.bu.set("Unknown"))}),iM.apply(this,arguments)}function uy(t){return t.Su||(t.Su=function(e,n,r){const s=mt(e);return s.fu(),new BP(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:P.bind(null,t),ao:W.bind(null,t),nu:de.bind(null,t)}),t.Ru.push(function(){var e=(0,Ve.Z)(function*(n){n?(t.Su.Qo(),w(t)?g(t):t.bu.set("Unknown")):(yield t.Su.stop(),S(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function kf(t){return t.Du||(t.Du=function(e,n,r){const s=mt(e);return s.fu(),new UP(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:Rf.bind(null,t),ao:W1.bind(null,t),au:JA.bind(null,t),cu:G1.bind(null,t)}),t.Ru.push(function(){var e=(0,Ve.Z)(function*(n){n?(t.Du.Qo(),yield We(t)):(yield t.Du.stop(),t.Eu.length>0&&(Xe("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class oM{constructor(e,n,r,s,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=c,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,n,r,s,c){const d=Date.now()+r,_=new oM(e,n,d,s,c);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ze(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(t,e){if(fi("AsyncQueue",`${e}: ${t}`),$d(t))return new Ze(Se.UNAVAILABLE,`${e}: ${t}`);throw t}class ly{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ft.comparator(n.key,r.key):(n,r)=>ft.comparator(n.key,r.key),this.keyedMap=Yd(),this.sortedSet=new vr(this.comparator)}static emptySet(e){return new ly(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ly)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,c=r.getNext().key;if(!s.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new ly;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class ZP{constructor(){this.Cu=new vr(ft.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):bt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class dy{constructor(e,n,r,s,c,d,_,b,A){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=b,this.hasCachedResults=A}static fromInitialDocuments(e,n,r,s,c){const d=[];return n.forEach(_=>{d.push({type:0,doc:_})}),new dy(e,n,ly.emptySet(n),d,r,s,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class q1{constructor(){this.Nu=void 0,this.listeners=[]}}class K1{constructor(){this.queries=new Fc(e=>pb(e),dg),this.onlineState="Unknown",this.ku=new Set}}function sM(t,e){return aM.apply(this,arguments)}function aM(){return aM=(0,Ve.Z)(function*(t,e){const n=mt(t),r=e.query;let s=!1,c=n.queries.get(r);if(c||(s=!0,c=new q1),s)try{c.Nu=yield n.onListen(r)}catch(d){const _=cy(d,`Initialization of query '${C_(e.query)}' failed`);return void e.onError(_)}n.queries.set(r,c),c.listeners.push(e),e.Mu(n.onlineState),c.Nu&&e.$u(c.Nu)&&lM(n)}),aM.apply(this,arguments)}function uM(t,e){return cM.apply(this,arguments)}function cM(){return cM=(0,Ve.Z)(function*(t,e){const n=mt(t),r=e.query;let s=!1;const c=n.queries.get(r);if(c){const d=c.listeners.indexOf(e);d>=0&&(c.listeners.splice(d,1),s=0===c.listeners.length)}if(s)return n.queries.delete(r),n.onUnlisten(r)}),cM.apply(this,arguments)}function Y1(t,e){const n=mt(t);let r=!1;for(const s of e){const d=n.queries.get(s.query);if(d){for(const _ of d.listeners)_.$u(s)&&(r=!0);d.Nu=s}}r&&lM(n)}function Q1(t,e,n){const r=mt(t),s=r.queries.get(e);if(s)for(const c of s.listeners)c.onError(n);r.queries.delete(e)}function lM(t){t.ku.forEach(e=>{e.next()})}class dM{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new dy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=dy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class X1{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class GP{constructor(e){this.serializer=e}rr(e){return Bc(this.serializer,e)}ur(e){return e.metadata.exists?bA(this.serializer,e.document,!1):jr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return ni(e)}}class J1{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=WP(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=Bn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new GP(this.serializer);for(const s of e)if(s.metadata.queries){const c=r.rr(s.metadata.name);for(const d of s.metadata.queries){const _=(n.get(d)||fn()).add(c);n.set(d,_)}}return n}complete(){var e=this;return(0,Ve.Z)(function*(){const n=yield function fD(t,e,n,r){return ry.apply(this,arguments)}(e.localStore,new GP(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const s of e.queries)yield qA(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function WP(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class qP{constructor(e){this.key=e}}class KP{constructor(e){this.key=e}}class YP{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=fn(),this.mutatedKeys=fn(),this.tc=tw(e),this.ec=new ly(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new ZP,s=n?n.ec:this.ec;let c=n?n.mutatedKeys:this.mutatedKeys,d=s,_=!1;const b="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,A="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((N,j)=>{const ne=s.get(N),ae=hg(this.query,j)?j:null,Le=!!ne&&this.mutatedKeys.has(ne.key),et=!!ae&&(ae.hasLocalMutations||this.mutatedKeys.has(ae.key)&&ae.hasCommittedMutations);let st=!1;ne&&ae?ne.data.isEqual(ae.data)?Le!==et&&(r.track({type:3,doc:ae}),st=!0):this.rc(ne,ae)||(r.track({type:2,doc:ae}),st=!0,(b&&this.tc(ae,b)>0||A&&this.tc(ae,A)<0)&&(_=!0)):!ne&&ae?(r.track({type:0,doc:ae}),st=!0):ne&&!ae&&(r.track({type:1,doc:ne}),st=!0,(b||A)&&(_=!0)),st&&(ae?(d=d.add(ae),c=et?c.add(N):c.delete(N)):(d=d.delete(N),c=c.delete(N)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const N="F"===this.query.limitType?d.last():d.first();d=d.delete(N.key),c=c.delete(N.key),r.track({type:1,doc:N})}return{ec:d,ic:r,zi:_,mutatedKeys:c}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((A,N)=>function(j,ne){const ae=Le=>{switch(Le){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return ae(j)-ae(ne)}(A.type,N.type)||this.tc(A.doc,N.doc)),this.oc(r);const d=n?this.uc():[],_=0===this.Zu.size&&this.current?1:0,b=_!==this.Xu;return this.Xu=_,0!==c.length||b?{snapshot:new dy(this.query,e.ec,s,c,e.mutatedKeys,0===_,b,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:d}:{cc:d}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ZP,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=fn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new KP(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new qP(r))}),n}hc(e){this.Yu=e.ir,this.Zu=fn();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return dy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class eN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tN{constructor(e){this.key=e,this.fc=!1}}class nN{constructor(e,n,r,s,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.dc={},this.wc=new Fc(_=>pb(_),dg),this._c=new Map,this.mc=new Set,this.gc=new vr(ft.comparator),this.yc=new Map,this.Ic=new Y_,this.Tc={},this.Ec=new Map,this.Ac=Uu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function rN(t,e){return hM.apply(this,arguments)}function hM(){return hM=(0,Ve.Z)(function*(t,e){const n=kM(t);let r,s;const c=n.wc.get(e);if(c)r=c.targetId,n.sharedClientState.addLocalQueryTarget(r),s=c.view.lc();else{const d=yield xf(n.localStore,Jo(e)),_=n.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,s=yield fM(n,e,r,"current"===_,d.resumeToken),n.isPrimaryClient&&o(n.remoteStore,d)}return s}),hM.apply(this,arguments)}function fM(t,e,n,r,s){return pM.apply(this,arguments)}function pM(){return pM=(0,Ve.Z)(function*(t,e,n,r,s){t.Rc=(j,ne,ae)=>{return(Le=(0,Ve.Z)(function*(et,st,Lt,Qt){let $t=st.view.sc(Lt);$t.zi&&($t=yield ny(et.localStore,st.query,!1).then(({documents:Zn})=>st.view.sc(Zn,$t)));const en=Qt&&Qt.targetChanges.get(st.targetId),Cn=st.view.applyChanges($t,et.isPrimaryClient,en);return bM(et,st.targetId,Cn.cc),Cn.snapshot}),function(et,st,Lt,Qt){return Le.apply(this,arguments)})(t,j,ne,ae);var Le};const c=yield ny(t.localStore,e,!0),d=new YP(e,c.ir),_=d.sc(c.documents),b=_g.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,s),A=d.applyChanges(_,t.isPrimaryClient,b);bM(t,n,A.cc);const N=new eN(e,n,d);return t.wc.set(e,N),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),A.snapshot}),pM.apply(this,arguments)}function iN(t,e){return gM.apply(this,arguments)}function gM(){return gM=(0,Ve.Z)(function*(t,e){const n=mt(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(c=>!dg(c,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Mg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),a(n.remoteStore,r.targetId),hy(n,r.targetId)}).catch(xc))):(hy(n,r.targetId),yield Mg(n.localStore,r.targetId,!0))}),gM.apply(this,arguments)}function mM(){return mM=(0,Ve.Z)(function*(t,e,n){const r=LM(t);try{const s=yield function(c,d){const _=mt(c),b=Or.now(),A=d.reduce((ne,ae)=>ne.add(ae.key),fn());let N,j;return _.persistence.runTransaction("Locally write mutations","readwrite",ne=>{let ae=es(),Le=fn();return _.Zi.getEntries(ne,A).next(et=>{ae=et,ae.forEach((st,Lt)=>{Lt.isValidDocument()||(Le=Le.add(st))})}).next(()=>_.localDocuments.getOverlayedDocuments(ne,ae)).next(et=>{N=et;const st=[];for(const Lt of d){const Qt=wb(Lt,N.get(Lt.key).overlayedDocument);null!=Qt&&st.push(new zl(Lt.key,Qt,ib(Qt.value.mapValue),Nn.exists(!0)))}return _.mutationQueue.addMutationBatch(ne,b,st,d)}).next(et=>{j=et;const st=et.applyToLocalDocumentSet(N,Le);return _.documentOverlayCache.saveOverlays(ne,et.batchId,st)})}).then(()=>({batchId:j.batchId,changes:rw(N)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(c,d,_){let b=c.Tc[c.currentUser.toKey()];b||(b=new vr(rn)),b=b.insert(d,_),c.Tc[c.currentUser.toKey()]=b}(r,s.batchId,n),yield sh(r,s.changes),yield We(r.remoteStore)}catch(s){const c=cy(s,"Failed to persist write");n.reject(c)}}),mM.apply(this,arguments)}function QP(t,e){return _M.apply(this,arguments)}function _M(){return _M=(0,Ve.Z)(function*(t,e){const n=mt(t);try{const r=yield function uD(t,e){const n=mt(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const _=[];e.targetChanges.forEach((N,j)=>{const ne=s.get(j);if(!ne)return;_.push(n.Bs.removeMatchingKeys(c,N.removedDocuments,j).next(()=>n.Bs.addMatchingKeys(c,N.addedDocuments,j)));let ae=ne.withSequenceNumber(c.currentSequenceNumber);var Le,et,st;null!==e.targetMismatches.get(j)?ae=ae.withResumeToken(pi.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):N.resumeToken.approximateByteSize()>0&&(ae=ae.withResumeToken(N.resumeToken,r)),s=s.insert(j,ae),et=ae,st=N,(0===(Le=ne).resumeToken.approximateByteSize()||et.snapshotVersion.toMicroseconds()-Le.snapshotVersion.toMicroseconds()>=3e8||st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0)&&_.push(n.Bs.updateTargetData(c,ae))});let b=es(),A=fn();if(e.documentUpdates.forEach(N=>{e.resolvedLimboDocuments.has(N)&&_.push(n.persistence.referenceDelegate.updateLimboDocument(c,N))}),_.push(ty(c,d,e.documentUpdates).next(N=>{b=N.nr,A=N.sr})),!r.isEqual(jt.min())){const N=n.Bs.getLastRemoteSnapshotVersion(c).next(j=>n.Bs.setTargetsMetadata(c,c.currentSequenceNumber,r));_.push(N)}return Ie.waitFor(_).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,b,A)).next(()=>b)}).then(c=>(n.Ji=s,c))}(n.localStore,e);e.targetChanges.forEach((s,c)=>{const d=n.yc.get(c);d&&(Ut(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.fc=!0:s.modifiedDocuments.size>0?Ut(d.fc):s.removedDocuments.size>0&&(Ut(d.fc),d.fc=!1))}),yield sh(n,r,e)}catch(r){yield xc(r)}}),_M.apply(this,arguments)}function XP(t,e,n){const r=mt(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const s=[];r.wc.forEach((c,d)=>{const _=d.view.Mu(e);_.snapshot&&s.push(_.snapshot)}),function(c,d){const _=mt(c);_.onlineState=d;let b=!1;_.queries.forEach((A,N)=>{for(const j of N.listeners)j.Mu(d)&&(b=!0)}),b&&lM(_)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sN(t,e,n){return yM.apply(this,arguments)}function yM(){return yM=(0,Ve.Z)(function*(t,e,n){const r=mt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),c=s&&s.key;if(c){let d=new vr(ft.comparator);d=d.insert(c,jr.newNoDocument(c,jt.min()));const _=fn().add(c),b=new N_(jt.min(),new Map,new vr(rn),d,_);yield QP(r,b),r.gc=r.gc.remove(c),r.yc.delete(e),DM(r)}else yield Mg(r.localStore,e,!1).then(()=>hy(r,e,n)).catch(xc)}),yM.apply(this,arguments)}function aN(t,e){return vM.apply(this,arguments)}function vM(){return vM=(0,Ve.Z)(function*(t,e){const n=mt(t),r=e.batch.batchId;try{const s=yield function Lw(t,e){const n=mt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),c=n.Zi.newChangeBuffer({trackRemovals:!0});return function(d,_,b,A){const N=b.batch,j=N.keys();let ne=Ie.resolve();return j.forEach(ae=>{ne=ne.next(()=>A.getEntry(_,ae)).next(Le=>{const et=b.docVersions.get(ae);Ut(null!==et),Le.version.compareTo(et)<0&&(N.applyToRemoteDocument(Le,b),Le.isValidDocument()&&(Le.setReadTime(b.commitVersion),A.addEntry(Le)))})}),ne.next(()=>d.mutationQueue.removeMutationBatch(_,N))}(n,r,e,c).next(()=>c.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let _=fn();for(let b=0;b<d.mutationResults.length;++b)d.mutationResults[b].transformResults.length>0&&(_=_.add(d.batch.mutations[b].key));return _}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}(n.localStore,e);IM(n,r,null),EM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield sh(n,s)}catch(s){yield xc(s)}}),vM.apply(this,arguments)}function uN(t,e,n){return wM.apply(this,arguments)}function wM(){return wM=(0,Ve.Z)(function*(t,e,n){const r=mt(t);try{const s=yield function(c,d){const _=mt(c);return _.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let A;return _.mutationQueue.lookupMutationBatch(b,d).next(N=>(Ut(null!==N),A=N.keys(),_.mutationQueue.removeMutationBatch(b,N))).next(()=>_.mutationQueue.performConsistencyCheck(b)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(b,A,d)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,A)).next(()=>_.localDocuments.getDocuments(b,A))})}(r.localStore,e);IM(r,e,n),EM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield sh(r,s)}catch(s){yield xc(s)}}),wM.apply(this,arguments)}function CM(){return CM=(0,Ve.Z)(function*(t,e){const n=mt(t);C(n.remoteStore)||Xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const d=mt(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>d.mutationQueue.getHighestUnacknowledgedBatchId(_))}(n.localStore);if(-1===r)return void e.resolve();const s=n.Ec.get(r)||[];s.push(e),n.Ec.set(r,s)}catch(r){const s=cy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),CM.apply(this,arguments)}function EM(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function IM(t,e,n){const r=mt(t);let s=r.Tc[r.currentUser.toKey()];if(s){const c=s.get(e);c&&(n?c.reject(n):c.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function hy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||JP(t,r)})}function JP(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(a(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),DM(t))}function bM(t,e,n){for(const r of n)r instanceof qP?(t.Ic.addReference(r.key,e),lN(t,r)):r instanceof KP?(Xe("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||JP(t,r.key)):bt()}function lN(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Xe("SyncEngine","New document in limbo: "+n),t.mc.add(r),DM(t))}function DM(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ft(Bn.fromString(e)),r=t.Ac.next();t.yc.set(r,new tN(n)),t.gc=t.gc.insert(n,r),o(t.remoteStore,new jc(Jo(Fu(n.path)),r,"TargetPurposeLimboResolution",po.ct))}}function sh(t,e,n){return TM.apply(this,arguments)}function TM(){return TM=(0,Ve.Z)(function*(t,e,n){const r=mt(t),s=[],c=[],d=[];var _;r.wc.isEmpty()||(r.wc.forEach((_,b)=>{d.push(r.Rc(b,e,n).then(A=>{if((A||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,A?.fromCache?"not-current":"current"),A){s.push(A);const N=J_.Li(b.targetId,A);c.push(N)}}))}),yield Promise.all(d),r.dc.nu(s),yield(_=(0,Ve.Z)(function*(b,A){const N=mt(b);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",j=>Ie.forEach(A,ne=>Ie.forEach(ne.Fi,ae=>N.persistence.referenceDelegate.addReference(j,ne.targetId,ae)).next(()=>Ie.forEach(ne.Bi,ae=>N.persistence.referenceDelegate.removeReference(j,ne.targetId,ae)))))}catch(j){if(!$d(j))throw j;Xe("LocalStore","Failed to update sequence numbers: "+j)}for(const j of A){const ne=j.targetId;if(!j.fromCache){const ae=N.Ji.get(ne),et=ae.withLastLimboFreeSnapshotVersion(ae.snapshotVersion);N.Ji=N.Ji.insert(ne,et)}}}),function(b,A){return _.apply(this,arguments)})(r.localStore,c))}),TM.apply(this,arguments)}function dN(t,e){return SM.apply(this,arguments)}function SM(){return SM=(0,Ve.Z)(function*(t,e){const n=mt(t);if(!n.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const r=yield aD(n.localStore,e);n.currentUser=e,(s=n).Ec.forEach(d=>{d.forEach(_=>{_.reject(new Ze(Se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield sh(n,r.er)}var s}),SM.apply(this,arguments)}function hN(t,e){const n=mt(t),r=n.yc.get(e);if(r&&r.fc)return fn().add(r.key);{let s=fn();const c=n._c.get(e);if(!c)return s;for(const d of c){const _=n.wc.get(d);s=s.unionWith(_.view.nc)}return s}}function fN(t,e){return AM.apply(this,arguments)}function AM(){return AM=(0,Ve.Z)(function*(t,e){const n=mt(t),r=yield ny(n.localStore,e.query,!0),s=e.view.hc(r);return n.isPrimaryClient&&bM(n,e.targetId,s.cc),s}),AM.apply(this,arguments)}function pN(t,e){return MM.apply(this,arguments)}function MM(){return MM=(0,Ve.Z)(function*(t,e){const n=mt(t);return dD(n.localStore,e).then(r=>sh(n,r))}),MM.apply(this,arguments)}function gN(t,e,n,r){return xM.apply(this,arguments)}function xM(){return xM=(0,Ve.Z)(function*(t,e,n,r){const s=mt(t),c=yield function(d,_){const b=mt(d),A=mt(b.mutationQueue);return b.persistence.runTransaction("Lookup mutation documents","readonly",N=>A.Sn(N,_).next(j=>j?b.localDocuments.getDocuments(N,j):Ie.resolve(null)))}(s.localStore,e);var _;null!==c?("pending"===n?yield We(s.remoteStore):"acknowledged"===n||"rejected"===n?(IM(s,e,r||null),EM(s,e),_=e,mt(mt(s.localStore).mutationQueue).Cn(_)):bt(),yield sh(s,c)):Xe("SyncEngine","Cannot apply mutation batch with id: "+e)}),xM.apply(this,arguments)}function PM(){return PM=(0,Ve.Z)(function*(t,e){const n=mt(t);if(kM(n),LM(n),!0===e&&!0!==n.vc){const r=n.sharedClientState.getAllActiveQueryTargets(),s=yield eO(n,r.toArray());n.vc=!0,yield rM(n.remoteStore,!0);for(const c of s)o(n.remoteStore,c)}else if(!1===e&&!1!==n.vc){const r=[];let s=Promise.resolve();n._c.forEach((c,d)=>{n.sharedClientState.isLocalQueryTarget(d)?r.push(d):s=s.then(()=>(hy(n,d),Mg(n.localStore,d,!0))),a(n.remoteStore,d)}),yield s,yield eO(n,r),function(c){const d=mt(c);d.yc.forEach((_,b)=>{a(d.remoteStore,b)}),d.Ic.Ts(),d.yc=new Map,d.gc=new vr(ft.comparator)}(n),n.vc=!1,yield rM(n.remoteStore,!1)}}),PM.apply(this,arguments)}function eO(t,e,n){return OM.apply(this,arguments)}function OM(){return OM=(0,Ve.Z)(function*(t,e,n){const r=mt(t),s=[],c=[];for(const d of e){let _;const b=r._c.get(d);if(b&&0!==b.length){_=yield xf(r.localStore,Jo(b[0]));for(const A of b){const N=r.wc.get(A),j=yield fN(r,N);j.snapshot&&c.push(j.snapshot)}}else{const A=yield lD(r.localStore,d);_=yield xf(r.localStore,A),yield fM(r,tO(A),d,!1,_.resumeToken)}s.push(_)}return r.dc.nu(c),s}),OM.apply(this,arguments)}function tO(t){return lA(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function _N(t){const e=mt(t);return mt(mt(e.localStore).persistence).$i()}function yN(t,e,n,r){return NM.apply(this,arguments)}function NM(){return NM=(0,Ve.Z)(function*(t,e,n,r){const s=mt(t);if(s.vc)return void Xe("SyncEngine","Ignoring unexpected query state notification.");const c=s._c.get(e);if(c&&c.length>0)switch(n){case"current":case"not-current":{const d=yield dD(s.localStore,gb(c[0])),_=N_.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,pi.EMPTY_BYTE_STRING);yield sh(s,d,_);break}case"rejected":yield Mg(s.localStore,e,!0),hy(s,e,r);break;default:bt()}}),NM.apply(this,arguments)}function vN(t,e,n){return RM.apply(this,arguments)}function RM(){return RM=(0,Ve.Z)(function*(t,e,n){const r=kM(t);if(r.vc){for(const s of e){if(r._c.has(s)){Xe("SyncEngine","Adding an already active target "+s);continue}const c=yield lD(r.localStore,s),d=yield xf(r.localStore,c);yield fM(r,tO(c),d.targetId,!1,d.resumeToken),o(r.remoteStore,d)}for(const s of n)r._c.has(s)&&(yield Mg(r.localStore,s,!1).then(()=>{a(r.remoteStore,s),hy(r,s)}).catch(xc))}}),RM.apply(this,arguments)}function kM(t){const e=mt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sN.bind(null,e),e.dc.nu=Y1.bind(null,e.eventManager),e.dc.Pc=Q1.bind(null,e.eventManager),e}function LM(t){const e=mt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uN.bind(null,e),e}class Gw{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Ve.Z)(function*(){n.serializer=sy(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return sD(this.persistence,new kw,e.initialUser,this.serializer)}createPersistence(e){return new Sg(oh.zs,this.serializer)}createSharedClientState(e){return new pD}terminate(){var e=this;return(0,Ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class FM extends Gw{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,Ve.Z)(function*(){yield n().call(r,e),yield r.Vc.initialize(r,e),yield LM(r.Vc.syncEngine),yield We(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return sD(this.persistence,new kw,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new nD(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new BI(n,this.persistence);return new HS(e.asyncQueue,r)}createPersistence(e){const n=Rw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ts.withCacheSize(this.cacheSizeBytes):ts.DEFAULT;return new Nw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,mD(),oy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new pD}}class nO extends FM{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,Ve.Z)(function*(){yield n().call(r,e);const s=r.Vc.syncEngine;r.sharedClientState instanceof Uw&&(r.sharedClientState.syncEngine={jr:gN.bind(null,s),zr:yN.bind(null,s),Wr:vN.bind(null,s),$i:_N.bind(null,s),Qr:pN.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var c=(0,Ve.Z)(function*(d){yield function mN(t,e){return PM.apply(this,arguments)}(r.Vc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const n=mD();if(!Uw.D(n))throw new Ze(Se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Rw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Uw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class fy{initialize(e,n){var r=this;return(0,Ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>XP(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=dN.bind(null,r.syncEngine),yield rM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new K1}createDatastore(e){const n=sy(e.databaseInfo.databaseId),r=new VP(e.databaseInfo);return new XA(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,c=_=>XP(this.syncEngine,_,0),d=jw.D()?new jw:new gD,new $P(n,r,s,c,d);var n,r,s,c,d}createSyncEngine(e,n){return function(r,s,c,d,_,b,A){const N=new nN(r,s,c,d,_,b);return A&&(N.vc=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Ve.Z)(function*(n){const r=mt(n);Xe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Pg(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function rO(t,e=10240){let n=0;return{read:()=>(0,Ve.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,Ve.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class vD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class EN{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new Ni,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ve.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ve.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ve.Z)(function*(){const n=yield e.kc();if(null===n)return null;const r=e.xc.decode(n),s=Number(r);isNaN(s)&&e.Mc(`length string (${r}) is not valid number`);const c=yield e.$c(s);return new X1(JSON.parse(c),n.length+s)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ve.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}$c(e){var n=this;return(0,Ve.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const r=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ve.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class IN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,Ve.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Ze(Se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,Ve.Z)(function*(c,d){const _=mt(c),b=F_(_.serializer)+"/documents",A={documents:d.map(ae=>yg(_.serializer,ae))},N=yield _.vo("BatchGetDocuments",b,A,d.length),j=new Map;N.forEach(ae=>{const Le=function PP(t,e){return"found"in e?function(n,r){Ut(!!r.found);const s=Bc(n,r.found.name),c=ni(r.found.updateTime),d=r.found.createTime?ni(r.found.createTime):jt.min(),_=new mo({mapValue:{fields:r.found.fields}});return jr.newFoundDocument(s,c,d,_)}(t,e):"missing"in e?function(n,r){Ut(!!r.missing),Ut(!!r.readTime);const s=Bc(n,r.missing),c=ni(r.readTime);return jr.newNoDocument(s,c)}(t,e):bt()}(_.serializer,ae);j.set(Le.key.toString(),Le)});const ne=[];return d.forEach(ae=>{const Le=j.get(ae.toString());Ut(!!Le),ne.push(Le)}),ne}),function(c,d){return s.apply(this,arguments)})(n.datastore,e);var s;return r.forEach(s=>n.recordVersion(s)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $l(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,s)=>{const c=ft.fromPath(s);e.mutations.push(new lw(c,e.precondition(c)))}),yield(r=(0,Ve.Z)(function*(s,c){const d=mt(s),_=F_(d.serializer)+"/documents",b={writes:c.map(A=>V_(d.serializer,A))};yield d.Io("Commit",_,b)}),function(s,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw bt();n=jt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ze(Se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(jt.min())?Nn.exists(!1):Nn.updateTime(n):Nn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(jt.min()))throw new Ze(Se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nn.updateTime(n)}return Nn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class bN{constructor(e,n,r,s,c){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=c,this.Bc=r.maxAttempts,this.qo=new _D(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ve.Z)(function*(){const n=new IN(e.datastore),r=e.qc(n);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(s)}).catch(c=>{e.Uc(c)}))}).catch(s=>{e.Uc(s)})}))}qc(e){try{const n=this.updateFunction(e);return!og(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!gg(n)}return!1}}class DN{constructor(e,n,r,s){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Oi.UNAUTHENTICATED,this.clientId=LI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Ve.Z)(function*(_){Xe("FirestoreClient","Received user=",_.uid),yield c.authCredentialListener(_),c.user=_});return function(_){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Xe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ze(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ve.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const s=cy(r,"Failed to shutdown persistence");n.reject(s)}})),n.promise}}function wD(t,e){return VM.apply(this,arguments)}function VM(){return VM=(0,Ve.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var s=(0,Ve.Z)(function*(c){r.isEqual(c)||(yield aD(e.localStore,c),r=c)});return function(c){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),VM.apply(this,arguments)}function BM(t,e){return UM.apply(this,arguments)}function UM(){return UM=(0,Ve.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield jM(t);Xe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(s=>HP(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,c)=>HP(e.remoteStore,c)),t._onlineComponents=e}),UM.apply(this,arguments)}function iO(t){return"FirebaseError"===t.name?t.code===Se.FAILED_PRECONDITION||t.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function jM(t){return zM.apply(this,arguments)}function zM(){return zM=(0,Ve.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Xe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wD(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!iO(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),yield wD(t,new Gw)}}else Xe("FirestoreClient","Using default OfflineComponentProvider"),yield wD(t,new Gw);return t._offlineComponents}),zM.apply(this,arguments)}function CD(t){return $M.apply(this,arguments)}function $M(){return $M=(0,Ve.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Xe("FirestoreClient","Using user provided OnlineComponentProvider"),yield BM(t,t._uninitializedComponentsProvider._online)):(Xe("FirestoreClient","Using default OnlineComponentProvider"),yield BM(t,new fy))),t._onlineComponents}),$M.apply(this,arguments)}function oO(t){return jM(t).then(e=>e.persistence)}function ED(t){return jM(t).then(e=>e.localStore)}function sO(t){return CD(t).then(e=>e.remoteStore)}function HM(t){return CD(t).then(e=>e.syncEngine)}function py(t){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,Ve.Z)(function*(t){const e=yield CD(t),n=e.eventManager;return n.onListen=rN.bind(null,e.syncEngine),n.onUnlisten=iN.bind(null,e.syncEngine),n}),ZM.apply(this,arguments)}function uO(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function(s,c,d,_,b){const A=new vD({next:j=>{c.enqueueAndForget(()=>uM(s,N));const ne=j.docs.has(d);!ne&&j.fromCache?b.reject(new Ze(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):ne&&j.fromCache&&_&&"server"===_.source?b.reject(new Ze(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(j)},error:j=>b.reject(j)}),N=new dM(Fu(d.path),A,{includeMetadataChanges:!0,Ku:!0});return sM(s,N)}(yield py(t),t.asyncQueue,e,n,r)})),r.promise}function cO(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function(s,c,d,_,b){const A=new vD({next:j=>{c.enqueueAndForget(()=>uM(s,N)),j.fromCache&&"server"===_.source?b.reject(new Ze(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(j)},error:j=>b.reject(j)}),N=new dM(d,A,{includeMetadataChanges:!0,Ku:!0});return sM(s,N)}(yield py(t),t.asyncQueue,e,n,r)})),r.promise}function lO(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const dO=new Map;function GM(t,e,n){if(!n)throw new Ze(Se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hO(t,e,n,r){if(!0===e&&!0===r)throw new Ze(Se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fO(t){if(!ft.isDocumentKey(t))throw new Ze(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pO(t){if(ft.isDocumentKey(t))throw new Ze(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ID(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":bt()}function jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ze(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ID(t);throw new Ze(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function gO(t,e){if(e<=0)throw new Ze(Se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class mO{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ze(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ze(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=lO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ww{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ze(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ze(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mO(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new US;switch(n.type){case"firstParty":return new c_(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ze(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=dO.get(e);n&&(Xe("ComponentProvider","Removing Datastore"),dO.delete(e),n.terminate())}(this),Promise.resolve()}}function _O(t,e,n,r={}){var s;const c=(t=jn(t,Ww))._getSettings(),d=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==d&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),r.mockUserToken){let _,b;if("string"==typeof r.mockUserToken)_=r.mockUserToken,b=Oi.MOCK_USER;else{_=(0,wn.Sg)(r.mockUserToken,null===(s=t._app)||void 0===s?void 0:s.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new Ze(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Oi(A)}t._authCredentials=new lf(new RI(_,b))}}class Qr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qr(this.firestore,e,this._key)}}class is{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class Gl extends is{constructor(e,n,r){super(e,n,Fu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qr(this.firestore,null,new ft(e))}withConverter(e){return new Gl(this.firestore,e,this._path)}}function yO(t,e,...n){if(t=(0,wn.m9)(t),GM("collection","path",e),t instanceof Ww){const r=Bn.fromString(e,...n);return pO(r),new Gl(t,null,r)}{if(!(t instanceof Qr||t instanceof Gl))throw new Ze(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bn.fromString(e,...n));return pO(r),new Gl(t.firestore,null,r)}}function bD(t,e,...n){if(t=(0,wn.m9)(t),1===arguments.length&&(e=LI.A()),GM("doc","path",e),t instanceof Ww){const r=Bn.fromString(e,...n);return fO(r),new Qr(t,null,new ft(r))}{if(!(t instanceof Qr||t instanceof Gl))throw new Ze(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bn.fromString(e,...n));return fO(r),new Qr(t.firestore,t instanceof Gl?t.converter:null,new ft(r))}}function vO(t,e){return t=(0,wn.m9)(t),e=(0,wn.m9)(e),(t instanceof Qr||t instanceof Gl)&&(e instanceof Qr||e instanceof Gl)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function WM(t,e){return t=(0,wn.m9)(t),e=(0,wn.m9)(e),t instanceof is&&e instanceof is&&t.firestore===e.firestore&&dg(t._query,e._query)&&t.converter===e.converter}class kN{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new _D(this,"async_queue_retry"),this.Xc=()=>{const n=oy();n&&Xe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=oy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=oy();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ni;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ve.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!$d(n))throw n;Xe("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,fi("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=oM.createAndSchedule(this,e,n,r,c=>this.na(c));return this.zc.push(s),s}Zc(){this.Wc&&bt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ve.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function qM(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(t)}class LN{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ni,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xr extends Ww{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new kN,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wO(this),this._firestoreClient.terminate()}}function VN(t,e){const n="object"==typeof t?t:(0,Md.getApp)(),r="string"==typeof t?t:e||"(default)",s=(0,Md._getProvider)(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const c=(0,wn.P0)("firestore");c&&_O(s,...c)}return s}function Ri(t){return t._firestoreClient||wO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wO(t){var e,n,r;const s=t._freezeSettings(),c=(_=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new tb(t._databaseId,_,t._persistenceKey,(A=s).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,lO(A.experimentalLongPollingOptions),A.useFetchStreams));var _,A;t._firestoreClient=new DN(t._authCredentials,t._appCheckCredentials,t._queue,c),null!==(n=s.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function CO(t,e,n){const r=new Ni;return t.asyncQueue.enqueue((0,Ve.Z)(function*(){try{yield wD(t,n),yield BM(t,e),r.resolve()}catch(s){const c=s;if(!iO(c))throw c;fo("Error enabling indexeddb cache. Falling back to memory cache: "+c),r.reject(c)}})).then(()=>r.promise)}function EO(t){if(t._initialized||t._terminated)throw new Ze(Se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wl(pi.fromBase64String(e))}catch(n){throw new Ze(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wl(pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ah{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ze(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ng{constructor(e){this._methodName=e}}class DD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ze(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ze(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}const qN=/^__.*__$/;class KN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new zl(e,this.data,this.fieldMask,n,this.fieldTransforms):new pg(e,this.data,n,this.fieldTransforms)}}class IO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class TD{constructor(e,n,r,s,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new TD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return MD(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(bO(this.ca)&&qN.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class YN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sy(e)}ya(e,n,r,s=!1){return new TD({ca:e,methodName:n,ga:r,path:ti.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rg(t){const e=t._freezeSettings(),n=sy(t._databaseId);return new YN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SD(t,e,n,r,s,c={}){const d=t.ya(c.merge||c.mergeFields?2:0,e,n,s);XM("Data must be an object, but it was:",d,r);const _=SO(r,d);let b,A;if(c.merge)b=new Ss(d.fieldMask),A=d.fieldTransforms;else if(c.mergeFields){const N=[];for(const j of c.mergeFields){const ne=Yw(e,j,n);if(!d.contains(ne))throw new Ze(Se.INVALID_ARGUMENT,`Field '${ne}' is specified in your field mask but missing from your input data.`);MO(N,ne)||N.push(ne)}b=new Ss(N),A=d.fieldTransforms.filter(j=>b.covers(j.field))}else b=null,A=d.fieldTransforms;return new KN(new mo(_),b,A)}class Kw extends Ng{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kw}}function DO(t,e,n){return new TD({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class KM extends Ng{_toFieldTransform(e){return new fg(e.path,new Bl)}isEqual(e){return e instanceof KM}}class QN extends Ng{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=DO(this,e,!0),r=this.pa.map(c=>kg(c,n)),s=new Ul(r);return new fg(e.path,s)}isEqual(e){return this===e}}class XN extends Ng{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=DO(this,e,!0),r=this.pa.map(c=>kg(c,n)),s=new jl(r);return new fg(e.path,s)}isEqual(e){return this===e}}class JN extends Ng{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Ef(e.serializer,mb(e.serializer,this.Ia));return new fg(e.path,n)}isEqual(e){return this===e}}function YM(t,e,n,r){const s=t.ya(1,e,n);XM("Data must be an object, but it was:",s,r);const c=[],d=mo.empty();kl(r,(b,A)=>{const N=AD(e,b,n);A=(0,wn.m9)(A);const j=s.da(N);if(A instanceof Kw)c.push(N);else{const ne=kg(A,j);null!=ne&&(c.push(N),d.set(N,ne))}});const _=new Ss(c);return new IO(d,_,s.fieldTransforms)}function QM(t,e,n,r,s,c){const d=t.ya(1,e,n),_=[Yw(e,r,n)],b=[s];if(c.length%2!=0)throw new Ze(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ne=0;ne<c.length;ne+=2)_.push(Yw(e,c[ne])),b.push(c[ne+1]);const A=[],N=mo.empty();for(let ne=_.length-1;ne>=0;--ne)if(!MO(A,_[ne])){const ae=_[ne];let Le=b[ne];Le=(0,wn.m9)(Le);const et=d.da(ae);if(Le instanceof Kw)A.push(ae);else{const st=kg(Le,et);null!=st&&(A.push(ae),N.set(ae,st))}}const j=new Ss(A);return new IO(N,j,d.fieldTransforms)}function TO(t,e,n,r=!1){return kg(n,t.ya(r?4:3,e))}function kg(t,e){if(AO(t=(0,wn.m9)(t)))return XM("Unsupported field value:",e,t),SO(t,e);if(t instanceof Ng)return function(n,r){if(!bO(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let c=0;for(const d of n){let _=kg(d,r.wa(c));null==_&&(_={nullValue:"NULL_VALUE"}),s.push(_),c++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if(null===(n=(0,wn.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return mb(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const s=Or.fromDate(n);return{timestampValue:bf(r.serializer,s)}}if(n instanceof Or){const s=new Or(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:bf(r.serializer,s)}}if(n instanceof DD)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Wl)return{bytesValue:mw(r.serializer,n._byteString)};if(n instanceof Qr){const s=r.databaseId,c=n.firestore._databaseId;if(!c.isEqual(s))throw r._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:k_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${ID(n)}`)}(t,e)}function SO(t,e){const n={};return JI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kl(t,(r,s)=>{const c=kg(s,e.ha(r));null!=c&&(n[r]=c)}),{mapValue:{fields:n}}}function AO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Or||t instanceof DD||t instanceof Wl||t instanceof Qr||t instanceof Ng)}function XM(t,e,n){if(!AO(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ID(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Yw(t,e,n){if((e=(0,wn.m9)(e))instanceof ah)return e._internalPath;if("string"==typeof e)return AD(t,e);throw MD("Field path arguments must be of type string or ",t,!1,void 0,n)}const eR=new RegExp("[~\\*/\\[\\]]");function AD(t,e,n){if(e.search(eR)>=0)throw MD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ah(...e.split("."))._internalPath}catch{throw MD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function MD(t,e,n,r,s){const c=r&&!r.isEmpty(),d=void 0!==s;let _=`Function ${e}() called with invalid data`;n&&(_+=" (via `toFirestore()`)"),_+=". ";let b="";return(c||d)&&(b+=" (found",c&&(b+=` in field ${r}`),d&&(b+=` in document ${s}`),b+=")"),new Ze(Se.INVALID_ARGUMENT,_+t+b)}function MO(t,e){return t.some(n=>n.isEqual(e))}class Qw{constructor(e,n,r,s,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new tR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xD("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class tR extends Qw{data(){return super.data()}}function xD(t,e){return"string"==typeof e?AD(t,e):e instanceof ah?e._internalPath:e._delegate._internalPath}function xO(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Ze(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JM{}class Xw extends JM{}function Lf(t,e,...n){let r=[];e instanceof JM&&r.push(e),r=r.concat(n),function(s){const c=s.filter(_=>_ instanceof gy).length,d=s.filter(_=>_ instanceof Jw).length;if(c>1||c>0&&d>0)throw new Ze(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Jw extends Xw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jw(e,n,r)}_apply(e){const n=this._parse(e);return RO(e._query,n),new is(e.firestore,e.converter,w_(e._query,n))}_parse(e){const n=Rg(e.firestore);return function(s,c,d,_,b,A,N){let j;if(b.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Ze(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){NO(N,A);const ne=[];for(const ae of N)ne.push(OO(_,s,ae));j={arrayValue:{values:ne}}}else j=OO(_,s,N)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||NO(N,A),j=TO(d,"where",N,"in"===A||"not-in"===A);return Ln.create(b,A,j)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class gy extends JM{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,s){let c=r;const d=s.getFlattenedFilters();for(const _ of d)RO(c,_),c=w_(c,_)}(e._query,n),new is(e.firestore,e.converter,w_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ex extends Xw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ex(e,n)}_apply(e){const n=function(r,s,c){if(null!==r.startAt)throw new Ze(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ze(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new _f(s,c);return function(_,b){if(null===ew(_)){const A=v_(_);null!==A&&kO(0,A,b.field)}}(r,d),d}(e._query,this._field,this._direction);return new is(e.firestore,e.converter,function(r,s){const c=r.explicitOrderBy.concat([s]);return new Lc(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}class PD extends Xw{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new PD(e,n,r)}_apply(e){return new is(e.firestore,e.converter,Kd(e._query,this._limit,this._limitType))}}class OD extends Xw{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new OD(e,n,r)}_apply(e){const n=PO(e,this.type,this._docOrFields,this._inclusive);return new is(e.firestore,e.converter,(s=n,new Lc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class ND extends Xw{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ND(e,n,r)}_apply(e){const n=PO(e,this.type,this._docOrFields,this._inclusive);return new is(e.firestore,e.converter,(s=n,new Lc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function PO(t,e,n,r){if(n[0]=(0,wn.m9)(n[0]),n[0]instanceof Qw)return function(s,c,d,_,b){if(!_)throw new Ze(Se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const A=[];for(const N of Vl(s))if(N.field.isKeyField())A.push(Rc(c,_.key));else{const j=_.data.field(N.field);if(p_(j))throw new Ze(Se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===j){const ne=N.field.canonicalString();throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ne}' (used as the orderBy) does not exist.`)}A.push(j)}return new Fl(A,b)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Rg(t.firestore);return function(c,d,_,b,A,N){const j=c.explicitOrderBy;if(A.length>j.length)throw new Ze(Se.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ne=[];for(let ae=0;ae<A.length;ae++){const Le=A[ae];if(j[ae].field.isKeyField()){if("string"!=typeof Le)throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof Le}`);if(!wf(c)&&-1!==Le.indexOf("/"))throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${b}() must be a plain document ID, but '${Le}' contains a slash.`);const et=c.path.child(Bn.fromString(Le));if(!ft.isDocumentKey(et))throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${b}() must result in a valid document path, but '${et}' is not because it contains an odd number of segments.`);const st=new ft(et);ne.push(Rc(d,st))}else{const et=TO(_,b,Le);ne.push(et)}}return new Fl(ne,N)}(t._query,t.firestore._databaseId,s,e,n,r)}}function OO(t,e,n){if("string"==typeof(n=(0,wn.m9)(n))){if(""===n)throw new Ze(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wf(e)&&-1!==n.indexOf("/"))throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Bn.fromString(n));if(!ft.isDocumentKey(r))throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Rc(t,new ft(r))}if(n instanceof Qr)return Rc(t,n._key);throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ID(n)}.`)}function NO(t,e){if(!Array.isArray(t)||0===t.length)throw new Ze(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RO(t,e){if(e.isInequality()){const r=v_(t),s=e.field;if(null!==r&&!r.isEqual(s))throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const c=ew(t);null!==c&&kO(0,s,c)}const n=function(r,s){for(const c of r)for(const d of c.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Ze(Se.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function kO(t,e,n){if(!n.isEqual(e))throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class tx{convertValue(e,n="none"){switch(Hd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw bt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return kl(e,(s,c)=>{r[s]=this.convertValue(c,n)}),r}convertGeoPoint(e){return new DD(Ur(e.latitude),Ur(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gf(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ug(e));default:return null}}convertTimestamp(e){const n=Pc(e);return new Or(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bn.fromString(e);Ut(SA(r));const s=new As(r.get(1),r.get(3)),c=new ft(r.popFirst(5));return s.isEqual(n)||fi(`Document ${c} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function RD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class lR extends tx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qr(this.firestore,null,n)}}class Lg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uh extends Qw{constructor(e,n,r,s,c,d){super(e,n,r,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class eC extends uh{data(e={}){return super.data(e)}}class Ff{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Lg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new eC(this._firestore,this._userDataWriter,r.key,r,new Lg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ze(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new eC(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Lg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const _=new eC(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Lg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,A=-1;return 0!==d.type&&(b=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),1!==d.type&&(c=c.add(d.doc),A=c.indexOf(d.doc.key)),{type:hR(d.type),doc:_,oldIndex:b,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}function FO(t,e){return t instanceof uh&&e instanceof uh?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ff&&e instanceof Ff&&t._firestore===e._firestore&&WM(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Vf extends tx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qr(this.firestore,null,n)}}function VO(t,e,n){t=jn(t,Qr);const r=jn(t.firestore,Xr),s=RD(t.converter,e,n);return my(r,[SD(Rg(r),"setDoc",t._key,s,null!==t.converter,n).toMutation(t._key,Nn.none())])}function BO(t,e,n,...r){t=jn(t,Qr);const s=jn(t.firestore,Xr),c=Rg(s);let d;return d="string"==typeof(e=(0,wn.m9)(e))||e instanceof ah?QM(c,"updateDoc",t._key,e,n,r):YM(c,"updateDoc",t._key,e),my(s,[d.toMutation(t._key,Nn.exists(!0))])}function UO(t,...e){var n,r,s;t=(0,wn.m9)(t);let c={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||qM(e[d])||(c=e[d],d++);const _={includeMetadataChanges:c.includeMetadataChanges};if(qM(e[d])){const j=e[d];e[d]=null===(n=j.next)||void 0===n?void 0:n.bind(j),e[d+1]=null===(r=j.error)||void 0===r?void 0:r.bind(j),e[d+2]=null===(s=j.complete)||void 0===s?void 0:s.bind(j)}let b,A,N;if(t instanceof Qr)A=jn(t.firestore,Xr),N=Fu(t._key.path),b={next:j=>{e[d]&&e[d](nx(A,t,j))},error:e[d+1],complete:e[d+2]};else{const j=jn(t,is);A=jn(j.firestore,Xr),N=j._query;const ne=new Vf(A);b={next:ae=>{e[d]&&e[d](new Ff(A,ne,j,ae))},error:e[d+1],complete:e[d+2]},xO(t._query)}return function(j,ne,ae,Le){const et=new vD(Le),st=new dM(ne,et,ae);return j.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return sM(yield py(j),st)})),()=>{et.Dc(),j.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return uM(yield py(j),st)}))}}(Ri(A),N,_,b)}function my(t,e){return function(n,r){const s=new Ni;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function oN(t,e,n){return mM.apply(this,arguments)}(yield HM(n),r,s)})),s.promise}(Ri(t),e)}function nx(t,e,n){const r=n.docs.get(e._key),s=new Vf(t);return new uh(t,s,e._key,r,new Lg(n.hasPendingWrites,n.fromCache),e.converter)}const xR={maxAttempts:5};class jO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Rg(e)}set(e,n,r){this._verifyNotCommitted();const s=Bf(e,this._firestore),c=RD(s.converter,n,r),d=SD(this._dataReader,"WriteBatch.set",s._key,c,null!==s.converter,r);return this._mutations.push(d.toMutation(s._key,Nn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const c=Bf(e,this._firestore);let d;return d="string"==typeof(n=(0,wn.m9)(n))||n instanceof ah?QM(this._dataReader,"WriteBatch.update",c._key,n,r,s):YM(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(d.toMutation(c._key,Nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Bf(e,this._firestore);return this._mutations=this._mutations.concat(new $l(n._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ze(Se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bf(t,e){if((t=(0,wn.m9)(t)).firestore!==e)throw new Ze(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class PR extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Rg(e)}get(e){const n=Bf(e,this._firestore),r=new lR(this._firestore);return this._transaction.lookup([n._key]).then(s=>{if(!s||1!==s.length)return bt();const c=s[0];if(c.isFoundDocument())return new Qw(this._firestore,r,c.key,c,n.converter);if(c.isNoDocument())return new Qw(this._firestore,r,n._key,null,n.converter);throw bt()})}set(e,n,r){const s=Bf(e,this._firestore),c=RD(s.converter,n,r),d=SD(this._dataReader,"Transaction.set",s._key,c,null!==s.converter,r);return this._transaction.set(s._key,d),this}update(e,n,r,...s){const c=Bf(e,this._firestore);let d;return d="string"==typeof(n=(0,wn.m9)(n))||n instanceof ah?QM(this._dataReader,"Transaction.update",c._key,n,r,s):YM(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,d),this}delete(e){const n=Bf(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Bf(e,this._firestore),r=new Vf(this._firestore);return super.get(e).then(s=>new uh(this._firestore,r,n._key,s._document,new Lg(!1,!1),n.converter))}}function rx(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ze("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function $O(){if(typeof Uint8Array>"u")throw new Ze("unimplemented","Uint8Arrays are not available in this environment.")}function HO(){if(!function eA(){return typeof atob<"u"}())throw new Ze("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Ud=Md.SDK_VERSION,(0,Md._registerComponent)(new bp.wA("firestore",(n,{instanceIdentifier:r,options:s})=>{const c=n.getProvider("app").getImmediate(),d=new Xr(new jS(n.getProvider("auth-internal")),new DP(n.getProvider("app-check-internal")),function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ze(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new As(_.options.projectId,b)}(c,r),c);return s=Object.assign({useFetchStreams:e},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),(0,Md.registerVersion)(P0,"3.13.0",t),(0,Md.registerVersion)(P0,"3.13.0","esm2017")}();class tC{constructor(e){this._delegate=e}static fromBase64String(e){return HO(),new tC(Wl.fromBase64String(e))}static fromUint8Array(e){return $O(),new tC(Wl.fromUint8Array(e))}toBase64(){return HO(),this._delegate.toBase64()}toUint8Array(){return $O(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ix(t){return function UR(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class jR{enableIndexedDbPersistence(e,n){return function BN(t,e){EO(t=jn(t,Xr));const n=Ri(t);if(n._uninitializedComponentsProvider)throw new Ze(Se.FAILED_PRECONDITION,"SDK cache is already specified.");fo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),s=new fy;return CO(n,s,new FM(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function UN(t){EO(t=jn(t,Xr));const e=Ri(t);if(e._uninitializedComponentsProvider)throw new Ze(Se.FAILED_PRECONDITION,"SDK cache is already specified.");fo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new fy;return CO(e,r,new nO(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function jN(t){if(t._initialized&&!t._terminated)throw new Ze(Se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ni;return t._queue.enqueueAndForgetEvenWhileRestricted((0,Ve.Z)(function*(){try{yield(n=(0,Ve.Z)(function*(r){if(!iu.D())return Promise.resolve();const s=r+"main";yield iu.delete(s)}),function(r){return n.apply(this,arguments)})(Rw(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class ZO{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof As||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&fo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){_O(this._delegate,e,n,r)}enableNetwork(){return function $N(t){return function TN(t){return t.asyncQueue.enqueue((0,Ve.Z)(function*(){const e=yield oO(t),n=yield sO(t);return e.setNetworkEnabled(!0),function(r){const s=mt(r);return s.vu.delete(0),ay(s)}(n)}))}(Ri(t=jn(t,Xr)))}(this._delegate)}disableNetwork(){return function HN(t){return function SN(t){return t.asyncQueue.enqueue((0,Ve.Z)(function*(){const e=yield oO(t),n=yield sO(t);return e.setNetworkEnabled(!1),(r=(0,Ve.Z)(function*(s){const c=mt(s);c.vu.add(0),yield Pg(c),c.bu.set("Offline")}),function(s){return r.apply(this,arguments)})(n);var r}))}(Ri(t=jn(t,Xr)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,hO("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function zN(t){return function(e){const n=new Ni;return e.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function cN(t,e){return CM.apply(this,arguments)}(yield HM(e),n)})),n.promise}(Ri(t=jn(t,Xr)))}(this._delegate)}onSnapshotsInSync(e){return function CR(t,e){return function xN(t,e){const n=new vD(e);return t.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return r=yield py(t),s=n,mt(r).ku.add(s),void s.next();var r,s})),()=>{n.Dc(),t.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return r=yield py(t),s=n,void mt(r).ku.delete(s);var r,s}))}}(Ri(t=jn(t,Xr)),qM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ze("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _y(this,yO(this._delegate,e))}catch(n){throw ea(n,"collection()","Firestore.collection()")}}doc(e){try{return new zu(this,bD(this._delegate,e))}catch(n){throw ea(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ta(this,function RN(t,e){if(t=jn(t,Ww),GM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ze(Se.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new is(t,null,(n=e,new Lc(Bn.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw ea(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function OR(t,e,n){t=jn(t,Xr);const r=Object.assign(Object.assign({},xR),n);return function(s){if(s.maxAttempts<1)throw new Ze(Se.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,c,d){const _=new Ni;return s.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){const b=yield function aO(t){return CD(t).then(e=>e.datastore)}(s);new bN(s.asyncQueue,b,d,c,_).run()})),_.promise}(Ri(t),s=>e(new PR(t,s)),r)}(this._delegate,n=>e(new GO(this,n)))}batch(){return Ri(this._delegate),new WO(new jO(this._delegate,e=>my(this._delegate,e)))}loadBundle(e){return function ZN(t,e){const n=Ri(t=jn(t,Xr)),r=new LN;return function PN(t,e,n,r){const s=function(c,d){let _;return _="string"==typeof c?Ib().encode(c):c,b=function(b,A){if(b instanceof Uint8Array)return rO(b,A);if(b instanceof ArrayBuffer)return rO(new Uint8Array(b),A);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new EN(b,d);var b}(n,sy(e));t.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){!function wN(t,e,n){const r=mt(t);var s;(s=(0,Ve.Z)(function*(c,d,_){try{const b=yield d.getMetadata();if(yield function(ne,ae){const Le=mt(ne),et=ni(ae.createTime);return Le.persistence.runTransaction("hasNewerBundle","readonly",st=>Le.qs.getBundleMetadata(st,ae.id)).then(st=>!!st&&st.createTime.compareTo(et)>=0)}(c.localStore,b))return yield d.close(),_._completeWith({taskState:"Success",documentsLoaded:(ne=b).totalDocuments,bytesLoaded:ne.totalBytes,totalDocuments:ne.totalDocuments,totalBytes:ne.totalBytes}),Promise.resolve(new Set);_._updateProgress(WP(b));const A=new J1(b,c.localStore,d.serializer);let N=yield d.bc();for(;N;){const ne=yield A.zu(N);ne&&_._updateProgress(ne),N=yield d.bc()}const j=yield A.complete();return yield sh(c,j.Ju,void 0),yield function(ne,ae){const Le=mt(ne);return Le.persistence.runTransaction("Save bundle","readwrite",et=>Le.qs.saveBundleMetadata(et,ae))}(c.localStore,b),_._completeWith(j.progress),Promise.resolve(j.Hu)}catch(b){return fo("SyncEngine",`Loading bundle failed with ${b}`),_._failWith(b),Promise.resolve(new Set)}var ne}),function(c,d,_){return s.apply(this,arguments)})(r,e,n).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield HM(t),s,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function GN(t,e){return function ON(t,e){return t.asyncQueue.enqueue((0,Ve.Z)(function*(){return function(n,r){const s=mt(n);return s.persistence.runTransaction("Get named query","readonly",c=>s.qs.getNamedQuery(c,r))}(yield ED(t),e)}))}(Ri(t=jn(t,Xr)),e).then(n=>n?new is(t,null,n.query):null)}(this._delegate,e).then(n=>n?new ta(this,n):null)}}class kD extends tx{constructor(e){super(),this.firestore=e}convertBytes(e){return new tC(new Wl(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return zu.forKey(n,this.firestore,null)}}class GO{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new kD(e)}get(e){const n=Vg(e);return this._delegate.get(n).then(r=>new nC(this._firestore,new uh(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const s=Vg(e);return r?(rx("Transaction.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this}update(e,n,r,...s){const c=Vg(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,r,...s),this}delete(e){const n=Vg(e);return this._delegate.delete(n),this}}class WO{constructor(e){this._delegate=e}set(e,n,r){const s=Vg(e);return r?(rx("WriteBatch.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this}update(e,n,r,...s){const c=Vg(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,r,...s),this}delete(e){const n=Vg(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Fg{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new eC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rC(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Fg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let c=s.get(n);return c||(c=new Fg(e,new kD(e),n),s.set(n,c)),c}}Fg.INSTANCES=new WeakMap;class zu{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new kD(e)}static forPath(e,n,r){if(e.length%2!=0)throw new Ze("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new zu(n,new Qr(n._delegate,r,new ft(e)))}static forKey(e,n,r){return new zu(n,new Qr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _y(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _y(this.firestore,yO(this._delegate,e))}catch(n){throw ea(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,wn.m9)(e))instanceof Qr&&vO(this._delegate,e)}set(e,n){n=rx("DocumentReference.set",n);try{return n?VO(this._delegate,e,n):VO(this._delegate,e)}catch(r){throw ea(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?BO(this._delegate,e):BO(this._delegate,e,n,...r)}catch(s){throw ea(s,"updateDoc()","DocumentReference.update()")}}delete(){return function vR(t){return my(jn(t.firestore,Xr),[new $l(t._key,Nn.none())])}(this._delegate)}onSnapshot(...e){const n=qO(e),r=KO(e,s=>new nC(this.firestore,new uh(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return UO(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function pR(t){t=jn(t,Qr);const e=jn(t.firestore,Xr),n=Ri(e),r=new Vf(e);return function AN(t,e){const n=new Ni;return t.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return(r=(0,Ve.Z)(function*(s,c,d){try{const _=yield function(b,A){const N=mt(b);return N.persistence.runTransaction("read document","readonly",j=>N.localDocuments.getDocument(j,A))}(s,c);_.isFoundDocument()?d.resolve(_):_.isNoDocument()?d.resolve(null):d.reject(new Ze(Se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const b=cy(_,`Failed to get document '${c} from cache`);d.reject(b)}}),function(s,c,d){return r.apply(this,arguments)})(yield ED(t),e,n);var r})),n.promise}(n,t._key).then(s=>new uh(e,r,t._key,s,new Lg(null!==s&&s.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function gR(t){t=jn(t,Qr);const e=jn(t.firestore,Xr);return uO(Ri(e),t._key,{source:"server"}).then(n=>nx(e,t,n))}(this._delegate):function fR(t){t=jn(t,Qr);const e=jn(t.firestore,Xr);return uO(Ri(e),t._key).then(n=>nx(e,t,n))}(this._delegate),n.then(r=>new nC(this.firestore,new uh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new zu(this.firestore,this._delegate.withConverter(e?Fg.getInstance(this.firestore,e):null))}}function ea(t,e,n){return t.message=t.message.replace(e,n),t}function qO(t){for(const e of t)if("object"==typeof e&&!ix(e))return e;return{}}function KO(t,e){var n,r;let s;return s=ix(t[0])?t[0]:ix(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:c=>{s.next&&s.next(e(c))},error:null===(n=s.error)||void 0===n?void 0:n.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class nC{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new zu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return FO(this._delegate,e._delegate)}}class rC extends nC{data(e){const n=this._delegate.data(e);return function NI(t,e){t||bt()}(void 0!==n),n}}class ta{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new kD(e)}where(e,n,r){try{return new ta(this.firestore,Lf(this._delegate,function nR(t,e,n){const r=e,s=xD("where",t);return Jw._create(s,r,n)}(e,n,r)))}catch(s){throw ea(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new ta(this.firestore,Lf(this._delegate,function rR(t,e="asc"){const n=e,r=xD("orderBy",t);return ex._create(r,n)}(e,n)))}catch(r){throw ea(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ta(this.firestore,Lf(this._delegate,function iR(t){return gO("limit",t),PD._create("limit",t,"F")}(e)))}catch(n){throw ea(n,"limit()","Query.limit()")}}limitToLast(e){try{return new ta(this.firestore,Lf(this._delegate,function oR(t){return gO("limitToLast",t),PD._create("limitToLast",t,"L")}(e)))}catch(n){throw ea(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ta(this.firestore,Lf(this._delegate,function sR(...t){return OD._create("startAt",t,!0)}(...e)))}catch(n){throw ea(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ta(this.firestore,Lf(this._delegate,function aR(...t){return OD._create("startAfter",t,!1)}(...e)))}catch(n){throw ea(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ta(this.firestore,Lf(this._delegate,function uR(...t){return ND._create("endBefore",t,!1)}(...e)))}catch(n){throw ea(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ta(this.firestore,Lf(this._delegate,function cR(...t){return ND._create("endAt",t,!0)}(...e)))}catch(n){throw ea(n,"endAt()","Query.endAt()")}}isEqual(e){return WM(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function _R(t){t=jn(t,is);const e=jn(t.firestore,Xr),n=Ri(e),r=new Vf(e);return function MN(t,e){const n=new Ni;return t.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return(r=(0,Ve.Z)(function*(s,c,d){try{const _=yield ny(s,c,!0),b=new YP(c,_.ir),A=b.sc(_.documents),N=b.applyChanges(A,!1);d.resolve(N.snapshot)}catch(_){const b=cy(_,`Failed to execute query '${c} against cache`);d.reject(b)}}),function(s,c,d){return r.apply(this,arguments)})(yield ED(t),e,n);var r})),n.promise}(n,t._query).then(s=>new Ff(e,r,t,s))}(this._delegate):"server"===e?.source?function yR(t){t=jn(t,is);const e=jn(t.firestore,Xr),n=Ri(e),r=new Vf(e);return cO(n,t._query,{source:"server"}).then(s=>new Ff(e,r,t,s))}(this._delegate):function mR(t){t=jn(t,is);const e=jn(t.firestore,Xr),n=Ri(e),r=new Vf(e);return xO(t._query),cO(n,t._query).then(s=>new Ff(e,r,t,s))}(this._delegate),n.then(r=>new ox(this.firestore,new Ff(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=qO(e),r=KO(e,s=>new ox(this.firestore,new Ff(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return UO(this._delegate,n,r)}withConverter(e){return new ta(this.firestore,this._delegate.withConverter(e?Fg.getInstance(this.firestore,e):null))}}class $R{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new rC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ox{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new ta(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new $R(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new rC(this._firestore,r))})}isEqual(e){return FO(this._delegate,e._delegate)}}class _y extends ta{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new zu(this.firestore,e):null}doc(e){try{return new zu(this.firestore,void 0===e?bD(this._delegate):bD(this._delegate,e))}catch(n){throw ea(n,"doc()","CollectionReference.doc()")}}add(e){return function wR(t,e){const n=jn(t.firestore,Xr),r=bD(t),s=RD(t.converter,e);return my(n,[SD(Rg(t.firestore),"addDoc",r._key,s,null!==t.converter,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new zu(this.firestore,n))}isEqual(e){return vO(this._delegate,e._delegate)}withConverter(e){return new _y(this.firestore,this._delegate.withConverter(e?Fg.getInstance(this.firestore,e):null))}}function Vg(t){return jn(t,Qr)}class sx{constructor(...e){this._delegate=new ah(...e)}static documentId(){return new sx(ti.keyField().canonicalString())}isEqual(e){return(e=(0,wn.m9)(e))instanceof ah&&this._delegate._internalPath.isEqual(e._internalPath)}}class Bg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function RR(){return new KM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Bg(e)}static delete(){const e=function NR(){return new Kw("deleteField")}();return e._methodName="FieldValue.delete",new Bg(e)}static arrayUnion(...e){const n=function kR(...t){return new QN("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Bg(n)}static arrayRemove(...e){const n=function LR(...t){return new XN("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Bg(n)}static increment(e){const n=function FR(t){return new JN("increment",t)}(e);return n._methodName="FieldValue.increment",new Bg(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const HR={Firestore:ZO,GeoPoint:DD,Timestamp:Or,Blob:tC,Transaction:GO,WriteBatch:WO,DocumentReference:zu,DocumentSnapshot:nC,Query:ta,QueryDocumentSnapshot:rC,QuerySnapshot:ox,CollectionReference:_y,FieldPath:sx,FieldValue:Bg,setLogLevel:function zR(t){!function jd(t){Ac.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};!function GR(t){(function ZR(t,e){t.INTERNAL.registerComponent(new bp.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),s=n.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},HR)))})(t,(e,n)=>new ZO(e,n,new jR)),t.registerVersion("@firebase/firestore-compat","0.3.12")}(VE.Z);var WR=k(3019),LD=k(3093),qR=k(4552);class KR extends zi.x{constructor(e=1/0,n=1/0,r=qR.l){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:c,_windowTime:d}=this;n||(r.push(e),!s&&r.push(c.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,c=s.slice();for(let d=0;d<c.length&&!e.closed;d+=r?1:2)e.next(c[d]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:s}=this,c=(s?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!s){const d=n.now();let _=0;for(let b=1;b<r.length&&r[b]<=d;b+=2)_=b;_&&r.splice(0,_+1)}}}var YR=k(3020);function YO(t,e,n){let r,s=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:n}=t):r=t??1/0,(0,YR.B)({connector:()=>new KR(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function QO(t,e){return(0,va.m)(e)?(0,Wr.w)(()=>t,e):(0,Wr.w)(()=>t)}var ax=k(5137),Uf=k(4097);class yy{constructor(e){return e}}class ux{constructor(){return(0,Uf.C6)()}}const cx=new p.OlP("angularfire2._apps"),XR={provide:yy,useFactory:function QR(t){return t&&1===t.length?t[0]:new yy((0,Uf.Mq)())},deps:[[new p.FiY,cx]]},JR={provide:ux,deps:[[new p.FiY,cx]]};function ek(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new yy(r)}}let tk=(()=>{class t{constructor(n){(0,Uf.KN)("angularfire",Wn.q4.full,"core"),(0,Uf.KN)("angularfire",Wn.q4.full,"app"),(0,Uf.KN)("angular",p.q4F.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(p.LFG(p.Lbi))},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[XR,JR]}),t})();function nk(t,...e){return{ngModule:tk,providers:[{provide:cx,useFactory:ek(t),multi:!0,deps:[p.R0b,p.zs3,Wn.HU,...e]}]}}const rk=(0,Wn.u3)(Uf.ZF,!0);var lx=k(4303);const dx=new Map,XO={activated:!1,tokenObservers:[]},ik={initialized:!1,enabled:!1};function Ii(t){return dx.get(t)||Object.assign({},XO)}function FD(){return ik}const hx="https://content-firebaseappcheck.googleapis.com/v1",uk="exchangeDebugToken",JO={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class lk{constructor(e,n,r,s,c){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=s,s>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,Ve.Z)(function*(){n.stop();try{n.pending=new wn.BH,yield function dk(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new wn.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const os=new wn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function fx(t){if(!Ii(t).activated)throw os.create("use-before-activation",{appName:t.name})}function UD(t,e){return gx.apply(this,arguments)}function gx(){return gx=(0,Ve.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){const j=yield s.getHeartbeatsHeader();j&&(r["X-Firebase-Client"]=j)}const c={method:"POST",body:JSON.stringify(e),headers:r};let d,_;try{d=yield fetch(t,c)}catch(j){throw os.create("fetch-network-error",{originalErrorMessage:j?.message})}if(200!==d.status)throw os.create("fetch-status-error",{httpStatus:d.status});try{_=yield d.json()}catch(j){throw os.create("fetch-parse-error",{originalErrorMessage:j?.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw os.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const A=1e3*Number(b[1]),N=Date.now();return{token:_.token,expireTimeMillis:N+A,issuedAtTimeMillis:N}}),gx.apply(this,arguments)}function e1(t,e){const{projectId:n,appId:r,apiKey:s}=t.options;return{url:`${hx}/projects/${n}/apps/${r}:${uk}?key=${s}`,body:{debug_token:e}}}const gk="firebase-app-check-database",mk=1,iC="firebase-app-check-store";let jD=null;function mx(){return mx=(0,Ve.Z)(function*(t,e){const r=(yield function n1(){return jD||(jD=new Promise((t,e)=>{try{const n=indexedDB.open(gk,mk);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var s;e(os.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(iC,{keyPath:"compositeKey"})}}catch(n){e(os.create("storage-open",{originalErrorMessage:n?.message}))}}),jD)}()).transaction(iC,"readwrite"),c=r.objectStore(iC).put({compositeKey:t,value:e});return new Promise((d,_)=>{c.onsuccess=b=>{d()},r.onerror=b=>{var A;_(os.create("storage-set",{originalErrorMessage:null===(A=b.target.error)||void 0===A?void 0:A.message}))}})}),mx.apply(this,arguments)}const oC=new Lu.Yd("@firebase/app-check");function vx(t,e){return(0,wn.hl)()?function yk(t,e){return function r1(t,e){return mx.apply(this,arguments)}(function o1(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{oC.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Cx(){return FD().enabled}function Ex(){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,Ve.Z)(function*(){const t=FD();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Ix.apply(this,arguments)}const bk={error:"UNKNOWN_ERROR"};function Dk(t){return wn.US.encodeString(JSON.stringify(t),!1)}function zD(t){return bx.apply(this,arguments)}function bx(){return bx=(0,Ve.Z)(function*(t,e=!1){const n=t.app;fx(n);const r=Ii(n);let c,s=r.token;if(s&&!vy(s)&&(r.token=void 0,s=void 0),!s){const b=yield r.cachedTokenPromise;b&&(vy(b)?s=b:yield vx(n,void 0))}if(!e&&s&&vy(s))return{token:s.token};let _,d=!1;if(Cx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=UD(e1(n,yield Ex()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const b=yield r.exchangeTokenPromise;return yield vx(n,b),r.token=b,{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),s=yield Ii(n).exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?oC.warn(b.message):oC.error(b),c=b}return s?c?_=vy(s)?{token:s.token,internalError:c}:c1(c):(_={token:s.token},r.token=s,yield vx(n,s)):_=c1(c),d&&function u1(t,e){const n=Ii(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,_),_}),bx.apply(this,arguments)}function Dx(){return Dx=(0,Ve.Z)(function*(t){const e=t.app;fx(e);const{provider:n}=Ii(e);if(Cx()){const r=yield Ex(),{token:s}=yield UD(e1(e,r),t.heartbeatServiceProvider);return{token:s}}{const{token:r}=yield n.getToken();return{token:r}}}),Dx.apply(this,arguments)}function Sx(t,e){const n=Ii(t),r=n.tokenObservers.filter(s=>s.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function a1(t){const{app:e}=t,n=Ii(e);let r=n.tokenRefresher;r||(r=function Tk(t){const{app:e}=t;return new lk((0,Ve.Z)(function*(){let r;if(r=Ii(e).token?yield zD(t,!0):yield zD(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ii(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},JO.RETRIAL_MIN_WAIT,JO.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function vy(t){return t.expireTimeMillis-Date.now()>0}function c1(t){return{token:Dk(bk),error:t}}class Sk{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ii(this.app);for(const n of e)Sx(this.app,n.next);return Promise.resolve()}}const _1="app-check-internal";!function jk(){(0,lx.Xd)(new bp.wA("app-check",t=>function Ak(t,e){return new Sk(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(_1).initialize()})),(0,lx.Xd)(new bp.wA(_1,t=>function Mk(t){return{getToken:e=>zD(t,e),getLimitedUseToken:()=>function s1(t){return Dx.apply(this,arguments)}(t),addTokenListener:e=>function Tx(t,e,n,r){const{app:s}=t,c=Ii(s);if(c.tokenObservers=[...c.tokenObservers,{next:n,error:r,type:e}],c.token&&vy(c.token)){const _=c.token;Promise.resolve().then(()=>{n({token:_.token}),a1(t)}).catch(()=>{})}c.cachedTokenPromise.then(()=>a1(t))}(t,"INTERNAL",e),removeTokenListener:e=>Sx(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,lx.KN)("@firebase/app-check","0.8.0")}();class sC{constructor(){return(0,Wn.vb)("app-check")}}typeof window<"u"&&window;var Gk=k(120);const v1=new p.OlP("angularfire2.auth.use-emulator"),w1=new p.OlP("angularfire2.auth.settings"),C1=new p.OlP("angularfire2.auth.tenant-id"),E1=new p.OlP("angularfire2.auth.langugage-code"),I1=new p.OlP("angularfire2.auth.use-device-language"),b1=new p.OlP("angularfire.auth.persistence"),D1=(t,e,n,r,s,c,d,_)=>(0,Ks.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const b=e.runOutsideAngular(()=>t.auth());if(n&&b.useEmulator(...n),r&&(b.tenantId=r),b.languageCode=s,c&&b.useDeviceLanguage(),d)for(const[A,N]of Object.entries(d))b.settings[A]=N;return _&&b.setPersistence(_),b},[n,r,s,c,d,_]);let HD=(()=>{class t{constructor(n,r,s,c,d,_,b,A,N,j,ne,ae){const Le=new zi.x,et=(0,zt.of)(void 0).pipe((0,LD.Q)(d.outsideAngular),(0,Wr.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,8661)))),(0,qt.U)(()=>(0,Ks.on)(n,c,r)),(0,qt.U)(st=>D1(st,c,_,A,N,j,b,ne)),YO({bufferSize:1,refCount:!1}));if(Zr(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,zt.of)(null);else{et.pipe(Vr()).subscribe();const Lt=et.pipe((0,Wr.w)(en=>en.getRedirectResult().then(Cn=>Cn,()=>null)),Wn.iC,YO({bufferSize:1,refCount:!1})),Qt=et.pipe((0,Wr.w)(en=>new io.y(Cn=>({unsubscribe:c.runOutsideAngular(()=>en.onAuthStateChanged(Zn=>Cn.next(Zn),Zn=>Cn.error(Zn),()=>Cn.complete()))})))),$t=et.pipe((0,Wr.w)(en=>new io.y(Cn=>({unsubscribe:c.runOutsideAngular(()=>en.onIdTokenChanged(Zn=>Cn.next(Zn),Zn=>Cn.error(Zn),()=>Cn.complete()))}))));this.authState=Lt.pipe(QO(Qt),(0,ax.R)(d.outsideAngular),(0,LD.Q)(d.insideAngular)),this.user=Lt.pipe(QO($t),(0,ax.R)(d.outsideAngular),(0,LD.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,Wr.w)(en=>en?(0,cr.D)(en.getIdToken()):(0,zt.of)(null))),this.idTokenResult=this.user.pipe((0,Wr.w)(en=>en?(0,cr.D)(en.getIdTokenResult()):(0,zt.of)(null))),this.credential=(0,WR.T)(Lt,Le,this.authState.pipe(vi(en=>!en))).pipe((0,qt.U)(en=>en?.user?en:null),(0,ax.R)(d.outsideAngular),(0,LD.Q)(d.insideAngular))}return(0,Ks.pX)(this,et,c,{spy:{apply:(st,Lt,Qt)=>{(st.startsWith("signIn")||st.startsWith("createUser"))&&Qt.then($t=>Le.next($t))}}})}}return t.\u0275fac=function(n){return new(n||t)(p.LFG(Ks.Dh),p.LFG(Ks.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Wn.HU),p.LFG(v1,8),p.LFG(w1,8),p.LFG(C1,8),p.LFG(E1,8),p.LFG(I1,8),p.LFG(b1,8),p.LFG(sC,8))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),qk=(()=>{class t{constructor(){Gk.Z.registerVersion("angularfire",Wn.q4.full,"auth-compat")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[HD]}),t})();function T1(t,e){return function Kk(t,e=mS.z){return new io.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function Ox(t,e){return T1(t,e).pipe((0,qt.U)(n=>({payload:n,type:"query"})))}function ZD(t,e){return Ox(t,e).pipe(Tu(void 0),xm(),(0,qt.U)(([n,r])=>{const s=r.payload.docChanges(),c=s.map(d=>({type:d.type,payload:d}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,_)=>{const b=s.find(N=>N.doc.ref.isEqual(d.ref)),A=n?.payload.docs.find(N=>N.ref.isEqual(d.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(d.metadata)||!b&&A&&JSON.stringify(A.metadata)===JSON.stringify(d.metadata)||c.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:d}})}),c}))}function S1(t,e,n){return ZD(t,n).pipe(Zs((r,s)=>function Qk(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function Xk(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Nx(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Nx(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Nx(t,e.oldIndex,1)}return t}(t,r))}),t}(r,s.map(c=>c.payload),e),[]),(0,Pm.x)(),(0,qt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function Nx(t,e,n,...r){const s=t.slice();return s.splice(e,n,...r),s}function A1(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class M1{constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=ZD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,qt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),n.pipe(Tu(void 0),xm(),vi(([r,s])=>s.length>0||!r),(0,qt.U)(([r,s])=>s),Wn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Zs((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=A1(e);return S1(this.query,n,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return Ox(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(n=>n.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Wn.iC)}get(e){return(0,cr.D)(this.query.get(e)).pipe(Wn.iC)}add(e){return this.ref.add(e)}doc(e){return new x1(this.ref.doc(e),this.afs)}}class x1{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:s,query:c}=P1(r,n);return new M1(s,c,this.afs)}snapshotChanges(){return function Yk(t,e){return T1(t,e).pipe(Tu(void 0),xm(),(0,qt.U)(([n,r])=>r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,qt.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,cr.D)(this.ref.get(e)).pipe(Wn.iC)}}class Jk{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?ZD(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(n=>n.filter(r=>e.indexOf(r.type)>-1)),vi(n=>n.length>0),Wn.iC):ZD(this.query,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Zs((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=A1(e);return S1(this.query,n,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return Ox(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Wn.iC)}get(e){return(0,cr.D)(this.query.get(e)).pipe(Wn.iC)}}const eL=new p.OlP("angularfire2.enableFirestorePersistence"),tL=new p.OlP("angularfire2.firestore.persistenceSettings"),nL=new p.OlP("angularfire2.firestore.settings"),rL=new p.OlP("angularfire2.firestore.use-emulator");function P1(t,e=(n=>n)){return{query:e(t),ref:t}}let iL=(()=>{class t{constructor(n,r,s,c,d,_,b,A,N,j,ne,ae,Le,et,st,Lt,Qt){this.schedulers=b;const $t=(0,Ks.on)(n,_,r),en=N;j&&D1($t,_,ne,Le,et,st,ae,Lt),[this.firestore,this.persistenceEnabled$]=(0,Ks.cc)(`${$t.name}.firestore`,"AngularFirestore",$t.name,()=>{const Cn=_.runOutsideAngular(()=>$t.firestore());if(c&&Cn.settings(c),en&&Cn.useEmulator(...en),s&&!Zr(d)){const Zn=()=>{try{return(0,cr.D)(Cn.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(Ms){return typeof console<"u"&&console.warn(Ms),(0,zt.of)(!1)}};return[Cn,_.runOutsideAngular(Zn)]}return[Cn,(0,zt.of)(!1)]},[c,en,s])}collection(n,r){let s;s="string"==typeof n?this.firestore.collection(n):n;const{ref:c,query:d}=P1(s,r),_=this.schedulers.ngZone.run(()=>c);return new M1(_,d,this)}collectionGroup(n,r){const s=r||(d=>d),c=this.firestore.collectionGroup(n);return new Jk(s(c),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const s=this.schedulers.ngZone.run(()=>r);return new x1(s,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(p.LFG(Ks.Dh),p.LFG(Ks.xv,8),p.LFG(eL,8),p.LFG(nL,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Wn.HU),p.LFG(tL,8),p.LFG(rL,8),p.LFG(HD,8),p.LFG(v1,8),p.LFG(w1,8),p.LFG(C1,8),p.LFG(E1,8),p.LFG(I1,8),p.LFG(b1,8),p.LFG(sC,8))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),O1=(()=>{var t;class e{constructor(r){this.firestore=r}getProducts(){return this.firestore.collection("items").valueChanges()}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(iL))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function oL(t,e){if(1&t&&(p.TgZ(0,"li",3)(1,"div",4)(2,"div",5)(3,"div",6),p._UZ(4,"img",7),p.qZA(),p.TgZ(5,"div",8)(6,"p"),p._uU(7,"Cena"),p.qZA(),p.TgZ(8,"p"),p._uU(9),p.qZA()()(),p.TgZ(10,"div",9)(11,"h3"),p._uU(12),p.qZA(),p.TgZ(13,"p"),p._uU(14," Nasz niebia\u0144ski nale\u015bnik truskawkowy to prawdziwa uczta dla podniebienia. Delikatny nale\u015bnik, cienko usma\u017cony na z\u0142ocist\u0105 konsystencj\u0119, jest nadziewany soczystymi kawa\u0142kami \u015bwie\u017cych truskawek. "),p.qZA()()(),p.TgZ(15,"div",10)(16,"div",11),p._UZ(17,"img",12),p.qZA(),p.TgZ(18,"p"),p._uU(19,"Dodaj do koszyka"),p.qZA()(),p.TgZ(20,"div",13),p._uU(21," Produkt zosta\u0142 pomy\u015blnie dodany do koszyka. Dzi\u0119kujemy :) "),p.qZA()()),2&t){const n=e.$implicit;p.xp6(4),p.s9C("src",n.src,p.LSH),p.xp6(5),p.hij("",n.price," z\u0142"),p.xp6(3),p.Oqu(n.name)}}let sL=(()=>{var t;class e{constructor(r){this.productService=r}ngOnInit(){this.productService.getProducts().subscribe(r=>{this.products=r})}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(O1))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-products"]],decls:5,vars:1,consts:[[1,"products-container"],[1,"products-wrapper"],["class","product-item",4,"ngFor","ngForOf"],[1,"product-item"],[1,"product-container"],[1,"col-1"],[1,"product-img"],["alt","",3,"src"],[1,"product-price"],[1,"col-2"],[1,"add-to-cart"],[1,"cart-add-icon"],["src","../../../assets/images/icons/cart-add-icon.svg","alt",""],[1,"product-info"]],template:function(r,s){1&r&&(p.TgZ(0,"div",0)(1,"h2"),p._uU(2,"Zam\xf3w teraz!"),p.qZA(),p.TgZ(3,"ul",1),p.YNc(4,oL,22,3,"li",2),p.qZA()()),2&r&&(p.xp6(4),p.Q6J("ngForOf",s.products))},dependencies:[Hn],styles:[".products-container[_ngcontent-%COMP%]{margin:100px 0 0;display:flex;flex-direction:column;justify-content:center}.products-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:0;margin:0 auto}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]{margin:30px 0;justify-content:center;align-items:center;flex-wrap:wrap;gap:30px}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:24px;background-color:#333;border-radius:20px;max-width:565px}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-container[_ngcontent-%COMP%]{display:flex}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-container[_ngcontent-%COMP%]   .col-1[_ngcontent-%COMP%]   .product-img[_ngcontent-%COMP%]{border:2px solid #d1ab7d;width:106px;height:106px;display:flex;justify-content:center;align-items:center}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-container[_ngcontent-%COMP%]   .col-1[_ngcontent-%COMP%]   .product-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:98px;height:98px}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-container[_ngcontent-%COMP%]   .col-1[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin:24px 0 0}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-container[_ngcontent-%COMP%]   .col-1[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:OpenSansItalic;margin:0}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-container[_ngcontent-%COMP%]   .col-1[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(2){font-family:OpenSans;color:#fff}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-container[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]{padding:0 0 0 24px}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-container[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#d1ab7d}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-container[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:OpenSansItalic;max-height:136px;text-overflow:clip;overflow:hidden;font-size:16px}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:20px;background-color:#1b1b1b;margin:0 auto;border-radius:20px;padding:0 20px;cursor:pointer;box-shadow:0 4px 4px #00000040}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]   .cart-add-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:12px;border:2px solid #d1ab7d;padding:4px;width:30px;height:30px}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]:hover{opacity:.8;border:2px solid #d1ab7d}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;color:#52ff00;font-family:OpenSans;margin:24px 0 0}@media (min-width: 375px){.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]{padding:30px 24px 0;display:flex;justify-content:center}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]{padding:35px}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-container[_ngcontent-%COMP%]{max-width:465px}.products-container[_ngcontent-%COMP%]   .products-wrapper[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-container[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]{padding:0 35px}}"]}),e})(),N1=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-cart"]],decls:2,vars:0,template:function(r,s){1&r&&(p.TgZ(0,"p"),p._uU(1,"cart works!"),p.qZA())}}),e})(),aL=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-contact"]],decls:2,vars:0,template:function(r,s){1&r&&(p.TgZ(0,"p"),p._uU(1,"contact works!"),p.qZA())}}),e})(),Rx=(()=>{var t;class e{constructor(r){this.angularFireAuth=r}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(HD))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const uL=[{path:"",component:Pv},{path:"about",component:gS},{path:"menu",component:FE},{path:"contact",component:aL},{path:"products",component:sL},{path:"cart",component:N1},{path:"cart",component:N1},{path:"login",component:(()=>{var t;class e{constructor(r){this.auth=r}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(Rx))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-login"]],decls:2,vars:0,template:function(r,s){1&r&&(p.TgZ(0,"p"),p._uU(1,"login works!"),p.qZA())}}),e})()},{path:"register",component:(()=>{var t;class e{constructor(r){this.auth=r}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(Rx))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-register"]],decls:2,vars:0,template:function(r,s){1&r&&(p.TgZ(0,"p"),p._uU(1,"register works!"),p.qZA())}}),e})()}];let cL=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[sm.forRoot(uL),sm]}),e})(),lL=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-footer"]],decls:27,vars:0,consts:[[1,"footer-container"],[1,"contact"],[1,"info"],[1,"icon-container"],["href","#"],["src","../../../assets/images/media/fb-icon.svg","alt",""],["src","../../../assets/images/media/github-icon.svg","alt",""],["src","../../../assets/images/media/linkedin-icon.svg","alt",""],["src","../../../assets/images/media/netlify-icon.svg","alt",""],[1,"copyrights"]],template:function(r,s){1&r&&(p._UZ(0,"hr"),p.TgZ(1,"div",0)(2,"div",1)(3,"p"),p._uU(4,"phone: +48 508 779 574"),p.qZA(),p.TgZ(5,"p"),p._uU(6,"email: daniel.dabrowski.177@gmail.com"),p.qZA()(),p.TgZ(7,"div",2)(8,"p"),p._uU(9,"Zapraszamy:"),p.qZA(),p.TgZ(10,"p"),p._uU(11,"pn - pt: 9.00 - 21.00"),p.qZA(),p.TgZ(12,"p"),p._uU(13,"sb- nd: 11.00 - 23.00"),p.qZA(),p.TgZ(14,"p"),p._uU(15,"Krak\xf3w, ul. Wo\u017ana 2"),p.qZA()(),p.TgZ(16,"div",3)(17,"a",4),p._UZ(18,"img",5),p.qZA(),p.TgZ(19,"a",4),p._UZ(20,"img",6),p.qZA(),p.TgZ(21,"a",4),p._UZ(22,"img",7),p.qZA(),p.TgZ(23,"a",4),p._UZ(24,"img",8),p.qZA()()(),p.TgZ(25,"p",9),p._uU(26,"@2023. Powy\u017csza strona zosta\u0142a wykonana przez .Caster"),p.qZA())},styles:[".footer-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;margin:0 auto;text-align:center;padding:20px}.footer-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:PirataOne;font-size:16px;color:#fff;margin:0}.footer-container[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin:15px 0 0}.footer-container[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{margin:15px 0 0;display:flex;justify-content:center;gap:10px}.footer-container[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.footer-container[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:38px;height:38px}.copyrights[_ngcontent-%COMP%]{text-align:center;margin:0 auto 15px;font-family:PirataOne;font-size:16px;color:#fff}@media (min-width: 768px){.footer-container[_ngcontent-%COMP%]{flex-direction:row;gap:80px}.footer-container[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{text-align:left}.footer-container[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .footer-container[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{margin:0}.footer-container[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{max-width:116px;gap:20px;flex-wrap:wrap}.footer-container[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px}}@media (min-width: 1440px){.footer-container[_ngcontent-%COMP%]{gap:250px}.footer-container[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{max-width:none;flex-wrap:nowrap}}"]}),e})();function dL(t,e){if(1&t&&(p.TgZ(0,"div",5)(1,"ul")(2,"li"),p._uU(3,"Home"),p.qZA(),p.TgZ(4,"li"),p._uU(5,"Zam\xf3w"),p.qZA(),p.TgZ(6,"li"),p._uU(7,"Menu"),p.qZA(),p.TgZ(8,"li"),p._uU(9,"O Nas"),p.qZA(),p.TgZ(10,"li"),p._uU(11,"Kontakt"),p.qZA()(),p.TgZ(12,"p"),p._uU(13),p.qZA(),p.TgZ(14,"div",6)(15,"div",7),p._UZ(16,"img",8),p.qZA(),p.TgZ(17,"div",9),p._UZ(18,"img",10),p.qZA()()()),2&t){const n=p.oxw();p.xp6(13),p.Oqu(n.imageSrc.menu)}}let hL=(()=>{var t;class e{constructor(){this.menuToggle=!1,this.imageSrc={menuOpen:"../../../assets/images/icons/burger-icon.svg",menuClose:"../../../assets/images/icons/close-icon.svg"},this.windowWidth=window.innerWidth}onMenuToggle(){this.menuToggle=0==this.menuToggle,console.log(this.windowWidth),console.log(this.menuToggle),console.log(this.imageSrc.menuOpen),console.log(this.imageSrc.menuClose)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-navbar"]],decls:9,vars:2,consts:[[1,"container"],[1,"logo"],["class","wrapper",4,"ngIf"],[1,"burger",3,"click"],["alt","",3,"src"],[1,"wrapper"],[1,"icons"],[1,"profile-icon"],["src","../../../assets/images/icons/profile-icon.svg","alt",""],[1,"cart-icon"],["src","../../../assets/images/icons/cart-icon.svg","alt",""]],template:function(r,s){1&r&&(p.TgZ(0,"nav"),p._UZ(1,"hr"),p.TgZ(2,"div",0)(3,"div",1),p._uU(4,"Mr. Pancake"),p.qZA(),p.YNc(5,dL,19,1,"div",2),p.TgZ(6,"div",3),p.NdJ("click",function(){return s.onMenuToggle()}),p._UZ(7,"img",4),p.qZA()(),p._UZ(8,"hr"),p.qZA()),2&r&&(p.xp6(5),p.Q6J("ngIf",s.menuToggle||s.windowWidth>768),p.xp6(2),p.s9C("src",s.menuToggle?s.imageSrc.menuClose:s.imageSrc.menuOpen,p.LSH))},dependencies:[wo],styles:["nav[_ngcontent-%COMP%]{position:fixed;top:0;max-width:1440px;width:100%;background-color:#272727;z-index:999}nav[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]:nth-of-type(1){margin:15px 0 0}nav[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]:nth-of-type(2){margin:0 0 15px}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:auto 24px}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-family:IngridDarling;font-size:48px;color:#d1ab7d;cursor:pointer}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;position:absolute;top:93px;left:0;width:100%;height:100vh;background-color:#272727;flex-direction:column;text-align:center}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-family:PirataOne;gap:35px;padding:120px 0 0;text-transform:uppercase;color:#d1ab7d;font-weight:700;font-size:18px}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{gap:15px}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .profile-icon[_ngcontent-%COMP%]{cursor:pointer}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .cart-icon[_ngcontent-%COMP%]{cursor:pointer}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .burger[_ngcontent-%COMP%]{display:flex;align-items:center}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .burger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{letter-spacing:1px;font-weight:400;font-size:24px}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .profile-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .cart-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}@media (min-width: 768px){nav[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{flex:1}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;position:unset;width:auto;height:auto;flex-direction:row;text-align:center;background-color:transparent}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:none;padding:0;text-transform:none;color:D1AB7D}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:18px}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{justify-content:space-between;margin-left:5vw}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .burger[_ngcontent-%COMP%]{display:none}}@media (min-width: 1024px){nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin:auto 50px}}@media (min-width: 1440px){nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin:auto 100px}}"]}),e})(),fL=(()=>{var t;class e{constructor(){this.title="mr-pancake"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"]],template:function(r,s){1&r&&(p.TgZ(0,"div",0),p._UZ(1,"app-navbar")(2,"router-outlet")(3,"app-footer"),p.qZA())},dependencies:[Yf,lL,hL],styles:["@font-face{font-family:PirataOne;src:url(PirataOne-Regular.eff5e8e13729375d.ttf)}@font-face{font-family:IngridDarling;src:url(IngridDarling-Regular.1782c5255f057c11.ttf)}@font-face{font-family:OpenSans;src:url(OpenSans-VariableFont_wdth_wght.abb0f3a06e9f64d3.ttf)}@font-face{font-family:OpenSansItalic;src:url(OpenSans-Italic-VariableFont_wdth_wght.16030d715dfccef6.ttf)}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background-color:#272727;color:#fff;margin:0;padding:0}.container[_ngcontent-%COMP%]{max-width:1440px;margin:auto}hr[_ngcontent-%COMP%]{background-color:#d1ab7d;height:2px;border:none;margin:15px 0}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background-color:#333;opacity:.8;border-radius:10px;border:none;border-bottom:2px solid #d1ab7d;margin:10px 0 0;width:calc(100% - 10px);color:#fff;font-size:14px;padding:10px;outline:none}input[_ngcontent-%COMP%]{height:18px}input[_ngcontent-%COMP%]:focus{outline:none}label[_ngcontent-%COMP%]{margin:5px 0 0 10px;font-family:PirataOne;font-size:16px;text-align:left}button[_ngcontent-%COMP%]{border:none;border-radius:10px;outline:none;color:#fff;background-color:#d1ab7d;margin:auto;font-family:PirataOne;font-size:20px;padding:12px 30px;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#e7af6b}h2[_ngcontent-%COMP%]{color:#d1ab7d;font-family:PirataOne;font-size:36px;margin:40px auto 20px;font-weight:400}h3[_ngcontent-%COMP%]{color:#fff;font-family:PirataOne;font-size:28px;margin:40px auto 20px;font-weight:400}p[_ngcontent-%COMP%]{font-size:20px;font-family:PirataOne;color:#d1ab7d}@media (min-width: 768px){input[_ngcontent-%COMP%]{margin:15px 0 0}h2[_ngcontent-%COMP%]{font-size:32px}p[_ngcontent-%COMP%]{font-size:20px}hr[_ngcontent-%COMP%]{margin:25px 0}}@media (min-width: 1024px){h2[_ngcontent-%COMP%]{font-size:36px}p[_ngcontent-%COMP%]{font-size:20px}}"]}),e})();const R1_firebase={projectId:"student-database-88fb4",appId:"1:776904239177:web:f663c9f97a4c7c0b227798",storageBucket:"student-database-88fb4.appspot.com",apiKey:"AIzaSyCKjQzkRxph7KoMF34-Q3mSi5jQBakfTRA",authDomain:"student-database-88fb4.firebaseapp.com",messagingSenderId:"776904239177"};var pL=k(6710);class kx{constructor(e){return e}}class L1{constructor(){return(0,Wn.vb)("auth")}}const Lx=new p.OlP("angularfire2.auth-instances");function mL(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new kx(r)}}const _L={provide:L1,deps:[[new p.FiY,Lx]]},yL={provide:kx,useFactory:function gL(t,e){const n=(0,Wn.JM)("auth",t,e);return n&&new kx(n)},deps:[[new p.FiY,Lx],yy]};let vL=(()=>{class t{constructor(){(0,Uf.KN)("angularfire",Wn.q4.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[yL,_L]}),t})();function wL(t,...e){return{ngModule:vL,providers:[{provide:Lx,useFactory:mL(t),multi:!0,deps:[p.R0b,p.zs3,Wn.HU,ux,[new p.FiY,sC],...e]}]}}const CL=(0,Wn.u3)(pL.o,!0);class Fx{constructor(e){return e}}const F1="firestore",Vx=new p.OlP("angularfire2.firestore-instances");function bL(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Fx(r)}}const DL={provide:class EL{constructor(){return(0,Wn.vb)(F1)}},deps:[[new p.FiY,Vx]]},TL={provide:Fx,useFactory:function IL(t,e){const n=(0,Wn.JM)(F1,t,e);return n&&new Fx(n)},deps:[[new p.FiY,Vx],yy]};let SL=(()=>{class t{constructor(){(0,Uf.KN)("angularfire",Wn.q4.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[TL,DL]}),t})();function AL(t,...e){return{ngModule:SL,providers:[{provide:Vx,useFactory:bL(t),multi:!0,deps:[p.R0b,p.zs3,Wn.HU,ux,[new p.FiY,L1],[new p.FiY,sC],...e]}]}}const ML=(0,Wn.u3)(VN,!0);let xL=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t,bootstrap:[fL]}),t.\u0275inj=p.cJS({providers:[Rx,O1],imports:[Yn,cL,pS,Ks.hO.initializeApp(R1_firebase),qk,nk(()=>rk(R1_firebase)),wL(()=>CL()),AL(()=>ML())]}),e})();Pr().bootstrapModule(xL).catch(t=>console.error(t))},8433:function(Tt,Fe){!function(k){"use strict";function G(u){var f,v,T,x;for(v=1,T=arguments.length;v<T;v++)for(f in x=arguments[v])u[f]=x[f];return u}var B=Object.create||function(){function u(){}return function(f){return u.prototype=f,new u}}();function te(u,f){var v=Array.prototype.slice;if(u.bind)return u.bind.apply(u,v.call(arguments,1));var T=v.call(arguments,2);return function(){return u.apply(f,T.length?T.concat(v.call(arguments)):arguments)}}var me=0;function ge(u){return"_leaflet_id"in u||(u._leaflet_id=++me),u._leaflet_id}function Ae(u,f,v){var T,x,V,J;return J=function(){T=!1,x&&(V.apply(v,x),x=!1)},V=function(){T?x=arguments:(u.apply(v,arguments),setTimeout(J,f),T=!0)},V}function Re(u,f,v){var T=f[1],x=f[0],V=T-x;return u===T&&v?u:((u-x)%V+V)%V+x}function ye(){return!1}function q(u,f){if(!1===f)return u;var v=Math.pow(10,void 0===f?6:f);return Math.round(u*v)/v}function X(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function le(u){return X(u).split(/\s+/)}function Oe(u,f){for(var v in Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?B(u.options):{}),f)u.options[v]=f[v];return u.options}function $e(u,f,v){var T=[];for(var x in u)T.push(encodeURIComponent(v?x.toUpperCase():x)+"="+encodeURIComponent(u[x]));return(f&&-1!==f.indexOf("?")?"&":"?")+T.join("&")}var ut=/\{ *([\w_ -]+) *\}/g;function He(u,f){return u.replace(ut,function(v,T){var x=f[T];if(void 0===x)throw new Error("No value provided for variable "+v);return"function"==typeof x&&(x=x(f)),x})}var Je=Array.isArray||function(u){return"[object Array]"===Object.prototype.toString.call(u)};function Ue(u,f){for(var v=0;v<u.length;v++)if(u[v]===f)return v;return-1}var Et="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function vt(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var fe=0;function ke(u){var f=+new Date,v=Math.max(0,16-(f-fe));return fe=f+v,window.setTimeout(u,v)}var we=window.requestAnimationFrame||vt("RequestAnimationFrame")||ke,Pe=window.cancelAnimationFrame||vt("CancelAnimationFrame")||vt("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function Be(u,f,v){if(!v||we!==ke)return we.call(window,te(u,f));u.call(f)}function K(u){u&&Pe.call(window,u)}var je={__proto__:null,extend:G,create:B,bind:te,get lastId(){return me},stamp:ge,throttle:Ae,wrapNum:Re,falseFn:ye,formatNum:q,trim:X,splitWords:le,setOptions:Oe,getParamString:$e,template:He,isArray:Je,indexOf:Ue,emptyImageUrl:Et,requestFn:we,cancelFn:Pe,requestAnimFrame:Be,cancelAnimFrame:K};function Ke(){}Ke.extend=function(u){var f=function(){Oe(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=f.__super__=this.prototype,T=B(v);for(var x in T.constructor=f,f.prototype=T,this)Object.prototype.hasOwnProperty.call(this,x)&&"prototype"!==x&&"__super__"!==x&&(f[x]=this[x]);return u.statics&&G(f,u.statics),u.includes&&(function Pt(u){if(!(typeof L>"u")&&L&&L.Mixin){u=Je(u)?u:[u];for(var f=0;f<u.length;f++)u[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(u.includes),G.apply(null,[T].concat(u.includes))),G(T,u),delete T.statics,delete T.includes,T.options&&(T.options=v.options?B(v.options):{},G(T.options,u.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var V=0,J=T._initHooks.length;V<J;V++)T._initHooks[V].call(this)}},f},Ke.include=function(u){var f=this.prototype.options;return G(this.prototype,u),u.options&&(this.prototype.options=f,this.mergeOptions(u.options)),this},Ke.mergeOptions=function(u){return G(this.prototype.options,u),this},Ke.addInitHook=function(u){var f=Array.prototype.slice.call(arguments,1),v="function"==typeof u?u:function(){this[u].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};var Gt={on:function(u,f,v){if("object"==typeof u)for(var T in u)this._on(T,u[T],f);else for(var x=0,V=(u=le(u)).length;x<V;x++)this._on(u[x],f,v);return this},off:function(u,f,v){if(arguments.length)if("object"==typeof u)for(var T in u)this._off(T,u[T],f);else{u=le(u);for(var x=1===arguments.length,V=0,J=u.length;V<J;V++)x?this._off(u[V]):this._off(u[V],f,v)}else delete this._events;return this},_on:function(u,f,v,T){if("function"==typeof f){if(!1===this._listens(u,f,v)){v===this&&(v=void 0);var x={fn:f,ctx:v};T&&(x.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(x)}}else console.warn("wrong listener type: "+typeof f)},_off:function(u,f,v){var T,x,V;if(this._events&&(T=this._events[u])){if(1===arguments.length){if(this._firingCount)for(x=0,V=T.length;x<V;x++)T[x].fn=ye;return void delete this._events[u]}if("function"!=typeof f)return void console.warn("wrong listener type: "+typeof f);var J=this._listens(u,f,v);!1!==J&&(this._firingCount&&(T[J].fn=ye,this._events[u]=T=T.slice()),T.splice(J,1))}},fire:function(u,f,v){if(!this.listens(u,v))return this;var T=G({},f,{type:u,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var x=this._events[u];if(x){this._firingCount=this._firingCount+1||1;for(var V=0,J=x.length;V<J;V++){var _e=x[V],be=_e.fn;_e.once&&this.off(u,be,_e.ctx),be.call(_e.ctx||this,T)}this._firingCount--}}return v&&this._propagateEvent(T),this},listens:function(u,f,v,T){"string"!=typeof u&&console.warn('"string" type argument expected');var x=f;"function"!=typeof f&&(T=!!f,x=void 0,v=void 0);var V=this._events&&this._events[u];if(V&&V.length&&!1!==this._listens(u,x,v))return!0;if(T)for(var J in this._eventParents)if(this._eventParents[J].listens(u,f,v,T))return!0;return!1},_listens:function(u,f,v){if(!this._events)return!1;var T=this._events[u]||[];if(!f)return!!T.length;v===this&&(v=void 0);for(var x=0,V=T.length;x<V;x++)if(T[x].fn===f&&T[x].ctx===v)return x;return!1},once:function(u,f,v){if("object"==typeof u)for(var T in u)this._on(T,u[T],f,!0);else for(var x=0,V=(u=le(u)).length;x<V;x++)this._on(u[x],f,v,!0);return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[ge(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[ge(u)],this},_propagateEvent:function(u){for(var f in this._eventParents)this._eventParents[f].fire(u.type,G({layer:u.target,propagatedFrom:u.target},u),!0)}};Gt.addEventListener=Gt.on,Gt.removeEventListener=Gt.clearAllEventListeners=Gt.off,Gt.addOneTimeEventListener=Gt.once,Gt.fireEvent=Gt.fire,Gt.hasEventListeners=Gt.listens;var Rn=Ke.extend(Gt);function Ct(u,f,v){this.x=v?Math.round(u):u,this.y=v?Math.round(f):f}var Vn=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};function gt(u,f,v){return u instanceof Ct?u:Je(u)?new Ct(u[0],u[1]):null==u?u:"object"==typeof u&&"x"in u&&"y"in u?new Ct(u.x,u.y):new Ct(u,f,v)}function on(u,f){if(u)for(var v=f?[u,f]:u,T=0,x=v.length;T<x;T++)this.extend(v[T])}function pe(u,f){return!u||u instanceof on?u:new on(u,f)}function Ce(u,f){if(u)for(var v=f?[u,f]:u,T=0,x=v.length;T<x;T++)this.extend(v[T])}function ve(u,f){return u instanceof Ce?u:new Ce(u,f)}function ce(u,f,v){if(isNaN(u)||isNaN(f))throw new Error("Invalid LatLng object: ("+u+", "+f+")");this.lat=+u,this.lng=+f,void 0!==v&&(this.alt=+v)}function Ee(u,f,v){return u instanceof ce?u:Je(u)&&"object"!=typeof u[0]?3===u.length?new ce(u[0],u[1],u[2]):2===u.length?new ce(u[0],u[1]):null:null==u?u:"object"==typeof u&&"lat"in u?new ce(u.lat,"lng"in u?u.lng:u.lon,u.alt):void 0===f?null:new ce(u,f,v)}Ct.prototype={clone:function(){return new Ct(this.x,this.y)},add:function(u){return this.clone()._add(gt(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(gt(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new Ct(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new Ct(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Vn(this.x),this.y=Vn(this.y),this},distanceTo:function(u){var f=(u=gt(u)).x-this.x,v=u.y-this.y;return Math.sqrt(f*f+v*v)},equals:function(u){return(u=gt(u)).x===this.x&&u.y===this.y},contains:function(u){return u=gt(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+q(this.x)+", "+q(this.y)+")"}},on.prototype={extend:function(u){var f,v;if(!u)return this;if(u instanceof Ct||"number"==typeof u[0]||"x"in u)f=v=gt(u);else if(v=(u=pe(u)).max,!(f=u.min)||!v)return this;return this.min||this.max?(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)):(this.min=f.clone(),this.max=v.clone()),this},getCenter:function(u){return gt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return gt(this.min.x,this.max.y)},getTopRight:function(){return gt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var f,v;return(u="number"==typeof u[0]||u instanceof Ct?gt(u):pe(u))instanceof on?(f=u.min,v=u.max):f=v=u,f.x>=this.min.x&&v.x<=this.max.x&&f.y>=this.min.y&&v.y<=this.max.y},intersects:function(u){u=pe(u);var f=this.min,v=this.max,T=u.min,x=u.max;return x.x>=f.x&&T.x<=v.x&&x.y>=f.y&&T.y<=v.y},overlaps:function(u){u=pe(u);var f=this.min,v=this.max,T=u.min,x=u.max;return x.x>f.x&&T.x<v.x&&x.y>f.y&&T.y<v.y},isValid:function(){return!(!this.min||!this.max)},pad:function(u){var f=this.min,v=this.max,T=Math.abs(f.x-v.x)*u,x=Math.abs(f.y-v.y)*u;return pe(gt(f.x-T,f.y-x),gt(v.x+T,v.y+x))},equals:function(u){return!!u&&(u=pe(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight()))}},Ce.prototype={extend:function(u){var T,x,f=this._southWest,v=this._northEast;if(u instanceof ce)T=u,x=u;else{if(!(u instanceof Ce))return u?this.extend(Ee(u)||ve(u)):this;if(x=u._northEast,!(T=u._southWest)||!x)return this}return f||v?(f.lat=Math.min(T.lat,f.lat),f.lng=Math.min(T.lng,f.lng),v.lat=Math.max(x.lat,v.lat),v.lng=Math.max(x.lng,v.lng)):(this._southWest=new ce(T.lat,T.lng),this._northEast=new ce(x.lat,x.lng)),this},pad:function(u){var f=this._southWest,v=this._northEast,T=Math.abs(f.lat-v.lat)*u,x=Math.abs(f.lng-v.lng)*u;return new Ce(new ce(f.lat-T,f.lng-x),new ce(v.lat+T,v.lng+x))},getCenter:function(){return new ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){u="number"==typeof u[0]||u instanceof ce||"lat"in u?Ee(u):ve(u);var T,x,f=this._southWest,v=this._northEast;return u instanceof Ce?(T=u.getSouthWest(),x=u.getNorthEast()):T=x=u,T.lat>=f.lat&&x.lat<=v.lat&&T.lng>=f.lng&&x.lng<=v.lng},intersects:function(u){u=ve(u);var f=this._southWest,v=this._northEast,T=u.getSouthWest(),x=u.getNorthEast();return x.lat>=f.lat&&T.lat<=v.lat&&x.lng>=f.lng&&T.lng<=v.lng},overlaps:function(u){u=ve(u);var f=this._southWest,v=this._northEast,T=u.getSouthWest(),x=u.getNorthEast();return x.lat>f.lat&&T.lat<v.lat&&x.lng>f.lng&&T.lng<v.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,f){return!!u&&(u=ve(u),this._southWest.equals(u.getSouthWest(),f)&&this._northEast.equals(u.getNorthEast(),f))},isValid:function(){return!(!this._southWest||!this._northEast)}},ce.prototype={equals:function(u,f){return!!u&&(u=Ee(u),Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng))<=(void 0===f?1e-9:f))},toString:function(u){return"LatLng("+q(this.lat,u)+", "+q(this.lng,u)+")"},distanceTo:function(u){return tt.distance(this,Ee(u))},wrap:function(){return tt.wrapLatLng(this)},toBounds:function(u){var f=180*u/40075017,v=f/Math.cos(Math.PI/180*this.lat);return ve([this.lat-f,this.lng-v],[this.lat+f,this.lng+v])},clone:function(){return new ce(this.lat,this.lng,this.alt)}};var u,qe={latLngToPoint:function(u,f){var v=this.projection.project(u),T=this.scale(f);return this.transformation._transform(v,T)},pointToLatLng:function(u,f){var v=this.scale(f),T=this.transformation.untransform(u,v);return this.projection.unproject(T)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var f=this.projection.bounds,v=this.scale(u);return new on(this.transformation.transform(f.min,v),this.transformation.transform(f.max,v))},infinite:!1,wrapLatLng:function(u){var f=this.wrapLng?Re(u.lng,this.wrapLng,!0):u.lng;return new ce(this.wrapLat?Re(u.lat,this.wrapLat,!0):u.lat,f,u.alt)},wrapLatLngBounds:function(u){var f=u.getCenter(),v=this.wrapLatLng(f),T=f.lat-v.lat,x=f.lng-v.lng;if(0===T&&0===x)return u;var V=u.getSouthWest(),J=u.getNorthEast();return new Ce(new ce(V.lat-T,V.lng-x),new ce(J.lat-T,J.lng-x))}},tt=G({},qe,{wrapLng:[-180,180],R:6371e3,distance:function(u,f){var v=Math.PI/180,T=u.lat*v,x=f.lat*v,V=Math.sin((f.lat-u.lat)*v/2),J=Math.sin((f.lng-u.lng)*v/2),_e=V*V+Math.cos(T)*Math.cos(x)*J*J,be=2*Math.atan2(Math.sqrt(_e),Math.sqrt(1-_e));return this.R*be}}),Tn={R:6378137,MAX_LATITUDE:85.0511287798,project:function(u){var f=Math.PI/180,v=this.MAX_LATITUDE,T=Math.max(Math.min(v,u.lat),-v),x=Math.sin(T*f);return new Ct(this.R*u.lng*f,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(u){var f=180/Math.PI;return new ce((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*f,u.x*f/this.R)},bounds:(u=6378137*Math.PI,new on([-u,-u],[u,u]))};function Ft(u,f,v,T){if(Je(u))return this._a=u[0],this._b=u[1],this._c=u[2],void(this._d=u[3]);this._a=u,this._b=f,this._c=v,this._d=T}function sn(u,f,v,T){return new Ft(u,f,v,T)}Ft.prototype={transform:function(u,f){return this._transform(u.clone(),f)},_transform:function(u,f){return u.x=(f=f||1)*(this._a*u.x+this._b),u.y=f*(this._c*u.y+this._d),u},untransform:function(u,f){return new Ct((u.x/(f=f||1)-this._b)/this._a,(u.y/f-this._d)/this._c)}};var It=G({},tt,{code:"EPSG:3857",projection:Tn,transformation:function(){var u=.5/(Math.PI*Tn.R);return sn(u,.5,-u,.5)}()}),xn=G({},It,{code:"EPSG:900913"});function qn(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function zn(u,f){var T,x,V,J,_e,be,v="";for(T=0,V=u.length;T<V;T++){for(x=0,J=(_e=u[T]).length;x<J;x++)v+=(x?"L":"M")+(be=_e[x]).x+" "+be.y;v+=f?he.svg?"z":"x":""}return v||"M0 0"}var En=document.documentElement.style,Qn="ActiveXObject"in window,mi=Qn&&!document.addEventListener,wr="msLaunchUri"in navigator&&!("documentMode"in document),$n=oe("webkit"),Xn=oe("android"),$r=oe("android 2")||oe("android 3"),ki=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ot=Xn&&oe("Google")&&ki<537&&!("AudioNode"in window),Nt=!!window.opera,Wt=!wr&&oe("chrome"),ln=oe("gecko")&&!$n&&!Nt&&!Qn,mr=!Wt&&oe("safari"),_r=oe("phantom"),tn="OTransition"in En,Gn=0===navigator.platform.indexOf("Win"),ri=Qn&&"transition"in En,mn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!$r,Hr="MozPerspective"in En,dn=!window.L_DISABLE_3D&&(ri||mn||Hr)&&!tn&&!_r,kn=typeof orientation<"u"||oe("mobile"),bi=kn&&$n,Li=kn&&mn,yr=!window.PointerEvent&&window.MSPointerEvent,rr=!(!window.PointerEvent&&!yr),Te="ontouchstart"in window||!!window.TouchEvent,ee=!window.L_NO_TOUCH&&(Te||rr),xe=kn&&Nt,Ye=kn&&ln,wt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Dt=function(){var u=!1;try{var f=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",ye,f),window.removeEventListener("testPassiveEventSupport",ye,f)}catch{}return u}(),Sn=!!document.createElement("canvas").getContext,Q=!(!document.createElementNS||!qn("svg").createSVGRect),Y=!!Q&&function(){var u=document.createElement("div");return u.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(u.firstChild&&u.firstChild.namespaceURI)}(),$=!Q&&function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var f=u.firstChild;return f.style.behavior="url(#default#VML)",f&&"object"==typeof f.adj}catch{return!1}}();function oe(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var he={ie:Qn,ielt9:mi,edge:wr,webkit:$n,android:Xn,android23:$r,androidStock:Ot,opera:Nt,chrome:Wt,gecko:ln,safari:mr,phantom:_r,opera12:tn,win:Gn,ie3d:ri,webkit3d:mn,gecko3d:Hr,any3d:dn,mobile:kn,mobileWebkit:bi,mobileWebkit3d:Li,msPointer:yr,pointer:rr,touch:ee,touchNative:Te,mobileOpera:xe,mobileGecko:Ye,retina:wt,passiveEvents:Dt,canvas:Sn,svg:Q,vml:$,inlineSvg:Y,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},it=he.msPointer?"MSPointerDown":"pointerdown",Ht=he.msPointer?"MSPointerMove":"pointermove",ht=he.msPointer?"MSPointerUp":"pointerup",An=he.msPointer?"MSPointerCancel":"pointercancel",Zt={touchstart:it,touchmove:Ht,touchend:ht,touchcancel:An},Fn={touchstart:function na(u,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&At(f),qi(u,f)},touchmove:qi,touchend:qi,touchcancel:qi},Yt={},ii=!1;function xs(u,f,v){return"touchstart"===f&&function vn(){ii||(document.addEventListener(it,_o,!0),document.addEventListener(Ht,yo,!0),document.addEventListener(ht,Di,!0),document.addEventListener(An,Di,!0),ii=!0)}(),Fn[f]?(v=Fn[f].bind(this,v),u.addEventListener(Zt[f],v,!1),v):(console.warn("wrong event specified:",f),ye)}function _o(u){Yt[u.pointerId]=u}function yo(u){Yt[u.pointerId]&&(Yt[u.pointerId]=u)}function Di(u){delete Yt[u.pointerId]}function qi(u,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){for(var v in f.touches=[],Yt)f.touches.push(Yt[v]);f.changedTouches=[f],u(f)}}var au=200;var uu,Rr,ia,sa,aa,ss=ra(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ps=ra(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Os="webkitTransition"===Ps||"OTransition"===Ps?Ps+"End":"transitionend";function vo(u){return"string"==typeof u?document.getElementById(u):u}function Ki(u,f){var v=u.style[f]||u.currentStyle&&u.currentStyle[f];if((!v||"auto"===v)&&document.defaultView){var T=document.defaultView.getComputedStyle(u,null);v=T?T[f]:null}return"auto"===v?null:v}function _n(u,f,v){var T=document.createElement(u);return T.className=f||"",v&&v.appendChild(T),T}function Hn(u){var f=u.parentNode;f&&f.removeChild(u)}function Kn(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function Oa(u){var f=u.parentNode;f&&f.lastChild!==u&&f.appendChild(u)}function wo(u){var f=u.parentNode;f&&f.firstChild!==u&&f.insertBefore(u,f.firstChild)}function Hc(u,f){if(void 0!==u.classList)return u.classList.contains(f);var v=Rs(u);return v.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(v)}function nn(u,f){if(void 0!==u.classList)for(var v=le(f),T=0,x=v.length;T<x;T++)u.classList.add(v[T]);else if(!Hc(u,f)){var V=Rs(u);Ns(u,(V?V+" ":"")+f)}}function In(u,f){void 0!==u.classList?u.classList.remove(f):Ns(u,X((" "+Rs(u)+" ").replace(" "+f+" "," ")))}function Ns(u,f){void 0===u.className.baseVal?u.className=f:u.className.baseVal=f}function Rs(u){return u.correspondingElement&&(u=u.correspondingElement),void 0===u.className.baseVal?u.className:u.className.baseVal}function Fi(u,f){"opacity"in u.style?u.style.opacity=f:"filter"in u.style&&function Na(u,f){var v=!1,T="DXImageTransform.Microsoft.Alpha";try{v=u.filters.item(T)}catch{if(1===f)return}f=Math.round(100*f),v?(v.Enabled=100!==f,v.Opacity=f):u.style.filter+=" progid:"+T+"(opacity="+f+")"}(u,f)}function ra(u){for(var f=document.documentElement.style,v=0;v<u.length;v++)if(u[v]in f)return u[v];return!1}function as(u,f,v){var T=f||new Ct(0,0);u.style[ss]=(he.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(v?" scale("+v+")":"")}function ir(u,f){u._leaflet_pos=f,he.any3d?as(u,f):(u.style.left=f.x+"px",u.style.top=f.y+"px")}function Lo(u){return u._leaflet_pos||new Ct(0,0)}if("onselectstart"in document)uu=function(){xt(window,"selectstart",At)},Rr=function(){Jt(window,"selectstart",At)};else{var Cr=ra(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);uu=function(){if(Cr){var u=document.documentElement.style;ia=u[Cr],u[Cr]="none"}},Rr=function(){Cr&&(document.documentElement.style[Cr]=ia,ia=void 0)}}function oa(){xt(window,"dragstart",At)}function Ra(){Jt(window,"dragstart",At)}function ua(u){for(;-1===u.tabIndex;)u=u.parentNode;u.style&&(Fo(),sa=u,aa=u.style.outlineStyle,u.style.outlineStyle="none",xt(window,"keydown",Fo))}function Fo(){sa&&(sa.style.outlineStyle=aa,sa=void 0,aa=void 0,Jt(window,"keydown",Fo))}function cu(u){do{u=u.parentNode}while(!(u.offsetWidth&&u.offsetHeight||u===document.body));return u}function hn(u){var f=u.getBoundingClientRect();return{x:f.width/u.offsetWidth||1,y:f.height/u.offsetHeight||1,boundingClientRect:f}}var Mr={__proto__:null,TRANSFORM:ss,TRANSITION:Ps,TRANSITION_END:Os,get:vo,getStyle:Ki,create:_n,remove:Hn,empty:Kn,toFront:Oa,toBack:wo,hasClass:Hc,addClass:nn,removeClass:In,setClass:Ns,getClass:Rs,setOpacity:Fi,testProp:ra,setTransform:as,setPosition:ir,getPosition:Lo,get disableTextSelection(){return uu},get enableTextSelection(){return Rr},disableImageDrag:oa,enableImageDrag:Ra,preventOutline:ua,restoreOutline:Fo,getSizedParentNode:cu,getScale:hn};function xt(u,f,v,T){if(f&&"object"==typeof f)for(var x in f)Vo(u,x,f[x],v);else for(var V=0,J=(f=le(f)).length;V<J;V++)Vo(u,f[V],v,T);return this}var oi="_leaflet_events";function Jt(u,f,v,T){if(1===arguments.length)Zc(u),delete u[oi];else if(f&&"object"==typeof f)for(var x in f)Co(u,x,f[x],v);else if(f=le(f),2===arguments.length)Zc(u,function(_e){return-1!==Ue(f,_e)});else for(var V=0,J=f.length;V<J;V++)Co(u,f[V],v,T);return this}function Zc(u,f){for(var v in u[oi]){var T=v.split(/\d/)[0];(!f||f(T))&&Co(u,T,null,null,v)}}var ka={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vo(u,f,v,T){var x=f+ge(v)+(T?"_"+ge(T):"");if(u[oi]&&u[oi][x])return this;var V=function(_e){return v.call(T||u,_e||window.event)},J=V;!he.touchNative&&he.pointer&&0===f.indexOf("touch")?V=xs(u,f,V):he.touch&&"dblclick"===f?V=function ko(u,f){u.addEventListener("dblclick",f);var T,v=0;function x(V){if(1===V.detail){if("mouse"!==V.pointerType&&(!V.sourceCapabilities||V.sourceCapabilities.firesTouchEvents)){var J=_i(V);if(!J.some(function(be){return be instanceof HTMLLabelElement&&be.attributes.for})||J.some(function(be){return be instanceof HTMLInputElement||be instanceof HTMLSelectElement})){var _e=Date.now();_e-v<=au?2==++T&&f(function su(u){var v,T,f={};for(T in u)f[T]=(v=u[T])&&v.bind?v.bind(u):v;return u=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}(V)):T=1,v=_e}}}else T=V.detail}return u.addEventListener("click",x),{dblclick:f,simDblclick:x}}(u,V):"addEventListener"in u?"touchstart"===f||"touchmove"===f||"wheel"===f||"mousewheel"===f?u.addEventListener(ka[f]||f,V,!!he.passiveEvents&&{passive:!1}):"mouseenter"===f||"mouseleave"===f?u.addEventListener(ka[f],V=function(_e){_e=_e||window.event,or(u,_e)&&J(_e)},!1):u.addEventListener(f,J,!1):u.attachEvent("on"+f,V),u[oi]=u[oi]||{},u[oi][x]=V}function Co(u,f,v,T,x){x=x||f+ge(v)+(T?"_"+ge(T):"");var V=u[oi]&&u[oi][x];if(!V)return this;!he.touchNative&&he.pointer&&0===f.indexOf("touch")?function Ro(u,f,v){Zt[f]?u.removeEventListener(Zt[f],v,!1):console.warn("wrong event specified:",f)}(u,f,V):he.touch&&"dblclick"===f?function Pa(u,f){u.removeEventListener("dblclick",f.dblclick),u.removeEventListener("click",f.simDblclick)}(u,V):"removeEventListener"in u?u.removeEventListener(ka[f]||f,V,!1):u.detachEvent("on"+f,V),u[oi][x]=null}function Vi(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function Jn(u){return Vo(u,"wheel",Vi),this}function ot(u){return xt(u,"mousedown touchstart dblclick contextmenu",Vi),u._leaflet_disable_click=!0,this}function At(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function Pn(u){return At(u),Vi(u),this}function _i(u){if(u.composedPath)return u.composedPath();for(var f=[],v=u.target;v;)f.push(v),v=v.parentNode;return f}function Eo(u,f){if(!f)return new Ct(u.clientX,u.clientY);var v=hn(f),T=v.boundingClientRect;return new Ct((u.clientX-T.left)/v.x-f.clientLeft,(u.clientY-T.top)/v.y-f.clientTop)}var si=he.linux&&he.chrome?window.devicePixelRatio:he.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function us(u){return he.edge?u.wheelDeltaY/2:u.deltaY&&0===u.deltaMode?-u.deltaY/si:u.deltaY&&1===u.deltaMode?20*-u.deltaY:u.deltaY&&2===u.deltaMode?60*-u.deltaY:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?20*-u.detail:u.detail?u.detail/-32765*60:0}function or(u,f){var v=f.relatedTarget;if(!v)return!0;try{for(;v&&v!==u;)v=v.parentNode}catch{return!1}return v!==u}var Bo={__proto__:null,on:xt,off:Jt,stopPropagation:Vi,disableScrollPropagation:Jn,disableClickPropagation:ot,preventDefault:At,stop:Pn,getPropagationPath:_i,getMousePosition:Eo,getWheelDelta:us,isExternalTarget:or,addListener:xt,removeListener:Jt},Uo=Rn.extend({run:function(u,f,v,T){this.stop(),this._el=u,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=Lo(u),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Be(this._animate,this),this._step()},_step:function(u){var f=+new Date-this._startTime,v=1e3*this._duration;f<v?this._runFrame(this._easeOut(f/v),u):(this._runFrame(1),this._complete())},_runFrame:function(u,f){var v=this._startPos.add(this._offset.multiplyBy(u));f&&v._round(),ir(this._el,v),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),rt=Rn.extend({options:{crs:It,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,f){f=Oe(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=te(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),void 0!==f.zoom&&(this._zoom=this._limitZoom(f.zoom)),f.center&&void 0!==f.zoom&&this.setView(Ee(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ps&&he.any3d&&!he.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),xt(this._proxy,Os,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,f,v){return f=void 0===f?this._zoom:this._limitZoom(f),u=this._limitCenter(Ee(u),f,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&!0!==v&&(void 0!==v.animate&&(v.zoom=G({animate:v.animate},v.zoom),v.pan=G({animate:v.animate,duration:v.duration},v.pan)),this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,f,v.zoom):this._tryAnimatedPan(u,v.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(u,f,v.pan&&v.pan.noMoveStart),this)},setZoom:function(u,f){return this._loaded?this.setView(this.getCenter(),u,{zoom:f}):(this._zoom=u,this)},zoomIn:function(u,f){return this.setZoom(this._zoom+(u=u||(he.any3d?this.options.zoomDelta:1)),f)},zoomOut:function(u,f){return this.setZoom(this._zoom-(u=u||(he.any3d?this.options.zoomDelta:1)),f)},setZoomAround:function(u,f,v){var T=this.getZoomScale(f),x=this.getSize().divideBy(2),J=(u instanceof Ct?u:this.latLngToContainerPoint(u)).subtract(x).multiplyBy(1-1/T),_e=this.containerPointToLatLng(x.add(J));return this.setView(_e,f,{zoom:v})},_getBoundsCenterZoom:function(u,f){f=f||{},u=u.getBounds?u.getBounds():ve(u);var v=gt(f.paddingTopLeft||f.padding||[0,0]),T=gt(f.paddingBottomRight||f.padding||[0,0]),x=this.getBoundsZoom(u,!1,v.add(T));if((x="number"==typeof f.maxZoom?Math.min(f.maxZoom,x):x)===1/0)return{center:u.getCenter(),zoom:x};var V=T.subtract(v).divideBy(2),J=this.project(u.getSouthWest(),x),_e=this.project(u.getNorthEast(),x);return{center:this.unproject(J.add(_e).divideBy(2).add(V),x),zoom:x}},fitBounds:function(u,f){if(!(u=ve(u)).isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(u,f);return this.setView(v.center,v.zoom,f)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,f){return this.setView(u,this._zoom,{pan:f})},panBy:function(u,f){if(f=f||{},!(u=gt(u).round()).x&&!u.y)return this.fire("moveend");if(!0!==f.animate&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Uo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),!1!==f.animate){nn(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,v,f.duration||.25,f.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,f,v){if(!1===(v=v||{}).animate||!he.any3d)return this.setView(u,f,v);this._stop();var T=this.project(this.getCenter()),x=this.project(u),V=this.getSize(),J=this._zoom;u=Ee(u),f=void 0===f?J:f;var _e=Math.max(V.x,V.y),be=_e*this.getZoomScale(J,f),Ge=x.distanceTo(T)||1,yt=1.42,Rt=yt*yt;function gn(Yn){var ze=(be*be-_e*_e+(Yn?-1:1)*Rt*Rt*Ge*Ge)/(2*(Yn?be:_e)*Rt*Ge),yn=Math.sqrt(ze*ze+1)-ze;return yn<1e-9?-18:Math.log(yn)}function Mn(Yn){return(Math.exp(Yn)-Math.exp(-Yn))/2}function ur(Yn){return(Math.exp(Yn)+Math.exp(-Yn))/2}var St=gn(0);function lh(Yn){return _e*(ur(St)*function Mi(Yn){return Mn(Yn)/ur(Yn)}(St+yt*Yn)-Mn(St))/Rt}var Pr=Date.now(),Jc=(gn(1)-St)/yt,br=v.duration?1e3*v.duration:1e3*Jc*.8;return this._moveStart(!0,v.noMoveStart),function Wo(){var Yn=(Date.now()-Pr)/br,ya=function Eu(Yn){return 1-Math.pow(1-Yn,1.5)}(Yn)*Jc;Yn<=1?(this._flyToFrame=Be(Wo,this),this._move(this.unproject(T.add(x.subtract(T).multiplyBy(lh(ya)/Ge)),J),this.getScaleZoom(_e/function Go(Yn){return _e*(ur(St)/ur(St+yt*Yn))}(ya),J),{flyTo:!0})):this._move(u,f)._moveEnd(!0)}.call(this),this},flyToBounds:function(u,f){var v=this._getBoundsCenterZoom(u,f);return this.flyTo(v.center,v.zoom,f)},setMaxBounds:function(u){return u=ve(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var f=this.options.minZoom;return this.options.minZoom=u,this._loaded&&f!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var f=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&f!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,f){this._enforcingBounds=!0;var v=this.getCenter(),T=this._limitCenter(v,this._zoom,ve(u));return v.equals(T)||this.panTo(T,f),this._enforcingBounds=!1,this},panInside:function(u,f){var v=gt((f=f||{}).paddingTopLeft||f.padding||[0,0]),T=gt(f.paddingBottomRight||f.padding||[0,0]),x=this.project(this.getCenter()),V=this.project(u),J=this.getPixelBounds(),_e=pe([J.min.add(v),J.max.subtract(T)]),be=_e.getSize();if(!_e.contains(V)){this._enforcingBounds=!0;var Ge=V.subtract(_e.getCenter()),yt=_e.extend(V).getSize().subtract(be);x.x+=Ge.x<0?-yt.x:yt.x,x.y+=Ge.y<0?-yt.y:yt.y,this.panTo(this.unproject(x),f),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=G({animate:!1,pan:!0},!0===u?{animate:!0}:u);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),T=f.divideBy(2).round(),x=v.divideBy(2).round(),V=T.subtract(x);return V.x||V.y?(u.animate&&u.pan?this.panBy(V):(u.pan&&this._rawPanBy(V),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(te(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:v})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=G({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=te(this._handleGeolocationResponse,this),v=te(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,v,u):navigator.geolocation.getCurrentPosition(f,v,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var f=u.code,v=u.message||(1===f?"permission denied":2===f?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var T=new ce(u.coords.latitude,u.coords.longitude),x=T.toBounds(2*u.coords.accuracy),V=this._locateOptions;if(V.setView){var J=this.getBoundsZoom(x);this.setView(T,V.maxZoom?Math.min(J,V.maxZoom):J)}var _e={latlng:T,bounds:x,timestamp:u.timestamp};for(var be in u.coords)"number"==typeof u.coords[be]&&(_e[be]=u.coords[be]);this.fire("locationfound",_e)}},addHandler:function(u,f){if(!f)return this;var v=this[u]=new f(this);return this._handlers.push(v),this.options[u]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var u;for(u in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Hn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[u].remove();for(u in this._panes)Hn(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,f){var T=_n("div","leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),f||this._mapPane);return u&&(this._panes[u]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds();return new Ce(this.unproject(u.getBottomLeft()),this.unproject(u.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,f,v){u=ve(u),v=gt(v||[0,0]);var T=this.getZoom()||0,x=this.getMinZoom(),V=this.getMaxZoom(),J=u.getNorthWest(),_e=u.getSouthEast(),be=this.getSize().subtract(v),Ge=pe(this.project(_e,T),this.project(J,T)).getSize(),yt=he.any3d?this.options.zoomSnap:1,Rt=be.x/Ge.x,gn=be.y/Ge.y,Mn=f?Math.max(Rt,gn):Math.min(Rt,gn);return T=this.getScaleZoom(Mn,T),yt&&(T=Math.round(T/(yt/100))*(yt/100),T=f?Math.ceil(T/yt)*yt:Math.floor(T/yt)*yt),Math.max(x,Math.min(V,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ct(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,f){var v=this._getTopLeftPoint(u,f);return new on(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(void 0===u?this.getZoom():u)},getPane:function(u){return"string"==typeof u?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,f){var v=this.options.crs;return f=void 0===f?this._zoom:f,v.scale(u)/v.scale(f)},getScaleZoom:function(u,f){var v=this.options.crs,T=v.zoom(u*v.scale(f=void 0===f?this._zoom:f));return isNaN(T)?1/0:T},project:function(u,f){return f=void 0===f?this._zoom:f,this.options.crs.latLngToPoint(Ee(u),f)},unproject:function(u,f){return f=void 0===f?this._zoom:f,this.options.crs.pointToLatLng(gt(u),f)},layerPointToLatLng:function(u){var f=gt(u).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(u){return this.project(Ee(u))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(Ee(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(ve(u))},distance:function(u,f){return this.options.crs.distance(Ee(u),Ee(f))},containerPointToLayerPoint:function(u){return gt(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return gt(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var f=this.containerPointToLayerPoint(gt(u));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ee(u)))},mouseEventToContainerPoint:function(u){return Eo(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var f=this._container=vo(u);if(!f)throw new Error("Map container not found.");if(f._leaflet_id)throw new Error("Map container is already initialized.");xt(f,"scroll",this._onScroll,this),this._containerId=ge(f)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&he.any3d,nn(u,"leaflet-container"+(he.touch?" leaflet-touch":"")+(he.retina?" leaflet-retina":"")+(he.ielt9?" leaflet-oldie":"")+(he.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=Ki(u,"position");"absolute"!==f&&"relative"!==f&&"fixed"!==f&&"sticky"!==f&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ir(this._mapPane,new Ct(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nn(u.markerPane,"leaflet-zoom-hide"),nn(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,f,v){ir(this._mapPane,new Ct(0,0));var T=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var x=this._zoom!==f;this._moveStart(x,v)._move(u,f)._moveEnd(x),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(u,f){return u&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(u,f,v,T){void 0===f&&(f=this._zoom);var x=this._zoom!==f;return this._zoom=f,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),T?v&&v.pinch&&this.fire("zoom",v):((x||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){ir(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[ge(this._container)]=this;var f=u?Jt:xt;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),he.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=Be(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,f){for(var T,v=[],x="mouseout"===f||"mouseover"===f,V=u.target||u.srcElement,J=!1;V;){if((T=this._targets[ge(V)])&&("click"===f||"preclick"===f)&&this._draggableMoved(T)){J=!0;break}if(T&&T.listens(f,!0)&&(x&&!or(V,u)||(v.push(T),x))||V===this._container)break;V=V.parentNode}return!v.length&&!J&&!x&&this.listens(f,!0)&&(v=[this]),v},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var f=u.target||u.srcElement;if(!(!this._loaded||f._leaflet_disable_events||"click"===u.type&&this._isClickDisabled(f))){var v=u.type;"mousedown"===v&&ua(f),this._fireDOMEvent(u,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,f,v){if("click"===u.type){var T=G({},u);T.type="preclick",this._fireDOMEvent(T,T.type,v)}var x=this._findEventTargets(u,f);if(v){for(var V=[],J=0;J<v.length;J++)v[J].listens(f,!0)&&V.push(v[J]);x=V.concat(x)}if(x.length){"contextmenu"===f&&At(u);var _e=x[0],be={originalEvent:u};if("keypress"!==u.type&&"keydown"!==u.type&&"keyup"!==u.type){var Ge=_e.getLatLng&&(!_e._radius||_e._radius<=10);be.containerPoint=Ge?this.latLngToContainerPoint(_e.getLatLng()):this.mouseEventToContainerPoint(u),be.layerPoint=this.containerPointToLayerPoint(be.containerPoint),be.latlng=Ge?_e.getLatLng():this.layerPointToLatLng(be.layerPoint)}for(J=0;J<x.length;J++)if(x[J].fire(f,be,!0),be.originalEvent._stopped||!1===x[J].options.bubblingMouseEvents&&-1!==Ue(this._mouseEvents,f))return}},_draggableMoved:function(u){return(u=u.dragging&&u.dragging.enabled()?u:this).dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,f=this._handlers.length;u<f;u++)this._handlers[u].disable()},whenReady:function(u,f){return this._loaded?u.call(f||this,{target:this}):this.on("load",u,f),this},_getMapPanePos:function(){return Lo(this._mapPane)||new Ct(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,f){return(u&&void 0!==f?this._getNewPixelOrigin(u,f):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,f){var v=this.getSize()._divideBy(2);return this.project(u,f)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,f,v){var T=this._getNewPixelOrigin(v,f);return this.project(u,f)._subtract(T)},_latLngBoundsToNewLayerBounds:function(u,f,v){var T=this._getNewPixelOrigin(v,f);return pe([this.project(u.getSouthWest(),f)._subtract(T),this.project(u.getNorthWest(),f)._subtract(T),this.project(u.getSouthEast(),f)._subtract(T),this.project(u.getNorthEast(),f)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,f,v){if(!v)return u;var T=this.project(u,f),x=this.getSize().divideBy(2),V=new on(T.subtract(x),T.add(x)),J=this._getBoundsOffset(V,v,f);return Math.abs(J.x)<=1&&Math.abs(J.y)<=1?u:this.unproject(T.add(J),f)},_limitOffset:function(u,f){if(!f)return u;var v=this.getPixelBounds(),T=new on(v.min.add(u),v.max.add(u));return u.add(this._getBoundsOffset(T,f))},_getBoundsOffset:function(u,f,v){var T=pe(this.project(f.getNorthEast(),v),this.project(f.getSouthWest(),v)),x=T.min.subtract(u.min),V=T.max.subtract(u.max);return new Ct(this._rebound(x.x,-V.x),this._rebound(x.y,-V.y))},_rebound:function(u,f){return u+f>0?Math.round(u-f)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(f))},_limitZoom:function(u){var f=this.getMinZoom(),v=this.getMaxZoom(),T=he.any3d?this.options.zoomSnap:1;return T&&(u=Math.round(u/T)*T),Math.max(f,Math.min(v,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){In(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,f){var v=this._getCenterOffset(u)._trunc();return!(!0!==(f&&f.animate)&&!this.getSize().contains(v)||(this.panBy(v,f),0))},_createAnimProxy:function(){var u=this._proxy=_n("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(f){var v=ss,T=this._proxy.style[v];as(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),T===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Hn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),f=this.getZoom();as(this._proxy,this.project(u,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,f,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||!1===v.animate||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(f),x=this._getCenterOffset(u)._divideBy(1-1/T);return!(!0!==v.animate&&!this.getSize().contains(x)||(Be(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(u,f,!0)},this),0))},_animateZoom:function(u,f,v,T){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=f,nn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:f,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(te(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&In(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Qi=Ke.extend({options:{position:"topright"},initialize:function(u){Oe(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var f=this._map;return f&&f.removeControl(this),this.options.position=u,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var f=this._container=this.onAdd(u),v=this.getPosition(),T=u._controlCorners[v];return nn(f,"leaflet-control"),-1!==v.indexOf("bottom")?T.insertBefore(f,T.firstChild):T.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Hn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Zr=function(u){return new Qi(u)};rt.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},f="leaflet-",v=this._controlContainer=_n("div",f+"control-container",this._container);function T(x,V){u[x+V]=_n("div",f+x+" "+f+V,v)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)Hn(this._controlCorners[u]);Hn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Er=Qi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,f,v,T){return v<T?-1:T<v?1:0}},initialize:function(u,f,v){for(var T in Oe(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,u)this._addLayer(u[T],T);for(T in f)this._addLayer(f[T],T,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return Qi.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,f){return this._addLayer(u,f),this._map?this._update():this},addOverlay:function(u,f){return this._addLayer(u,f,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var f=this._getLayer(ge(u));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){nn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(nn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):In(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return In(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",f=this._container=_n("div",u),v=this.options.collapsed;f.setAttribute("aria-haspopup",!0),ot(f),Jn(f);var T=this._section=_n("section",u+"-list");v&&(this._map.on("click",this.collapse,this),xt(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=_n("a",u+"-toggle",f);x.href="#",x.title="Layers",x.setAttribute("role","button"),xt(x,{keydown:function(V){13===V.keyCode&&this._expandSafely()},click:function(V){At(V),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=_n("div",u+"-base",T),this._separator=_n("div",u+"-separator",T),this._overlaysList=_n("div",u+"-overlays",T),f.appendChild(T)},_getLayer:function(u){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&ge(this._layers[f].layer)===u)return this._layers[f]},_addLayer:function(u,f,v){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:f,overlay:v}),this.options.sortLayers&&this._layers.sort(te(function(T,x){return this.options.sortFunction(T.layer,x.layer,T.name,x.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Kn(this._baseLayersList),Kn(this._overlaysList),this._layerControlInputs=[];var u,f,v,T,x=0;for(v=0;v<this._layers.length;v++)this._addItem(T=this._layers[v]),f=f||T.overlay,u=u||!T.overlay,x+=T.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(u=u&&x>1)?"":"none"),this._separator.style.display=f&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var f=this._getLayer(ge(u.target)),v=f.overlay?"add"===u.type?"overlayadd":"overlayremove":"add"===u.type?"baselayerchange":null;v&&this._map.fire(v,f)},_createRadioElement:function(u,f){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(f?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=v,T.firstChild},_addItem:function(u){var T,f=document.createElement("label"),v=this._map.hasLayer(u.layer);u.overlay?((T=document.createElement("input")).type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=v):T=this._createRadioElement("leaflet-base-layers_"+ge(this),v),this._layerControlInputs.push(T),T.layerId=ge(u.layer),xt(T,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+u.name;var V=document.createElement("span");return f.appendChild(V),V.appendChild(T),V.appendChild(x),(u.overlay?this._overlaysList:this._baseLayersList).appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var f,v,u=this._layerControlInputs,T=[],x=[];this._handlingClick=!0;for(var V=u.length-1;V>=0;V--)v=this._getLayer((f=u[V]).layerId).layer,f.checked?T.push(v):f.checked||x.push(v);for(V=0;V<x.length;V++)this._map.hasLayer(x[V])&&this._map.removeLayer(x[V]);for(V=0;V<T.length;V++)this._map.hasLayer(T[V])||this._map.addLayer(T[V]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f,v,u=this._layerControlInputs,T=this._map.getZoom(),x=u.length-1;x>=0;x--)v=this._getLayer((f=u[x]).layerId).layer,f.disabled=void 0!==v.options.minZoom&&T<v.options.minZoom||void 0!==v.options.maxZoom&&T>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,xt(u,"click",At),this.expand();var f=this;setTimeout(function(){Jt(u,"click",At),f._preventClick=!1})}}),ai=Qi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var f="leaflet-control-zoom",v=_n("div",f+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,f+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,f+"-out",v,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,f,v,T,x){var V=_n("a",v,T);return V.innerHTML=u,V.href="#",V.title=f,V.setAttribute("role","button"),V.setAttribute("aria-label",f),ot(V),xt(V,"click",Pn),xt(V,"click",x,this),xt(V,"click",this._refocusOnMap,this),V},_updateDisabled:function(){var u=this._map,f="leaflet-disabled";In(this._zoomInButton,f),In(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(nn(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(nn(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});rt.mergeOptions({zoomControl:!0}),rt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ai,this.addControl(this.zoomControl))});var jo=Qi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var f="leaflet-control-scale",v=_n("div",f),T=this.options;return this._addScales(T,f+"-line",v),u.on(T.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),v},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,f,v){u.metric&&(this._mScale=_n("div",f,v)),u.imperial&&(this._iScale=_n("div",f,v))},_update:function(){var u=this._map,f=u.getSize().y/2,v=u.distance(u.containerPointToLatLng([0,f]),u.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(v)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var f=this._getRoundNum(u);this._updateScale(this._mScale,f<1e3?f+" m":f/1e3+" km",f/u)},_updateImperial:function(u){var v,T,x,f=3.2808399*u;f>5280?(T=this._getRoundNum(v=f/5280),this._updateScale(this._iScale,T+" mi",T/v)):(x=this._getRoundNum(f),this._updateScale(this._iScale,x+" ft",x/f))},_updateScale:function(u,f,v){u.style.width=Math.round(this.options.maxWidth*v)+"px",u.innerHTML=f},_getRoundNum:function(u){var f=Math.pow(10,(Math.floor(u)+"").length-1),v=u/f;return f*(v>=10?10:v>=5?5:v>=3?3:v>=2?2:1)}}),Ti=Qi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(he.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(u){Oe(this,u),this._attributions={}},onAdd:function(u){for(var f in u.attributionControl=this,this._container=_n("div","leaflet-control-attribution"),ot(this._container),u._layers)u._layers[f].getAttribution&&this.addAttribution(u._layers[f].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var f in this._attributions)this._attributions[f]&&u.push(f);var v=[];this.options.prefix&&v.push(this.options.prefix),u.length&&v.push(u.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});rt.mergeOptions({attributionControl:!0}),rt.addInitHook(function(){this.options.attributionControl&&(new Ti).addTo(this)});Qi.Layers=Er,Qi.Zoom=ai,Qi.Scale=jo,Qi.Attribution=Ti,Zr.layers=function(u,f,v){return new Er(u,f,v)},Zr.zoom=function(u){return new ai(u)},Zr.scale=function(u){return new jo(u)},Zr.attribution=function(u){return new Ti(u)};var hr=Ke.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});hr.addTo=function(u,f){return u.addHandler(f,this),this};var pn={Events:Gt},hu=he.touch?"touchstart mousedown":"mousedown",Io=Rn.extend({options:{clickTolerance:3},initialize:function(u,f,v,T){Oe(this,T),this._element=u,this._dragStartTarget=f||u,this._preventOutline=v},enable:function(){this._enabled||(xt(this._dragStartTarget,hu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Io._dragging===this&&this.finishDrag(!0),Jt(this._dragStartTarget,hu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!Hc(this._element,"leaflet-zoom-anim"))){if(u.touches&&1!==u.touches.length)return void(Io._dragging===this&&this.finishDrag());if(!(Io._dragging||u.shiftKey||1!==u.which&&1!==u.button&&!u.touches||(Io._dragging=this,this._preventOutline&&ua(this._element),oa(),uu(),this._moving))){this.fire("down");var f=u.touches?u.touches[0]:u,v=cu(this._element);this._startPoint=new Ct(f.clientX,f.clientY),this._startPos=Lo(this._element),this._parentScale=hn(v);var T="mousedown"===u.type;xt(document,T?"mousemove":"touchmove",this._onMove,this),xt(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1)return void(this._moved=!0);var f=u.touches&&1===u.touches.length?u.touches[0]:u,v=new Ct(f.clientX,f.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,At(u),this._moved||(this.fire("dragstart"),this._moved=!0,nn(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),ir(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){In(document.body,"leaflet-dragging"),this._lastTarget&&(In(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Jt(document,"mousemove touchmove",this._onMove,this),Jt(document,"mouseup touchend touchcancel",this._onUp,this),Ra(),Rr();var f=this._moved&&this._moving;this._moving=!1,Io._dragging=!1,f&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function Ls(u,f,v){var T,V,J,_e,be,Ge,yt,Rt,gn,x=[1,4,2,8];for(V=0,yt=u.length;V<yt;V++)u[V]._code=Si(u[V],f);for(_e=0;_e<4;_e++){for(Rt=x[_e],T=[],V=0,J=(yt=u.length)-1;V<yt;J=V++)Ge=u[J],(be=u[V])._code&Rt?Ge._code&Rt||((gn=Gr(Ge,be,Rt,f,v))._code=Si(gn,f),T.push(gn)):(Ge._code&Rt&&((gn=Gr(Ge,be,Rt,f,v))._code=Si(gn,f),T.push(gn)),T.push(be));u=T}return u}function kr(u,f){var v,T,x,V,J,_e,be,Ge;if(!u||0===u.length)throw new Error("latlngs not passed");Bi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Rt=Ee([0,0]),gn=ve(u);gn.getNorthWest().distanceTo(gn.getSouthWest())*gn.getNorthEast().distanceTo(gn.getNorthWest())<1700&&(Rt=Lr(u));var ur=u.length,Mi=[];for(v=0;v<ur;v++){var St=Ee(u[v]);Mi.push(f.project(Ee([St.lat-Rt.lat,St.lng-Rt.lng])))}for(_e=be=Ge=0,v=0,T=ur-1;v<ur;T=v++)be+=((x=Mi[v]).x+(V=Mi[T]).x)*(J=x.y*V.x-V.y*x.x),Ge+=(x.y+V.y)*J,_e+=3*J;var Go=f.unproject(gt(0===_e?Mi[0]:[be/_e,Ge/_e]));return Ee([Go.lat+Rt.lat,Go.lng+Rt.lng])}function Lr(u){for(var f=0,v=0,T=0,x=0;x<u.length;x++){var V=Ee(u[x]);f+=V.lat,v+=V.lng,T++}return Ee([f/T,v/T])}var bo,cs={__proto__:null,clipPolygon:Ls,polygonCenter:kr,centroid:Lr};function ls(u,f){if(!f||!u.length)return u.slice();var v=f*f;return function Jr(u,f){var v=u.length,x=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(v);x[0]=x[v-1]=1,Fr(u,x,f,0,v-1);var V,J=[];for(V=0;V<v;V++)x[V]&&J.push(u[V]);return J}(u=function $u(u,f){for(var v=[u[0]],T=1,x=0,V=u.length;T<V;T++)La(u[T],u[x])>f&&(v.push(u[T]),x=T);return x<V-1&&v.push(u[V-1]),v}(u,v),v)}function Ir(u,f,v){return Math.sqrt(la(u,f,v,!0))}function Fr(u,f,v,T,x){var J,_e,be,V=0;for(_e=T+1;_e<=x-1;_e++)(be=la(u[_e],u[T],u[x],!0))>V&&(J=_e,V=be);V>v&&(f[J]=1,Fr(u,f,v,T,J),Fr(u,f,v,J,x))}function yi(u,f,v,T,x){var _e,be,Ge,V=T?bo:Si(u,v),J=Si(f,v);for(bo=J;;){if(!(V|J))return[u,f];if(V&J)return!1;Ge=Si(be=Gr(u,f,_e=V||J,v,x),v),_e===V?(u=be,V=Ge):(f=be,J=Ge)}}function Gr(u,f,v,T,x){var Ge,yt,V=f.x-u.x,J=f.y-u.y,_e=T.min,be=T.max;return 8&v?(Ge=u.x+V*(be.y-u.y)/J,yt=be.y):4&v?(Ge=u.x+V*(_e.y-u.y)/J,yt=_e.y):2&v?(Ge=be.x,yt=u.y+J*(be.x-u.x)/V):1&v&&(Ge=_e.x,yt=u.y+J*(_e.x-u.x)/V),new Ct(Ge,yt,x)}function Si(u,f){var v=0;return u.x<f.min.x?v|=1:u.x>f.max.x&&(v|=2),u.y<f.min.y?v|=4:u.y>f.max.y&&(v|=8),v}function La(u,f){var v=f.x-u.x,T=f.y-u.y;return v*v+T*T}function la(u,f,v,T){var Ge,x=f.x,V=f.y,J=v.x-x,_e=v.y-V,be=J*J+_e*_e;return be>0&&((Ge=((u.x-x)*J+(u.y-V)*_e)/be)>1?(x=v.x,V=v.y):Ge>0&&(x+=J*Ge,V+=_e*Ge)),J=u.x-x,_e=u.y-V,T?J*J+_e*_e:new Ct(x,V)}function Bi(u){return!Je(u[0])||"object"!=typeof u[0][0]&&typeof u[0][0]<"u"}function fu(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bi(u)}function Fa(u,f){var v,T,x,V,J,_e,be,Ge;if(!u||0===u.length)throw new Error("latlngs not passed");Bi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var yt=Ee([0,0]),Rt=ve(u);Rt.getNorthWest().distanceTo(Rt.getSouthWest())*Rt.getNorthEast().distanceTo(Rt.getNorthWest())<1700&&(yt=Lr(u));var Mn=u.length,ur=[];for(v=0;v<Mn;v++){var Mi=Ee(u[v]);ur.push(f.project(Ee([Mi.lat-yt.lat,Mi.lng-yt.lng])))}for(v=0,T=0;v<Mn-1;v++)T+=ur[v].distanceTo(ur[v+1])/2;if(0===T)Ge=ur[0];else for(v=0,V=0;v<Mn-1;v++)if((V+=x=(J=ur[v]).distanceTo(_e=ur[v+1]))>T){Ge=[_e.x-(be=(V-T)/x)*(_e.x-J.x),_e.y-be*(_e.y-J.y)];break}var St=f.unproject(gt(Ge));return Ee([St.lat+yt.lat,St.lng+yt.lng])}var Hu={__proto__:null,simplify:ls,pointToSegmentDistance:Ir,closestPointOnSegment:function Gc(u,f,v){return la(u,f,v)},clipSegment:yi,_getEdgeIntersection:Gr,_getBitCode:Si,_sqClosestPointOnSegment:la,isFlat:Bi,_flat:fu,polylineCenter:Fa},pu={project:function(u){return new Ct(u.lng,u.lat)},unproject:function(u){return new ce(u.y,u.x)},bounds:new on([-180,-90],[180,90])},Zu={R:6378137,R_MINOR:6356752.314245179,bounds:new on([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(u){var f=Math.PI/180,v=this.R,T=u.lat*f,x=this.R_MINOR/v,V=Math.sqrt(1-x*x),J=V*Math.sin(T),_e=Math.tan(Math.PI/4-T/2)/Math.pow((1-J)/(1+J),V/2);return T=-v*Math.log(Math.max(_e,1e-10)),new Ct(u.lng*f*v,T)},unproject:function(u){for(var Ge,f=180/Math.PI,v=this.R,T=this.R_MINOR/v,x=Math.sqrt(1-T*T),V=Math.exp(-u.y/v),J=Math.PI/2-2*Math.atan(V),_e=0,be=.1;_e<15&&Math.abs(be)>1e-7;_e++)Ge=x*Math.sin(J),Ge=Math.pow((1-Ge)/(1+Ge),x/2),J+=be=Math.PI/2-2*Math.atan(V*Ge)-J;return new ce(J*f,u.x*f/v)}},ql={__proto__:null,LonLat:pu,Mercator:Zu,SphericalMercator:Tn},sr=G({},tt,{code:"EPSG:3395",projection:Zu,transformation:function(){var u=.5/(Math.PI*Zu.R);return sn(u,.5,-u,.5)}()}),Wc=G({},tt,{code:"EPSG:4326",projection:pu,transformation:sn(1/180,1,-1/180,.5)}),jf=G({},qe,{projection:pu,transformation:sn(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,f){var v=f.lng-u.lng,T=f.lat-u.lat;return Math.sqrt(v*v+T*T)},infinite:!0});qe.Earth=tt,qe.EPSG3395=sr,qe.EPSG3857=It,qe.EPSG900913=xn,qe.EPSG4326=Wc,qe.Simple=jf;var Xi=Rn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[ge(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[ge(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var f=u.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var v=this.getEvents();f.on(v,this),this.once("remove",function(){f.off(v,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});rt.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var f=ge(u);return this._layers[f]||(this._layers[f]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u)),this},removeLayer:function(u){var f=ge(u);return this._layers[f]?(this._loaded&&u.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return ge(u)in this._layers},eachLayer:function(u,f){for(var v in this._layers)u.call(f,this._layers[v]);return this},_addLayers:function(u){for(var f=0,v=(u=u?Je(u)?u:[u]:[]).length;f<v;f++)this.addLayer(u[f])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[ge(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var f=ge(u);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,f=-1/0,v=this._getZoomSpan();for(var T in this._zoomBoundLayers){var x=this._zoomBoundLayers[T].options;u=void 0===x.minZoom?u:Math.min(u,x.minZoom),f=void 0===x.maxZoom?f:Math.max(f,x.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=u===1/0?void 0:u,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var gu=Xi.extend({initialize:function(u,f){var v,T;if(Oe(this,f),this._layers={},u)for(v=0,T=u.length;v<T;v++)this.addLayer(u[v])},addLayer:function(u){var f=this.getLayerId(u);return this._layers[f]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var f=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(u){return("number"==typeof u?u:this.getLayerId(u))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var v,T,f=Array.prototype.slice.call(arguments,1);for(v in this._layers)(T=this._layers[v])[u]&&T[u].apply(T,f);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,f){for(var v in this._layers)u.call(f,this._layers[v]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return ge(u)}}),xr=gu.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),gu.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),gu.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new Ce;for(var f in this._layers){var v=this._layers[f];u.extend(v.getBounds?v.getBounds():v.getLatLng())}return u}}),Ji=Ke.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){Oe(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,f){var v=this._getIconUrl(u);if(!v){if("icon"===u)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(v,f&&"IMG"===f.tagName?f:null);return this._setIconStyles(T,u),(this.options.crossOrigin||""===this.options.crossOrigin)&&(T.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),T},_setIconStyles:function(u,f){var v=this.options,T=v[f+"Size"];"number"==typeof T&&(T=[T,T]);var x=gt(T),V=gt("shadow"===f&&v.shadowAnchor||v.iconAnchor||x&&x.divideBy(2,!0));u.className="leaflet-marker-"+f+" "+(v.className||""),V&&(u.style.marginLeft=-V.x+"px",u.style.marginTop=-V.y+"px"),x&&(u.style.width=x.x+"px",u.style.height=x.y+"px")},_createImg:function(u,f){return(f=f||document.createElement("img")).src=u,f},_getIconUrl:function(u){return he.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});var _u=Ji.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return"string"!=typeof _u.imagePath&&(_u.imagePath=this._detectIconPath()),(this.options.imagePath||_u.imagePath)+Ji.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var f=function(v,T,x){var V=T.exec(v);return V&&V[x]};return(u=f(u,/^url\((['"])?(.+)\1\)$/,2))&&f(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=_n("div","leaflet-default-icon-path",document.body),f=Ki(u,"background-image")||Ki(u,"backgroundImage");if(document.body.removeChild(u),f=this._stripUrl(f))return f;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),qc=hr.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new Io(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nn(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&In(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var f=this._marker,v=f._map,T=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,V=Lo(f._icon),J=v.getPixelBounds(),_e=v.getPixelOrigin(),be=pe(J.min._subtract(_e).add(x),J.max._subtract(_e).subtract(x));if(!be.contains(V)){var Ge=gt((Math.max(be.max.x,V.x)-be.max.x)/(J.max.x-be.max.x)-(Math.min(be.min.x,V.x)-be.min.x)/(J.min.x-be.min.x),(Math.max(be.max.y,V.y)-be.max.y)/(J.max.y-be.max.y)-(Math.min(be.min.y,V.y)-be.min.y)/(J.min.y-be.min.y)).multiplyBy(T);v.panBy(Ge,{animate:!1}),this._draggable._newPos._add(Ge),this._draggable._startPos._add(Ge),ir(f._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=Be(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=Be(this._adjustPan.bind(this,u)))},_onDrag:function(u){var f=this._marker,v=f._shadow,T=Lo(f._icon),x=f._map.layerPointToLatLng(T);v&&ir(v,T),f._latlng=x,u.latlng=x,u.oldLatLng=this._oldLatLng,f.fire("move",u).fire("drag",u)},_onDragEnd:function(u){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),ha=Xi.extend({options:{icon:new _u,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,f){Oe(this,f),this._latlng=Ee(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var f=this._latlng;return this._latlng=Ee(u),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=u.icon.createIcon(this._icon),T=!1;v!==this._icon&&(this._icon&&this._removeIcon(),T=!0,u.title&&(v.title=u.title),"IMG"===v.tagName&&(v.alt=u.alt||"")),nn(v,f),u.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xt(v,"focus",this._panOnFocus,this);var x=u.icon.createShadow(this._shadow),V=!1;x!==this._shadow&&(this._removeShadow(),V=!0),x&&(nn(x,f),x.alt=""),this._shadow=x,u.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&V&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Jt(this._icon,"focus",this._panOnFocus,this),Hn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Hn(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&ir(this._icon,u),this._shadow&&ir(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var f=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(nn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),qc)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new qc(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Fi(this._icon,u),this._shadow&&Fi(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var f=this.options.icon.options,v=f.iconSize?gt(f.iconSize):gt(0,0),T=f.iconAnchor?gt(f.iconAnchor):gt(0,0);u.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:v.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var ci=Xi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return Oe(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fs=ci.extend({options:{fill:!0,radius:10},initialize:function(u,f){Oe(this,f),this._latlng=Ee(u),this._radius=this.options.radius},setLatLng:function(u){var f=this._latlng;return this._latlng=Ee(u),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var f=u&&u.radius||this._radius;return ci.prototype.setStyle.call(this,u),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,f=this._radiusY||u,v=this._clickTolerance(),T=[u+v,f+v];this._pxBounds=new on(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var fr=Fs.extend({initialize:function(u,f,v){if("number"==typeof f&&(f=G({},v,{radius:f})),Oe(this,f),this._latlng=Ee(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:ci.prototype.setStyle,_project:function(){var u=this._latlng.lng,f=this._latlng.lat,v=this._map,T=v.options.crs;if(T.distance===tt.distance){var x=Math.PI/180,V=this._mRadius/tt.R/x,J=v.project([f+V,u]),_e=v.project([f-V,u]),be=J.add(_e).divideBy(2),Ge=v.unproject(be).lat,yt=Math.acos((Math.cos(V*x)-Math.sin(f*x)*Math.sin(Ge*x))/(Math.cos(f*x)*Math.cos(Ge*x)))/x;(isNaN(yt)||0===yt)&&(yt=V/Math.cos(Math.PI/180*f)),this._point=be.subtract(v.getPixelOrigin()),this._radius=isNaN(yt)?0:be.x-v.project([Ge,u-yt]).x,this._radiusY=be.y-J.y}else{var Rt=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(Rt).x}this._updateBounds()}});var er=ci.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,f){Oe(this,f),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var x,V,f=1/0,v=null,T=la,J=0,_e=this._parts.length;J<_e;J++)for(var be=this._parts[J],Ge=1,yt=be.length;Ge<yt;Ge++){var Rt=T(u,x=be[Ge-1],V=be[Ge],!0);Rt<f&&(f=Rt,v=T(u,x,V))}return v&&(v.distance=Math.sqrt(f)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,f){return f=f||this._defaultShape(),u=Ee(u),f.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new Ce,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Bi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var f=[],v=Bi(u),T=0,x=u.length;T<x;T++)v?(f[T]=Ee(u[T]),this._bounds.extend(f[T])):f[T]=this._convertLatLngs(u[T]);return f},_project:function(){var u=new on;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),f=new Ct(u,u);this._rawPxBounds&&(this._pxBounds=new on([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(u,f,v){var V,J,x=u.length;if(u[0]instanceof ce){for(J=[],V=0;V<x;V++)J[V]=this._map.latLngToLayerPoint(u[V]),v.extend(J[V]);f.push(J)}else for(V=0;V<x;V++)this._projectLatlngs(u[V],f,v)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(u)){if(this.options.noClip)return void(this._parts=this._rings);var v,T,x,V,J,_e,be,f=this._parts;for(v=0,x=0,V=this._rings.length;v<V;v++)for(T=0,J=(be=this._rings[v]).length;T<J-1;T++)(_e=yi(be[T],be[T+1],u,T,!0))&&(f[x]=f[x]||[],f[x].push(_e[0]),(_e[1]!==be[T+1]||T===J-2)&&(f[x].push(_e[1]),x++))}},_simplifyPoints:function(){for(var u=this._parts,f=this.options.smoothFactor,v=0,T=u.length;v<T;v++)u[v]=ls(u[v],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,f){var v,T,x,V,J,_e,be=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(v=0,V=this._parts.length;v<V;v++)for(T=0,x=(J=(_e=this._parts[v]).length)-1;T<J;x=T++)if((f||0!==T)&&Ir(u,_e[x],_e[T])<=be)return!0;return!1}});er._flat=fu;var Do=er.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var f=er.prototype._convertLatLngs.call(this,u),v=f.length;return v>=2&&f[0]instanceof ce&&f[0].equals(f[v-1])&&f.pop(),f},_setLatLngs:function(u){er.prototype._setLatLngs.call(this,u),Bi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,f=this.options.weight,v=new Ct(f,f);if(u=new on(u.min.subtract(v),u.max.add(v)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(u)){if(this.options.noClip)return void(this._parts=this._rings);for(var V,T=0,x=this._rings.length;T<x;T++)(V=Ls(this._rings[T],u,!0)).length&&this._parts.push(V)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var v,T,x,V,J,_e,be,Ge,f=!1;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(V=0,be=this._parts.length;V<be;V++)for(J=0,_e=(Ge=(v=this._parts[V]).length)-1;J<Ge;_e=J++)(T=v[J]).y>u.y!=(x=v[_e]).y>u.y&&u.x<(x.x-T.x)*(u.y-T.y)/(x.y-T.y)+T.x&&(f=!f);return f||er.prototype._containsPoint.call(this,u,!0)}});var To=xr.extend({initialize:function(u,f){Oe(this,f),this._layers={},u&&this.addData(u)},addData:function(u){var v,T,x,f=Je(u)?u:u.features;if(f){for(v=0,T=f.length;v<T;v++)((x=f[v]).geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var V=this.options;if(V.filter&&!V.filter(u))return this;var J=to(u,V);return J?(J.feature=So(u),J.defaultOptions=J.options,this.resetStyle(J),V.onEachFeature&&V.onEachFeature(u,J),this.addLayer(J)):this},resetStyle:function(u){return void 0===u?this.eachLayer(this.resetStyle,this):(u.options=G({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(f){this._setLayerStyle(f,u)},this)},_setLayerStyle:function(u,f){u.setStyle&&("function"==typeof f&&(f=f(u.feature)),u.setStyle(f))}});function to(u,f){var _e,be,Ge,yt,v="Feature"===u.type?u.geometry:u,T=v?v.coordinates:null,x=[],V=f&&f.pointToLayer,J=f&&f.coordsToLatLng||vu;if(!T&&!v)return null;switch(v.type){case"Point":return yu(V,u,_e=J(T),f);case"MultiPoint":for(Ge=0,yt=T.length;Ge<yt;Ge++)_e=J(T[Ge]),x.push(yu(V,u,_e,f));return new xr(x);case"LineString":case"MultiLineString":return be=ar(T,"LineString"===v.type?0:1,J),new er(be,f);case"Polygon":case"MultiPolygon":return be=ar(T,"Polygon"===v.type?1:2,J),new Do(be,f);case"GeometryCollection":for(Ge=0,yt=v.geometries.length;Ge<yt;Ge++){var Rt=to({geometry:v.geometries[Ge],type:"Feature",properties:u.properties},f);Rt&&x.push(Rt)}return new xr(x);case"FeatureCollection":for(Ge=0,yt=v.features.length;Ge<yt;Ge++){var gn=to(v.features[Ge],f);gn&&x.push(gn)}return new xr(x);default:throw new Error("Invalid GeoJSON object.")}}function yu(u,f,v,T){return u?u(f,v):new ha(v,T&&T.markersInheritOptions&&T)}function vu(u){return new ce(u[1],u[0],u[2])}function ar(u,f,v){for(var J,T=[],x=0,V=u.length;x<V;x++)J=f?ar(u[x],f-1,v):(v||vu)(u[x]),T.push(J);return T}function Wu(u,f){return void 0!==(u=Ee(u)).alt?[q(u.lng,f),q(u.lat,f),q(u.alt,f)]:[q(u.lng,f),q(u.lat,f)]}function ds(u,f,v,T){for(var x=[],V=0,J=u.length;V<J;V++)x.push(f?ds(u[V],Bi(u[V])?0:f-1,v,T):Wu(u[V],T));return!f&&v&&x.length>0&&x.push(x[0].slice()),x}function fa(u,f){return u.feature?G({},u.feature,{geometry:f}):So(f)}function So(u){return"Feature"===u.type||"FeatureCollection"===u.type?u:{type:"Feature",properties:{},geometry:u}}var Vs={toGeoJSON:function(u){return fa(this,{type:"Point",coordinates:Wu(this.getLatLng(),u)})}};function no(u,f){return new To(u,f)}ha.include(Vs),fr.include(Vs),Fs.include(Vs),er.include({toGeoJSON:function(u){var f=!Bi(this._latlngs);return fa(this,{type:(f?"Multi":"")+"LineString",coordinates:ds(this._latlngs,f?1:0,!1,u)})}}),Do.include({toGeoJSON:function(u){var f=!Bi(this._latlngs),v=f&&!Bi(this._latlngs[0]),T=ds(this._latlngs,v?2:f?1:0,!0,u);return f||(T=[T]),fa(this,{type:(v?"Multi":"")+"Polygon",coordinates:T})}}),gu.include({toMultiPoint:function(u){var f=[];return this.eachLayer(function(v){f.push(v.toGeoJSON(u).geometry.coordinates)}),fa(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(u){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===f)return this.toMultiPoint(u);var v="GeometryCollection"===f,T=[];return this.eachLayer(function(x){if(x.toGeoJSON){var V=x.toGeoJSON(u);if(v)T.push(V.geometry);else{var J=So(V);"FeatureCollection"===J.type?T.push.apply(T,J.features):T.push(J)}}}),v?fa(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});var qu=no,Bs=Xi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,f,v){this._url=u,this._bounds=ve(f),Oe(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Hn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&Oa(this._image),this},bringToBack:function(){return this._map&&wo(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=ve(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u="IMG"===this._url.tagName,f=this._image=u?this._url:_n("img");nn(f,"leaflet-image-layer"),this._zoomAnimated&&nn(f,"leaflet-zoom-animated"),this.options.className&&nn(f,this.options.className),f.onselectstart=ye,f.onmousemove=ye,f.onload=te(this.fire,this,"load"),f.onerror=te(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(f.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u?this._url=f.src:(f.src=this._url,f.alt=this.options.alt)},_animateZoom:function(u){var f=this._map.getZoomScale(u.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;as(this._image,v,f)},_reset:function(){var u=this._image,f=new on(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=f.getSize();ir(u,f.min),u.style.width=v.x+"px",u.style.height=v.y+"px"},_updateOpacity:function(){Fi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),Ku=Bs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u="VIDEO"===this._url.tagName,f=this._image=u?this._url:_n("video");if(nn(f,"leaflet-image-layer"),this._zoomAnimated&&nn(f,"leaflet-zoom-animated"),this.options.className&&nn(f,this.options.className),f.onselectstart=ye,f.onmousemove=ye,f.onloadeddata=te(this.fire,this,"load"),u){for(var v=f.getElementsByTagName("source"),T=[],x=0;x<v.length;x++)T.push(v[x].src);this._url=v.length>0?T:[f.src]}else{Je(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var V=0;V<this._url.length;V++){var J=_n("source");J.src=this._url[V],f.appendChild(J)}}}});var Yu=Bs.extend({_initImage:function(){var u=this._image=this._url;nn(u,"leaflet-image-layer"),this._zoomAnimated&&nn(u,"leaflet-zoom-animated"),this.options.className&&nn(u,this.options.className),u.onselectstart=ye,u.onmousemove=ye}});var ro=Xi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,f){u&&(u instanceof ce||Je(u))?(this._latlng=Ee(u),Oe(this,f)):(Oe(this,u),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(u){return(u=arguments.length?u:this._source._map).hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Fi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Fi(this._container,1),this.bringToFront(),this.options.interactive&&(nn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Fi(this._container,0),this._removeTimeout=setTimeout(te(Hn,void 0,this._container),200)):Hn(this._container),this.options.interactive&&(In(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=Ee(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Oa(this._container),this},bringToBack:function(){return this._map&&wo(this._container),this},_prepareOpen:function(u){var f=this._source;if(!f._map)return!1;if(f instanceof xr){f=null;var v=this._source._layers;for(var T in v)if(v[T]._map){f=v[T];break}if(!f)return!1;this._source=f}if(!u)if(f.getCenter)u=f.getCenter();else if(f.getLatLng)u=f.getLatLng();else{if(!f.getBounds)throw new Error("Unable to get source layer LatLng.");u=f.getBounds().getCenter()}return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,f="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof f)u.innerHTML=f;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),f=gt(this.options.offset),v=this._getAnchor();this._zoomAnimated?ir(this._container,u.add(v)):f=f.add(u).add(v);var T=this._containerBottom=-f.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=T+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});rt.include({_initOverlay:function(u,f,v,T){var x=f;return x instanceof u||(x=new u(T).setContent(f)),v&&x.setLatLng(v),x}}),Xi.include({_initOverlay:function(u,f,v,T){var x=v;return x instanceof u?(Oe(x,T),x._source=this):(x=f&&!T?f:new u(T,this)).setContent(v),x}});var hs=ro.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return!(u=arguments.length?u:this._source._map).hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,ro.prototype.openOn.call(this,u)},onAdd:function(u){ro.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ci||this._source.on("preclick",Vi))},onRemove:function(u){ro.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ci||this._source.off("preclick",Vi))},getEvents:function(){var u=ro.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",f=this._container=_n("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=_n("div",u+"-content-wrapper",f);if(this._contentNode=_n("div",u+"-content",v),ot(f),Jn(this._contentNode),xt(f,"contextmenu",Vi),this._tipContainer=_n("div",u+"-tip-container",f),this._tip=_n("div",u+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=_n("a",u+"-close-button",f);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',xt(T,"click",function(x){At(x),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,f=u.style;f.width="",f.whiteSpace="nowrap";var v=u.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),f.width=v+1+"px",f.whiteSpace="",f.height="";var x=this.options.maxHeight,V="leaflet-popup-scrolled";x&&u.offsetHeight>x?(f.height=x+"px",nn(u,V)):In(u,V),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var f=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),v=this._getAnchor();ir(this._container,f.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var u=this._map,f=parseInt(Ki(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+f,T=this._containerWidth,x=new Ct(this._containerLeft,-v-this._containerBottom);x._add(Lo(this._container));var V=u.layerPointToContainerPoint(x),J=gt(this.options.autoPanPadding),_e=gt(this.options.autoPanPaddingTopLeft||J),be=gt(this.options.autoPanPaddingBottomRight||J),Ge=u.getSize(),yt=0,Rt=0;V.x+T+be.x>Ge.x&&(yt=V.x+T-Ge.x+be.x),V.x-yt-_e.x<0&&(yt=V.x-_e.x),V.y+v+be.y>Ge.y&&(Rt=V.y+v-Ge.y+be.y),V.y-Rt-_e.y<0&&(Rt=V.y-_e.y),(yt||Rt)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([yt,Rt]))}},_getAnchor:function(){return gt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});rt.mergeOptions({closePopupOnClick:!0}),rt.include({openPopup:function(u,f,v){return this._initOverlay(hs,u,f,v).openOn(this),this},closePopup:function(u){return(u=arguments.length?u:this._popup)&&u.close(),this}}),Xi.include({bindPopup:function(u,f){return this._popup=this._initOverlay(hs,this._popup,u,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof xr||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(this._popup&&this._map){Pn(u);var f=u.layer||u.target;if(this._popup._source===f&&!(f instanceof ci))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng));this._popup._source=f,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){13===u.originalEvent.keyCode&&this._openPopup(u)}});var Us=ro.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){ro.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){ro.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=ro.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){this._contentNode=this._container=_n("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+ge(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var f,v,T=this._map,x=this._container,V=T.latLngToContainerPoint(T.getCenter()),J=T.layerPointToContainerPoint(u),_e=this.options.direction,be=x.offsetWidth,Ge=x.offsetHeight,yt=gt(this.options.offset),Rt=this._getAnchor();"top"===_e?(f=be/2,v=Ge):"bottom"===_e?(f=be/2,v=0):"center"===_e?(f=be/2,v=Ge/2):"right"===_e?(f=0,v=Ge/2):"left"===_e?(f=be,v=Ge/2):J.x<V.x?(_e="right",f=0,v=Ge/2):(_e="left",f=be+2*(yt.x+Rt.x),v=Ge/2),u=u.subtract(gt(f,v,!0)).add(yt).add(Rt),In(x,"leaflet-tooltip-right"),In(x,"leaflet-tooltip-left"),In(x,"leaflet-tooltip-top"),In(x,"leaflet-tooltip-bottom"),nn(x,"leaflet-tooltip-"+_e),ir(x,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Fi(this._container,u)},_animateZoom:function(u){var f=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(f)},_getAnchor:function(){return gt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});rt.include({openTooltip:function(u,f,v){return this._initOverlay(Us,u,f,v).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),Xi.include({bindTooltip:function(u,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Us,this._tooltip,u,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(u||!this._tooltipHandlersAdded){var f=u?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[f](v),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof xr||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var f="function"==typeof u.getElement&&u.getElement();f&&(xt(f,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),xt(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var f="function"==typeof u.getElement&&u.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;return void this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(u)})}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var v,T,f=u.latlng;this._tooltip.options.sticky&&u.originalEvent&&(v=this._map.mouseEventToContainerPoint(u.originalEvent),T=this._map.containerPointToLayerPoint(v),f=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(f)}});var Qu=Ji.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var f=u&&"DIV"===u.tagName?u:document.createElement("div"),v=this.options;if(v.html instanceof Element?(Kn(f),f.appendChild(v.html)):f.innerHTML=!1!==v.html?v.html:"",v.bgPos){var T=gt(v.bgPos);f.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});Ji.Default=_u;var js=Xi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:he.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){Oe(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),Hn(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Oa(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Ae(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof Ct?u:new Ct(u,u)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var V,f=this.getPane().children,v=-u(-1/0,1/0),T=0,x=f.length;T<x;T++)V=f[T].style.zIndex,f[T]!==this._container&&V&&(v=u(v,+V));isFinite(v)&&(this.options.zIndex=v+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!he.ielt9){Fi(this._container,this.options.opacity);var u=+new Date,f=!1,v=!1;for(var T in this._tiles){var x=this._tiles[T];if(x.current&&x.loaded){var V=Math.min(1,(u-x.loaded)/200);Fi(x.el,V),V<1?f=!0:(x.active?v=!0:this._onOpaqueTile(x),x.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),f&&(K(this._fadeFrame),this._fadeFrame=Be(this._updateOpacity,this))}},_onOpaqueTile:ye,_initContainer:function(){this._container||(this._container=_n("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,f=this.options.maxZoom;if(void 0!==u){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===u?(this._levels[v].el.style.zIndex=f-Math.abs(u-v),this._onUpdateLevel(v)):(Hn(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var T=this._levels[u],x=this._map;return T||((T=this._levels[u]={}).el=_n("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=f,T.origin=x.project(x.unproject(x.getPixelOrigin()),u).round(),T.zoom=u,this._setZoomTransform(T,x.getCenter(),x.getZoom()),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:ye,_onRemoveLevel:ye,_onCreateLevel:ye,_pruneTiles:function(){if(this._map){var u,f,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom)return void this._removeAllTiles();for(u in this._tiles)(f=this._tiles[u]).retain=f.current;for(u in this._tiles)if((f=this._tiles[u]).current&&!f.active){var T=f.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var f in this._tiles)this._tiles[f].coords.z===u&&this._removeTile(f)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)Hn(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,f,v,T){var x=Math.floor(u/2),V=Math.floor(f/2),J=v-1,_e=new Ct(+x,+V);_e.z=+J;var be=this._tileCoordsToKey(_e),Ge=this._tiles[be];return Ge&&Ge.active?(Ge.retain=!0,!0):(Ge&&Ge.loaded&&(Ge.retain=!0),J>T&&this._retainParent(x,V,J,T))},_retainChildren:function(u,f,v,T){for(var x=2*u;x<2*u+2;x++)for(var V=2*f;V<2*f+2;V++){var J=new Ct(x,V);J.z=v+1;var _e=this._tileCoordsToKey(J),be=this._tiles[_e];be&&be.active?be.retain=!0:(be&&be.loaded&&(be.retain=!0),v+1<T&&this._retainChildren(x,V,v+1,T))}},_resetView:function(u){var f=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var f=this.options;return void 0!==f.minNativeZoom&&u<f.minNativeZoom?f.minNativeZoom:void 0!==f.maxNativeZoom&&f.maxNativeZoom<u?f.maxNativeZoom:u},_setView:function(u,f,v,T){var x=Math.round(f);x=void 0!==this.options.maxZoom&&x>this.options.maxZoom||void 0!==this.options.minZoom&&x<this.options.minZoom?void 0:this._clampZoom(x),(!T||this.options.updateWhenZooming&&x!==this._tileZoom)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==x&&this._update(u),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(u,f)},_setZoomTransforms:function(u,f){for(var v in this._levels)this._setZoomTransform(this._levels[v],u,f)},_setZoomTransform:function(u,f,v){var T=this._map.getZoomScale(v,u.zoom),x=u.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(f,v)).round();he.any3d?as(u.el,x,T):ir(u.el,x)},_resetGrid:function(){var u=this._map,f=u.options.crs,v=this._tileSize=this.getTileSize(),T=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,f.wrapLng[0]],T).x/v.x),Math.ceil(u.project([0,f.wrapLng[1]],T).x/v.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([f.wrapLat[0],0],T).y/v.x),Math.ceil(u.project([f.wrapLat[1],0],T).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var f=this._map,v=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),T=f.getZoomScale(v,this._tileZoom),x=f.project(u,this._tileZoom).floor(),V=f.getSize().divideBy(2*T);return new on(x.subtract(V),x.add(V))},_update:function(u){var f=this._map;if(f){var v=this._clampZoom(f.getZoom());if(void 0===u&&(u=f.getCenter()),void 0!==this._tileZoom){var T=this._getTiledPixelBounds(u),x=this._pxBoundsToTileRange(T),V=x.getCenter(),J=[],_e=this.options.keepBuffer,be=new on(x.getBottomLeft().subtract([_e,-_e]),x.getTopRight().add([_e,-_e]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ge in this._tiles){var yt=this._tiles[Ge].coords;(yt.z!==this._tileZoom||!be.contains(new Ct(yt.x,yt.y)))&&(this._tiles[Ge].current=!1)}if(Math.abs(v-this._tileZoom)>1)return void this._setView(u,v);for(var Rt=x.min.y;Rt<=x.max.y;Rt++)for(var gn=x.min.x;gn<=x.max.x;gn++){var Mn=new Ct(gn,Rt);if(Mn.z=this._tileZoom,this._isValidTile(Mn)){var ur=this._tiles[this._tileCoordsToKey(Mn)];ur?ur.current=!0:J.push(Mn)}}if(J.sort(function(St,Go){return St.distanceTo(V)-Go.distanceTo(V)}),0!==J.length){this._loading||(this._loading=!0,this.fire("loading"));var Mi=document.createDocumentFragment();for(gn=0;gn<J.length;gn++)this._addTile(J[gn],Mi);this._level.el.appendChild(Mi)}}}},_isValidTile:function(u){var f=this._map.options.crs;if(!f.infinite){var v=this._globalTileRange;if(!f.wrapLng&&(u.x<v.min.x||u.x>v.max.x)||!f.wrapLat&&(u.y<v.min.y||u.y>v.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(u);return ve(this.options.bounds).overlaps(T)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var f=this._map,v=this.getTileSize(),T=u.scaleBy(v),x=T.add(v);return[f.unproject(T,u.z),f.unproject(x,u.z)]},_tileCoordsToBounds:function(u){var f=this._tileCoordsToNwSe(u),v=new Ce(f[0],f[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var f=u.split(":"),v=new Ct(+f[0],+f[1]);return v.z=+f[2],v},_removeTile:function(u){var f=this._tiles[u];f&&(Hn(f.el),delete this._tiles[u],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){nn(u,"leaflet-tile");var f=this.getTileSize();u.style.width=f.x+"px",u.style.height=f.y+"px",u.onselectstart=ye,u.onmousemove=ye,he.ielt9&&this.options.opacity<1&&Fi(u,this.options.opacity)},_addTile:function(u,f){var v=this._getTilePos(u),T=this._tileCoordsToKey(u),x=this.createTile(this._wrapCoords(u),te(this._tileReady,this,u));this._initTile(x),this.createTile.length<2&&Be(te(this._tileReady,this,u,null,x)),ir(x,v),this._tiles[T]={el:x,coords:u,current:!0},f.appendChild(x),this.fire("tileloadstart",{tile:x,coords:u})},_tileReady:function(u,f,v){f&&this.fire("tileerror",{error:f,tile:v,coords:u});var T=this._tileCoordsToKey(u);(v=this._tiles[T])&&(v.loaded=+new Date,this._map._fadeAnimated?(Fi(v.el,0),K(this._fadeFrame),this._fadeFrame=Be(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),f||(nn(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),he.ielt9||!this._map._fadeAnimated?Be(this._pruneTiles,this):setTimeout(te(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var f=new Ct(this._wrapX?Re(u.x,this._wrapX):u.x,this._wrapY?Re(u.y,this._wrapY):u.y);return f.z=u.z,f},_pxBoundsToTileRange:function(u){var f=this.getTileSize();return new on(u.min.unscaleBy(f).floor(),u.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});var $o=js.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,f){this._url=u,(f=Oe(this,f)).detectRetina&&he.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),"string"==typeof f.subdomains&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,f){return this._url===u&&void 0===f&&(f=!0),this._url=u,f||this.redraw(),this},createTile:function(u,f){var v=document.createElement("img");return xt(v,"load",te(this._tileOnLoad,this,f,v)),xt(v,"error",te(this._tileOnError,this,f,v)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(v.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(u),v},getTileUrl:function(u){var f={r:he.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-u.y;this.options.tms&&(f.y=v),f["-y"]=v}return He(this._url,G(f,this.options))},_tileOnLoad:function(u,f){he.ielt9?setTimeout(te(u,this,null,f),0):u(null,f)},_tileOnError:function(u,f,v){var T=this.options.errorTileUrl;T&&f.getAttribute("src")!==T&&(f.src=T),u(v,f)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom;return this.options.zoomReverse&&(u=this.options.maxZoom-u),u+this.options.zoomOffset},_getSubdomain:function(u){var f=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var u,f;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&((f=this._tiles[u].el).onload=ye,f.onerror=ye,!f.complete)){f.src=Et;var v=this._tiles[u].coords;Hn(f),delete this._tiles[u],this.fire("tileabort",{tile:f,coords:v})}},_removeTile:function(u){var f=this._tiles[u];if(f)return f.el.setAttribute("src",Et),js.prototype._removeTile.call(this,u)},_tileReady:function(u,f,v){if(this._map&&(!v||v.getAttribute("src")!==Et))return js.prototype._tileReady.call(this,u,f,v)}});function pa(u,f){return new $o(u,f)}var Ql=$o.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,f){this._url=u;var v=G({},this.defaultWmsParams);for(var T in f)T in this.options||(v[T]=f[T]);var x=(f=Oe(this,f)).detectRetina&&he.retina?2:1,V=this.getTileSize();v.width=V.x*x,v.height=V.y*x,this.wmsParams=v},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,$o.prototype.onAdd.call(this,u)},getTileUrl:function(u){var f=this._tileCoordsToNwSe(u),v=this._crs,T=pe(v.project(f[0]),v.project(f[1])),x=T.min,V=T.max,J=(this._wmsVersion>=1.3&&this._crs===Wc?[x.y,x.x,V.y,V.x]:[x.x,x.y,V.x,V.y]).join(","),_e=$o.prototype.getTileUrl.call(this,u);return _e+$e(this.wmsParams,_e,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+J},setParams:function(u,f){return G(this.wmsParams,u),f||this.redraw(),this}});$o.WMS=Ql,pa.wms=function Xu(u,f){return new Ql(u,f)};var Ho=Xi.extend({options:{padding:.1},initialize:function(u){Oe(this,u),ge(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,f){var v=this._map.getZoomScale(f,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,f),V=T.multiplyBy(-v).add(x).subtract(this._map._getNewPixelOrigin(u,f));he.any3d?as(this._container,V,v):ir(this._container,V)},_reset:function(){for(var u in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,f=this._map.getSize(),v=this._map.containerPointToLayerPoint(f.multiplyBy(-u)).round();this._bounds=new on(v,v.add(f.multiplyBy(1+2*u)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Cu=Ho.extend({options:{tolerance:0},getEvents:function(){var u=Ho.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ho.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");xt(u,"mousemove",this._onMouseMove,this),xt(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),xt(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,Hn(this._container),Jt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var f in this._redrawBounds=null,this._layers)this._layers[f]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ho.prototype._update.call(this);var u=this._bounds,f=this._container,v=u.getSize(),T=he.retina?2:1;ir(f,u.min),f.width=T*v.x,f.height=T*v.y,f.style.width=v.x+"px",f.style.height=v.y+"px",he.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){Ho.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[ge(u)]=u;var f=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var f=u._order,v=f.next,T=f.prev;v?v.prev=T:this._drawLast=T,T?T.next=v:this._drawFirst=v,delete u._order,delete this._layers[ge(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if("string"==typeof u.options.dashArray){var T,x,f=u.options.dashArray.split(/[, ]+/),v=[];for(x=0;x<f.length;x++){if(T=Number(f[x]),isNaN(T))return;v.push(T)}u.options._dashArray=v}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||Be(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var f=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new on,this._redrawBounds.extend(u._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(u._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var f=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,f=this._redrawBounds;if(this._ctx.save(),f){var v=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)u=T.layer,(!f||u._pxBounds&&u._pxBounds.intersects(f))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,f){if(this._drawing){var v,T,x,V,J=u._parts,_e=J.length,be=this._ctx;if(_e){for(be.beginPath(),v=0;v<_e;v++){for(T=0,x=J[v].length;T<x;T++)be[T?"lineTo":"moveTo"]((V=J[v][T]).x,V.y);f&&be.closePath()}this._fillStroke(be,u)}}},_updateCircle:function(u){if(this._drawing&&!u._empty()){var f=u._point,v=this._ctx,T=Math.max(Math.round(u._radius),1),x=(Math.max(Math.round(u._radiusY),1)||T)/T;1!==x&&(v.save(),v.scale(1,x)),v.beginPath(),v.arc(f.x,f.y/x,T,0,2*Math.PI,!1),1!==x&&v.restore(),this._fillStroke(v,u)}},_fillStroke:function(u,f){var v=f.options;v.fill&&(u.globalAlpha=v.fillOpacity,u.fillStyle=v.fillColor||v.color,u.fill(v.fillRule||"evenodd")),v.stroke&&0!==v.weight&&(u.setLineDash&&u.setLineDash(f.options&&f.options._dashArray||[]),u.globalAlpha=v.opacity,u.lineWidth=v.weight,u.strokeStyle=v.color,u.lineCap=v.lineCap,u.lineJoin=v.lineJoin,u.stroke())},_onClick:function(u){for(var v,T,f=this._map.mouseEventToLayerPoint(u),x=this._drawFirst;x;x=x.next)(v=x.layer).options.interactive&&v._containsPoint(f)&&("click"!==u.type&&"preclick"!==u.type||!this._map._draggableMoved(v))&&(T=v);this._fireEvent(!!T&&[T],u)},_onMouseMove:function(u){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var f=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,f)}},_handleMouseOut:function(u){var f=this._hoveredLayer;f&&(In(this._container,"leaflet-interactive"),this._fireEvent([f],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,f){if(!this._mouseHoverThrottled){for(var v,T,x=this._drawFirst;x;x=x.next)(v=x.layer).options.interactive&&v._containsPoint(f)&&(T=v);T!==this._hoveredLayer&&(this._handleMouseOut(u),T&&(nn(this._container,"leaflet-interactive"),this._fireEvent([T],u,"mouseover"),this._hoveredLayer=T)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],u),this._mouseHoverThrottled=!0,setTimeout(te(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,f,v){this._map._fireDOMEvent(f,v||f.type,u)},_bringToFront:function(u){var f=u._order;if(f){var v=f.next,T=f.prev;if(!v)return;v.prev=T,T?T.next=v:v&&(this._drawFirst=v),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(u)}},_bringToBack:function(u){var f=u._order;if(f){var v=f.next,T=f.prev;if(!T)return;T.next=v,v?v.prev=T:T&&(this._drawLast=T),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(u)}}});function Xl(u){return he.canvas?new Cu(u):null}var zs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Jl={_initContainer:function(){this._container=_n("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ho.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var f=u._container=zs("shape");nn(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",u._path=zs("path"),f.appendChild(u._path),this._updateStyle(u),this._layers[ge(u)]=u},_addPath:function(u){var f=u._container;this._container.appendChild(f),u.options.interactive&&u.addInteractiveTarget(f)},_removePath:function(u){var f=u._container;Hn(f),u.removeInteractiveTarget(f),delete this._layers[ge(u)]},_updateStyle:function(u){var f=u._stroke,v=u._fill,T=u.options,x=u._container;x.stroked=!!T.stroke,x.filled=!!T.fill,T.stroke?(f||(f=u._stroke=zs("stroke")),x.appendChild(f),f.weight=T.weight+"px",f.color=T.color,f.opacity=T.opacity,f.dashStyle=T.dashArray?Je(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):"",f.endcap=T.lineCap.replace("butt","flat"),f.joinstyle=T.lineJoin):f&&(x.removeChild(f),u._stroke=null),T.fill?(v||(v=u._fill=zs("fill")),x.appendChild(v),v.color=T.fillColor||T.color,v.opacity=T.fillOpacity):v&&(x.removeChild(v),u._fill=null)},_updateCircle:function(u){var f=u._point.round(),v=Math.round(u._radius),T=Math.round(u._radiusY||v);this._setPath(u,u._empty()?"M0 0":"AL "+f.x+","+f.y+" "+v+","+T+" 0,23592600")},_setPath:function(u,f){u._path.v=f},_bringToFront:function(u){Oa(u._container)},_bringToBack:function(u){wo(u._container)}},$s=he.vml?zs:qn,Zo=Ho.extend({_initContainer:function(){this._container=$s("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$s("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Hn(this._container),Jt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ho.prototype._update.call(this);var u=this._bounds,f=u.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,v.setAttribute("width",f.x),v.setAttribute("height",f.y)),ir(v,u.min),v.setAttribute("viewBox",[u.min.x,u.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(u){var f=u._path=$s("path");u.options.className&&nn(f,u.options.className),u.options.interactive&&nn(f,"leaflet-interactive"),this._updateStyle(u),this._layers[ge(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){Hn(u._path),u.removeInteractiveTarget(u._path),delete this._layers[ge(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var f=u._path,v=u.options;f&&(v.stroke?(f.setAttribute("stroke",v.color),f.setAttribute("stroke-opacity",v.opacity),f.setAttribute("stroke-width",v.weight),f.setAttribute("stroke-linecap",v.lineCap),f.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?f.setAttribute("stroke-dasharray",v.dashArray):f.removeAttribute("stroke-dasharray"),v.dashOffset?f.setAttribute("stroke-dashoffset",v.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),v.fill?(f.setAttribute("fill",v.fillColor||v.color),f.setAttribute("fill-opacity",v.fillOpacity),f.setAttribute("fill-rule",v.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(u,f){this._setPath(u,zn(u._parts,f))},_updateCircle:function(u){var f=u._point,v=Math.max(Math.round(u._radius),1),x="a"+v+","+(Math.max(Math.round(u._radiusY),1)||v)+" 0 1,0 ",V=u._empty()?"M0 0":"M"+(f.x-v)+","+f.y+x+2*v+",0 "+x+2*-v+",0 ";this._setPath(u,V)},_setPath:function(u,f){u._path.setAttribute("d",f)},_bringToFront:function(u){Oa(u._path)},_bringToBack:function(u){wo(u._path)}});function ja(u){return he.svg||he.vml?new Zo(u):null}he.vml&&Zo.include(Jl),rt.include({getRenderer:function(u){var f=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(u){if("overlayPane"===u||void 0===u)return!1;var f=this._paneRenderers[u];return void 0===f&&(f=this._createRenderer({pane:u}),this._paneRenderers[u]=f),f},_createRenderer:function(u){return this.options.preferCanvas&&Xl(u)||ja(u)}});var Ui=Do.extend({initialize:function(u,f){Do.prototype.initialize.call(this,this._boundsToLatLngs(u),f)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return[(u=ve(u)).getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});Zo.create=$s,Zo.pointsToPath=zn,To.geometryToLayer=to,To.coordsToLatLng=vu,To.coordsToLatLngs=ar,To.latLngToCoords=Wu,To.latLngsToCoords=ds,To.getFeature=fa,To.asFeature=So,rt.mergeOptions({boxZoom:!0});var ma=hr.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){xt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Jt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Hn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||1!==u.which&&1!==u.button)return!1;this._clearDeferredResetState(),this._resetState(),uu(),oa(),this._startPoint=this._map.mouseEventToContainerPoint(u),xt(document,{contextmenu:Pn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=_n("div","leaflet-zoom-box",this._container),nn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var f=new on(this._point,this._startPoint),v=f.getSize();ir(this._box,f.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(Hn(this._box),In(this._container,"leaflet-crosshair")),Rr(),Ra(),Jt(document,{contextmenu:Pn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if((1===u.which||1===u.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(te(this._resetState,this),0);var f=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(u){27===u.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});rt.addInitHook("addHandler","boxZoom",ma),rt.mergeOptions({doubleClickZoom:!0});var Ju=hr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var f=this._map,v=f.getZoom(),T=f.options.zoomDelta,x=u.originalEvent.shiftKey?v-T:v+T;"center"===f.options.doubleClickZoom?f.setZoom(x):f.setZoomAround(u.containerPoint,x)}});rt.addInitHook("addHandler","doubleClickZoom",Ju),rt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _a=hr.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new Io(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}nn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){In(this._map._container,"leaflet-grab"),In(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=ve(this._map.options.maxBounds);this._offsetLimit=pe(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var f=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(f),this._prunePositions(f)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,f){return u-(u-f)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var u=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;u.x<f.min.x&&(u.x=this._viscousLimit(u.x,f.min.x)),u.y<f.min.y&&(u.y=this._viscousLimit(u.y,f.min.y)),u.x>f.max.x&&(u.x=this._viscousLimit(u.x,f.max.x)),u.y>f.max.y&&(u.y=this._viscousLimit(u.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,f=Math.round(u/2),v=this._initialWorldOffset,T=this._draggable._newPos.x,x=(T-f+v)%u+f-v,V=(T+f+v)%u-f-v,J=Math.abs(x+v)<Math.abs(V+v)?x:V;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=J},_onDragEnd:function(u){var f=this._map,v=f.options,T=!v.inertia||u.noInertia||this._times.length<2;if(f.fire("dragend",u),T)f.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),J=v.easeLinearity,_e=x.multiplyBy(J/((this._lastTime-this._times[0])/1e3)),be=_e.distanceTo([0,0]),Ge=Math.min(v.inertiaMaxSpeed,be),yt=_e.multiplyBy(Ge/be),Rt=Ge/(v.inertiaDeceleration*J),gn=yt.multiplyBy(-Rt/2).round();gn.x||gn.y?(gn=f._limitOffset(gn,f.options.maxBounds),Be(function(){f.panBy(gn,{duration:Rt,easeLinearity:J,noMoveStart:!0,animate:!0})})):f.fire("moveend")}}});rt.addInitHook("addHandler","dragging",_a),rt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ed=hr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),xt(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Jt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,f=document.documentElement,v=u.scrollTop||f.scrollTop,T=u.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(T,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var T,x,f=this._panKeys={},v=this.keyCodes;for(T=0,x=v.left.length;T<x;T++)f[v.left[T]]=[-1*u,0];for(T=0,x=v.right.length;T<x;T++)f[v.right[T]]=[u,0];for(T=0,x=v.down.length;T<x;T++)f[v.down[T]]=[0,u];for(T=0,x=v.up.length;T<x;T++)f[v.up[T]]=[0,-1*u]},_setZoomDelta:function(u){var T,x,f=this._zoomKeys={},v=this.keyCodes;for(T=0,x=v.zoomIn.length;T<x;T++)f[v.zoomIn[T]]=u;for(T=0,x=v.zoomOut.length;T<x;T++)f[v.zoomOut[T]]=-u},_addHooks:function(){xt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Jt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var T,f=u.keyCode,v=this._map;if(f in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(T=this._panKeys[f],u.shiftKey&&(T=gt(T).multiplyBy(3)),v.options.maxBounds&&(T=v._limitOffset(gt(T),v.options.maxBounds)),v.options.worldCopyJump){var x=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(T)));v.panTo(x)}else v.panBy(T)}else if(f in this._zoomKeys)v.setZoom(v.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[f]);else{if(27!==f||!v._popup||!v._popup.options.closeOnEscapeKey)return;v.closePopup()}Pn(u)}}});rt.addInitHook("addHandler","keyboard",ed),rt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ai=hr.extend({addHooks:function(){xt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Jt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var f=us(u),v=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var T=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(te(this._performZoom,this),T),Pn(u)},_performZoom:function(){var u=this._map,f=u.getZoom(),v=this._map.options.zoomSnap||0;u._stop();var x=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,V=v?Math.ceil(x/v)*v:x,J=u._limitZoom(f+(this._delta>0?V:-V))-f;this._delta=0,this._startTime=null,J&&("center"===u.options.scrollWheelZoom?u.setZoom(f+J):u.setZoomAround(this._lastMousePos,f+J))}});rt.addInitHook("addHandler","scrollWheelZoom",Ai);rt.mergeOptions({tapHold:he.touchNative&&he.safari&&he.mobile,tapTolerance:15});var za=hr.extend({addHooks:function(){xt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Jt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),1===u.touches.length){var f=u.touches[0];this._startPos=this._newPos=new Ct(f.clientX,f.clientY),this._holdTimeout=setTimeout(te(function(){this._cancel(),this._isTapValid()&&(xt(document,"touchend",At),xt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),600),xt(document,"touchend touchcancel contextmenu",this._cancel,this),xt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){Jt(document,"touchend",At),Jt(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),Jt(document,"touchend touchcancel contextmenu",this._cancel,this),Jt(document,"touchmove",this._onMove,this)},_onMove:function(u){var f=u.touches[0];this._newPos=new Ct(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,f){var v=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});v._simulated=!0,f.target.dispatchEvent(v)}});rt.addInitHook("addHandler","tapHold",za),rt.mergeOptions({touchZoom:he.touch,bounceAtZoomLimits:!0});var On=hr.extend({addHooks:function(){nn(this._map._container,"leaflet-touch-zoom"),xt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){In(this._map._container,"leaflet-touch-zoom"),Jt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var f=this._map;if(u.touches&&2===u.touches.length&&!f._animatingZoom&&!this._zooming){var v=f.mouseEventToContainerPoint(u.touches[0]),T=f.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),"center"!==f.options.touchZoom&&(this._pinchStartLatLng=f.containerPointToLatLng(v.add(T)._divideBy(2))),this._startDist=v.distanceTo(T),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),xt(document,"touchmove",this._onTouchMove,this),xt(document,"touchend touchcancel",this._onTouchEnd,this),At(u)}},_onTouchMove:function(u){if(u.touches&&2===u.touches.length&&this._zooming){var f=this._map,v=f.mouseEventToContainerPoint(u.touches[0]),T=f.mouseEventToContainerPoint(u.touches[1]),x=v.distanceTo(T)/this._startDist;if(this._zoom=f.getScaleZoom(x,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&x<1||this._zoom>f.getMaxZoom()&&x>1)&&(this._zoom=f._limitZoom(this._zoom)),"center"===f.options.touchZoom){if(this._center=this._startLatLng,1===x)return}else{var V=v._add(T)._divideBy(2)._subtract(this._centerPoint);if(1===x&&0===V.x&&0===V.y)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(V),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var J=te(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Be(J,this,!0),At(u)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,K(this._animRequest),Jt(document,"touchmove",this._onTouchMove,this),Jt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});rt.addInitHook("addHandler","touchZoom",On),rt.BoxZoom=ma,rt.DoubleClickZoom=Ju,rt.Drag=_a,rt.Keyboard=ed,rt.ScrollWheelZoom=Ai,rt.TapHold=za,rt.TouchZoom=On,k.Bounds=on,k.Browser=he,k.CRS=qe,k.Canvas=Cu,k.Circle=fr,k.CircleMarker=Fs,k.Class=Ke,k.Control=Qi,k.DivIcon=Qu,k.DivOverlay=ro,k.DomEvent=Bo,k.DomUtil=Mr,k.Draggable=Io,k.Evented=Rn,k.FeatureGroup=xr,k.GeoJSON=To,k.GridLayer=js,k.Handler=hr,k.Icon=Ji,k.ImageOverlay=Bs,k.LatLng=ce,k.LatLngBounds=Ce,k.Layer=Xi,k.LayerGroup=gu,k.LineUtil=Hu,k.Map=rt,k.Marker=ha,k.Mixin=pn,k.Path=ci,k.Point=Ct,k.PolyUtil=cs,k.Polygon=Do,k.Polyline=er,k.Popup=hs,k.PosAnimation=Uo,k.Projection=ql,k.Rectangle=Ui,k.Renderer=Ho,k.SVG=Zo,k.SVGOverlay=Yu,k.TileLayer=$o,k.Tooltip=Us,k.Transformation=Ft,k.Util=je,k.VideoOverlay=Ku,k.bind=te,k.bounds=pe,k.canvas=Xl,k.circle=function Va(u,f,v){return new fr(u,f,v)},k.circleMarker=function eo(u,f){return new Fs(u,f)},k.control=Zr,k.divIcon=function wu(u){return new Qu(u)},k.extend=G,k.featureGroup=function(u,f){return new xr(u,f)},k.geoJSON=no,k.geoJson=qu,k.gridLayer=function Qc(u){return new js(u)},k.icon=function da(u){return new Ji(u)},k.imageOverlay=function(u,f,v){return new Bs(u,f,v)},k.latLng=Ee,k.latLngBounds=ve,k.layerGroup=function(u,f){return new gu(u,f)},k.map=function Yi(u,f){return new rt(u,f)},k.marker=function zo(u,f){return new ha(u,f)},k.point=gt,k.polygon=function Gu(u,f){return new Do(u,f)},k.polyline=function Ba(u,f){return new er(u,f)},k.popup=function(u,f){return new hs(u,f)},k.rectangle=function ga(u,f){return new Ui(u,f)},k.setOptions=Oe,k.stamp=ge,k.svg=ja,k.svgOverlay=function Yl(u,f,v){return new Yu(u,f,v)},k.tileLayer=pa,k.tooltip=function(u,f){return new Us(u,f)},k.transformation=sn,k.version="1.9.4",k.videoOverlay=function ch(u,f,v){return new Ku(u,f,v)};var $a=window.L;k.noConflict=function(){return window.L=$a,this},window.L=k}(Fe)},5619:(Tt,Fe,k)=>{"use strict";k.d(Fe,{X:()=>G});var p=k(8645);class G extends p.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const me=super._subscribe(te);return!me.closed&&te.next(this._value),me}getValue(){const{hasError:te,thrownError:me,_value:ge}=this;if(te)throw me;return this._throwIfClosed(),ge}next(te){super.next(this._value=te)}}},5592:(Tt,Fe,k)=>{"use strict";k.d(Fe,{y:()=>Re});var p=k(305),G=k(7394),B=k(4850),te=k(8407),me=k(2653),ge=k(4674),Ae=k(1441);let Re=(()=>{class le{constructor($e){$e&&(this._subscribe=$e)}lift($e){const ut=new le;return ut.source=this,ut.operator=$e,ut}subscribe($e,ut,He){const Je=function X(le){return le&&le instanceof p.Lv||function q(le){return le&&(0,ge.m)(le.next)&&(0,ge.m)(le.error)&&(0,ge.m)(le.complete)}(le)&&(0,G.Nn)(le)}($e)?$e:new p.Hp($e,ut,He);return(0,Ae.x)(()=>{const{operator:Ue,source:Et}=this;Je.add(Ue?Ue.call(Je,Et):Et?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe($e){try{return this._subscribe($e)}catch(ut){$e.error(ut)}}forEach($e,ut){return new(ut=ye(ut))((He,Je)=>{const Ue=new p.Hp({next:Et=>{try{$e(Et)}catch(vt){Je(vt),Ue.unsubscribe()}},error:Je,complete:He});this.subscribe(Ue)})}_subscribe($e){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe($e)}[B.L](){return this}pipe(...$e){return(0,te.U)($e)(this)}toPromise($e){return new($e=ye($e))((ut,He)=>{let Je;this.subscribe(Ue=>Je=Ue,Ue=>He(Ue),()=>ut(Je))})}}return le.create=Oe=>new le(Oe),le})();function ye(le){var Oe;return null!==(Oe=le??me.config.Promise)&&void 0!==Oe?Oe:Promise}},8645:(Tt,Fe,k)=>{"use strict";k.d(Fe,{x:()=>Ae});var p=k(5592),G=k(7394);const te=(0,k(2306).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=k(9039),ge=k(1441);let Ae=(()=>{class ye extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const le=new Re(this,this);return le.operator=X,le}_throwIfClosed(){if(this.closed)throw new te}next(X){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const le of this.currentObservers)le.next(X)}})}error(X){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:le}=this;for(;le.length;)le.shift().error(X)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:le,isStopped:Oe,observers:$e}=this;return le||Oe?G.Lc:(this.currentObservers=null,$e.push(X),new G.w0(()=>{this.currentObservers=null,(0,me.P)($e,X)}))}_checkFinalizedStatuses(X){const{hasError:le,thrownError:Oe,isStopped:$e}=this;le?X.error(Oe):$e&&X.complete()}asObservable(){const X=new p.y;return X.source=this,X}}return ye.create=(q,X)=>new Re(q,X),ye})();class Re extends Ae{constructor(q,X){super(),this.destination=q,this.source=X}next(q){var X,le;null===(le=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===le||le.call(X,q)}error(q){var X,le;null===(le=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===le||le.call(X,q)}complete(){var q,X;null===(X=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===X||X.call(q)}_subscribe(q){var X,le;return null!==(le=null===(X=this.source)||void 0===X?void 0:X.subscribe(q))&&void 0!==le?le:G.Lc}}},305:(Tt,Fe,k)=>{"use strict";k.d(Fe,{Hp:()=>He,Lv:()=>le});var p=k(4674),G=k(7394),B=k(2653),te=k(3894),me=k(2420);const ge=ye("C",void 0,void 0);function ye(fe,ke,we){return{kind:fe,value:ke,error:we}}var q=k(7599),X=k(1441);class le extends G.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,G.Nn)(ke)&&ke.add(this)):this.destination=vt}static create(ke,we,Pe){return new He(ke,we,Pe)}next(ke){this.isStopped?Et(function Re(fe){return ye("N",fe,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?Et(function Ae(fe){return ye("E",void 0,fe)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?Et(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function $e(fe,ke){return Oe.call(fe,ke)}class ut{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:we}=this;if(we.next)try{we.next(ke)}catch(Pe){Je(Pe)}}error(ke){const{partialObserver:we}=this;if(we.error)try{we.error(ke)}catch(Pe){Je(Pe)}else Je(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(we){Je(we)}}}class He extends le{constructor(ke,we,Pe){let Be;if(super(),(0,p.m)(ke)||!ke)Be={next:ke??void 0,error:we??void 0,complete:Pe??void 0};else{let K;this&&B.config.useDeprecatedNextContext?(K=Object.create(ke),K.unsubscribe=()=>this.unsubscribe(),Be={next:ke.next&&$e(ke.next,K),error:ke.error&&$e(ke.error,K),complete:ke.complete&&$e(ke.complete,K)}):Be=ke}this.destination=new ut(Be)}}function Je(fe){B.config.useDeprecatedSynchronousErrorHandling?(0,X.O)(fe):(0,te.h)(fe)}function Et(fe,ke){const{onStoppedNotification:we}=B.config;we&&q.z.setTimeout(()=>we(fe,ke))}const vt={closed:!0,next:me.Z,error:function Ue(fe){throw fe},complete:me.Z}},7394:(Tt,Fe,k)=>{"use strict";k.d(Fe,{Lc:()=>ge,w0:()=>me,Nn:()=>Ae});var p=k(4674);const B=(0,k(2306).d)(ye=>function(X){ye(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((le,Oe)=>`${Oe+1}) ${le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var te=k(9039);class me{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const $e of X)$e.remove(this);else X.remove(this);const{initialTeardown:le}=this;if((0,p.m)(le))try{le()}catch($e){q=$e instanceof B?$e.errors:[$e]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const $e of Oe)try{Re($e)}catch(ut){q=q??[],ut instanceof B?q=[...q,...ut.errors]:q.push(ut)}}if(q)throw new B(q)}}add(q){var X;if(q&&q!==this)if(this.closed)Re(q);else{if(q instanceof me){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(q)}}_hasParent(q){const{_parentage:X}=this;return X===q||Array.isArray(X)&&X.includes(q)}_addParent(q){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(q),X):X?[X,q]:q}_removeParent(q){const{_parentage:X}=this;X===q?this._parentage=null:Array.isArray(X)&&(0,te.P)(X,q)}remove(q){const{_finalizers:X}=this;X&&(0,te.P)(X,q),q instanceof me&&q._removeParent(this)}}me.EMPTY=(()=>{const ye=new me;return ye.closed=!0,ye})();const ge=me.EMPTY;function Ae(ye){return ye instanceof me||ye&&"closed"in ye&&(0,p.m)(ye.remove)&&(0,p.m)(ye.add)&&(0,p.m)(ye.unsubscribe)}function Re(ye){(0,p.m)(ye)?ye():ye.unsubscribe()}},2653:(Tt,Fe,k)=>{"use strict";k.d(Fe,{config:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Tt,Fe,k)=>{"use strict";k.d(Fe,{E:()=>G});const G=new(k(5592).y)(me=>me.complete())},2459:(Tt,Fe,k)=>{"use strict";k.d(Fe,{D:()=>ke});var p=k(4829),G=k(3093),B=k(5137),ge=k(5592),Re=k(4971),ye=k(4674),q=k(7103);function le(we,Pe){if(!we)throw new Error("Iterable cannot be null");return new ge.y(Be=>{(0,q.f)(Be,Pe,()=>{const K=we[Symbol.asyncIterator]();(0,q.f)(Be,Pe,()=>{K.next().then(je=>{je.done?Be.complete():Be.next(je.value)})},0,!0)})})}var Oe=k(8382),$e=k(4026),ut=k(4266),He=k(3664),Je=k(5726),Ue=k(9853),Et=k(541);function ke(we,Pe){return Pe?function fe(we,Pe){if(null!=we){if((0,Oe.c)(we))return function te(we,Pe){return(0,p.Xf)(we).pipe((0,B.R)(Pe),(0,G.Q)(Pe))}(we,Pe);if((0,ut.z)(we))return function Ae(we,Pe){return new ge.y(Be=>{let K=0;return Pe.schedule(function(){K===we.length?Be.complete():(Be.next(we[K++]),Be.closed||this.schedule())})})}(we,Pe);if((0,$e.t)(we))return function me(we,Pe){return(0,p.Xf)(we).pipe((0,B.R)(Pe),(0,G.Q)(Pe))}(we,Pe);if((0,Je.D)(we))return le(we,Pe);if((0,He.T)(we))return function X(we,Pe){return new ge.y(Be=>{let K;return(0,q.f)(Be,Pe,()=>{K=we[Re.h](),(0,q.f)(Be,Pe,()=>{let je,Ke;try{({value:je,done:Ke}=K.next())}catch(Pt){return void Be.error(Pt)}Ke?Be.complete():Be.next(je)},0,!0)}),()=>(0,ye.m)(K?.return)&&K.return()})}(we,Pe);if((0,Et.L)(we))return function vt(we,Pe){return le((0,Et.Q)(we),Pe)}(we,Pe)}throw(0,Ue.z)(we)}(we,Pe):(0,p.Xf)(we)}},4829:(Tt,Fe,k)=>{"use strict";k.d(Fe,{Xf:()=>Oe});var p=k(7582),G=k(4266),B=k(4026),te=k(5592),me=k(8382),ge=k(5726),Ae=k(9853),Re=k(3664),ye=k(541),q=k(4674),X=k(3894),le=k(4850);function Oe(fe){if(fe instanceof te.y)return fe;if(null!=fe){if((0,me.c)(fe))return function $e(fe){return new te.y(ke=>{const we=fe[le.L]();if((0,q.m)(we.subscribe))return we.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(fe);if((0,G.z)(fe))return function ut(fe){return new te.y(ke=>{for(let we=0;we<fe.length&&!ke.closed;we++)ke.next(fe[we]);ke.complete()})}(fe);if((0,B.t)(fe))return function He(fe){return new te.y(ke=>{fe.then(we=>{ke.closed||(ke.next(we),ke.complete())},we=>ke.error(we)).then(null,X.h)})}(fe);if((0,ge.D)(fe))return Ue(fe);if((0,Re.T)(fe))return function Je(fe){return new te.y(ke=>{for(const we of fe)if(ke.next(we),ke.closed)return;ke.complete()})}(fe);if((0,ye.L)(fe))return function Et(fe){return Ue((0,ye.Q)(fe))}(fe)}throw(0,Ae.z)(fe)}function Ue(fe){return new te.y(ke=>{(function vt(fe,ke){var we,Pe,Be,K;return(0,p.mG)(this,void 0,void 0,function*(){try{for(we=(0,p.KL)(fe);!(Pe=yield we.next()).done;)if(ke.next(Pe.value),ke.closed)return}catch(je){Be={error:je}}finally{try{Pe&&!Pe.done&&(K=we.return)&&(yield K.call(we))}finally{if(Be)throw Be.error}}ke.complete()})})(fe,ke).catch(we=>ke.error(we))})}},3019:(Tt,Fe,k)=>{"use strict";k.d(Fe,{T:()=>ge});var p=k(7537),G=k(4829),B=k(6232),te=k(4564),me=k(2459);function ge(...Ae){const Re=(0,te.yG)(Ae),ye=(0,te._6)(Ae,1/0),q=Ae;return q.length?1===q.length?(0,G.Xf)(q[0]):(0,p.J)(ye)((0,me.D)(q,Re)):B.E}},2096:(Tt,Fe,k)=>{"use strict";k.d(Fe,{of:()=>B});var p=k(4564),G=k(2459);function B(...te){const me=(0,p.yG)(te);return(0,G.D)(te,me)}},8251:(Tt,Fe,k)=>{"use strict";k.d(Fe,{x:()=>G});var p=k(305);function G(te,me,ge,Ae,Re){return new B(te,me,ge,Ae,Re)}class B extends p.Lv{constructor(me,ge,Ae,Re,ye,q){super(me),this.onFinalize=ye,this.shouldUnsubscribe=q,this._next=ge?function(X){try{ge(X)}catch(le){me.error(le)}}:super._next,this._error=Re?function(X){try{Re(X)}catch(le){me.error(le)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(X){me.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},3997:(Tt,Fe,k)=>{"use strict";k.d(Fe,{x:()=>te});var p=k(2737),G=k(9360),B=k(8251);function te(ge,Ae=p.y){return ge=ge??me,(0,G.e)((Re,ye)=>{let q,X=!0;Re.subscribe((0,B.x)(ye,le=>{const Oe=Ae(le);(X||!ge(q,Oe))&&(X=!1,q=Oe,ye.next(le))}))})}function me(ge,Ae){return ge===Ae}},7398:(Tt,Fe,k)=>{"use strict";k.d(Fe,{U:()=>B});var p=k(9360),G=k(8251);function B(te,me){return(0,p.e)((ge,Ae)=>{let Re=0;ge.subscribe((0,G.x)(Ae,ye=>{Ae.next(te.call(me,ye,Re++))}))})}},7537:(Tt,Fe,k)=>{"use strict";k.d(Fe,{J:()=>B});var p=k(1631),G=k(2737);function B(te=1/0){return(0,p.z)(G.y,te)}},1631:(Tt,Fe,k)=>{"use strict";k.d(Fe,{z:()=>Re});var p=k(7398),G=k(4829),B=k(9360),te=k(7103),me=k(8251),Ae=k(4674);function Re(ye,q,X=1/0){return(0,Ae.m)(q)?Re((le,Oe)=>(0,p.U)(($e,ut)=>q(le,$e,Oe,ut))((0,G.Xf)(ye(le,Oe))),X):("number"==typeof q&&(X=q),(0,B.e)((le,Oe)=>function ge(ye,q,X,le,Oe,$e,ut,He){const Je=[];let Ue=0,Et=0,vt=!1;const fe=()=>{vt&&!Je.length&&!Ue&&q.complete()},ke=Pe=>Ue<le?we(Pe):Je.push(Pe),we=Pe=>{$e&&q.next(Pe),Ue++;let Be=!1;(0,G.Xf)(X(Pe,Et++)).subscribe((0,me.x)(q,K=>{Oe?.(K),$e?ke(K):q.next(K)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Ue--;Je.length&&Ue<le;){const K=Je.shift();ut?(0,te.f)(q,ut,()=>we(K)):we(K)}fe()}catch(K){q.error(K)}}))};return ye.subscribe((0,me.x)(q,ke,()=>{vt=!0,fe()})),()=>{He?.()}}(le,Oe,ye,X)))}},3093:(Tt,Fe,k)=>{"use strict";k.d(Fe,{Q:()=>te});var p=k(7103),G=k(9360),B=k(8251);function te(me,ge=0){return(0,G.e)((Ae,Re)=>{Ae.subscribe((0,B.x)(Re,ye=>(0,p.f)(Re,me,()=>Re.next(ye),ge),()=>(0,p.f)(Re,me,()=>Re.complete(),ge),ye=>(0,p.f)(Re,me,()=>Re.error(ye),ge)))})}},3020:(Tt,Fe,k)=>{"use strict";k.d(Fe,{B:()=>me});var p=k(4829),G=k(8645),B=k(305),te=k(9360);function me(Ae={}){const{connector:Re=(()=>new G.x),resetOnError:ye=!0,resetOnComplete:q=!0,resetOnRefCountZero:X=!0}=Ae;return le=>{let Oe,$e,ut,He=0,Je=!1,Ue=!1;const Et=()=>{$e?.unsubscribe(),$e=void 0},vt=()=>{Et(),Oe=ut=void 0,Je=Ue=!1},fe=()=>{const ke=Oe;vt(),ke?.unsubscribe()};return(0,te.e)((ke,we)=>{He++,!Ue&&!Je&&Et();const Pe=ut=ut??Re();we.add(()=>{He--,0===He&&!Ue&&!Je&&($e=ge(fe,X))}),Pe.subscribe(we),!Oe&&He>0&&(Oe=new B.Hp({next:Be=>Pe.next(Be),error:Be=>{Ue=!0,Et(),$e=ge(vt,ye,Be),Pe.error(Be)},complete:()=>{Je=!0,Et(),$e=ge(vt,q),Pe.complete()}}),(0,p.Xf)(ke).subscribe(Oe))})(le)}}function ge(Ae,Re,...ye){if(!0===Re)return void Ae();if(!1===Re)return;const q=new B.Hp({next:()=>{q.unsubscribe(),Ae()}});return(0,p.Xf)(Re(...ye)).subscribe(q)}},5137:(Tt,Fe,k)=>{"use strict";k.d(Fe,{R:()=>G});var p=k(9360);function G(B,te=0){return(0,p.e)((me,ge)=>{ge.add(B.schedule(()=>me.subscribe(ge),te))})}},4664:(Tt,Fe,k)=>{"use strict";k.d(Fe,{w:()=>te});var p=k(4829),G=k(9360),B=k(8251);function te(me,ge){return(0,G.e)((Ae,Re)=>{let ye=null,q=0,X=!1;const le=()=>X&&!ye&&Re.complete();Ae.subscribe((0,B.x)(Re,Oe=>{ye?.unsubscribe();let $e=0;const ut=q++;(0,p.Xf)(me(Oe,ut)).subscribe(ye=(0,B.x)(Re,He=>Re.next(ge?ge(Oe,He,ut,$e++):He),()=>{ye=null,le()}))},()=>{X=!0,le()}))})}},9397:(Tt,Fe,k)=>{"use strict";k.d(Fe,{b:()=>me});var p=k(4674),G=k(9360),B=k(8251),te=k(2737);function me(ge,Ae,Re){const ye=(0,p.m)(ge)||Ae||Re?{next:ge,error:Ae,complete:Re}:ge;return ye?(0,G.e)((q,X)=>{var le;null===(le=ye.subscribe)||void 0===le||le.call(ye);let Oe=!0;q.subscribe((0,B.x)(X,$e=>{var ut;null===(ut=ye.next)||void 0===ut||ut.call(ye,$e),X.next($e)},()=>{var $e;Oe=!1,null===($e=ye.complete)||void 0===$e||$e.call(ye),X.complete()},$e=>{var ut;Oe=!1,null===(ut=ye.error)||void 0===ut||ut.call(ye,$e),X.error($e)},()=>{var $e,ut;Oe&&(null===($e=ye.unsubscribe)||void 0===$e||$e.call(ye)),null===(ut=ye.finalize)||void 0===ut||ut.call(ye)}))}):te.y}},1954:(Tt,Fe,k)=>{"use strict";k.d(Fe,{o:()=>me});var p=k(7394);class G extends p.w0{constructor(Ae,Re){super()}schedule(Ae,Re=0){return this}}const B={setInterval(ge,Ae,...Re){const{delegate:ye}=B;return ye?.setInterval?ye.setInterval(ge,Ae,...Re):setInterval(ge,Ae,...Re)},clearInterval(ge){const{delegate:Ae}=B;return(Ae?.clearInterval||clearInterval)(ge)},delegate:void 0};var te=k(9039);class me extends G{constructor(Ae,Re){super(Ae,Re),this.scheduler=Ae,this.work=Re,this.pending=!1}schedule(Ae,Re=0){var ye;if(this.closed)return this;this.state=Ae;const q=this.id,X=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(X,q,Re)),this.pending=!0,this.delay=Re,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(X,this.id,Re),this}requestAsyncId(Ae,Re,ye=0){return B.setInterval(Ae.flush.bind(Ae,this),ye)}recycleAsyncId(Ae,Re,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return Re;null!=Re&&B.clearInterval(Re)}execute(Ae,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(Ae,Re);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,Re){let q,ye=!1;try{this.work(Ae)}catch(X){ye=!0,q=X||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:Re}=this,{actions:ye}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(ye,this),null!=Ae&&(this.id=this.recycleAsyncId(Re,Ae,null)),this.delay=null,super.unsubscribe()}}}},2631:(Tt,Fe,k)=>{"use strict";k.d(Fe,{v:()=>B});var p=k(4552);class G{constructor(me,ge=G.now){this.schedulerActionCtor=me,this.now=ge}schedule(me,ge=0,Ae){return new this.schedulerActionCtor(this,me).schedule(Ae,ge)}}G.now=p.l.now;class B extends G{constructor(me,ge=G.now){super(me,ge),this.actions=[],this._active=!1}flush(me){const{actions:ge}=this;if(this._active)return void ge.push(me);let Ae;this._active=!0;do{if(Ae=me.execute(me.state,me.delay))break}while(me=ge.shift());if(this._active=!1,Ae){for(;me=ge.shift();)me.unsubscribe();throw Ae}}}},6321:(Tt,Fe,k)=>{"use strict";k.d(Fe,{z:()=>B});var p=k(1954);const B=new(k(2631).v)(p.o)},4552:(Tt,Fe,k)=>{"use strict";k.d(Fe,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},7599:(Tt,Fe,k)=>{"use strict";k.d(Fe,{z:()=>p});const p={setTimeout(G,B,...te){const{delegate:me}=p;return me?.setTimeout?me.setTimeout(G,B,...te):setTimeout(G,B,...te)},clearTimeout(G){const{delegate:B}=p;return(B?.clearTimeout||clearTimeout)(G)},delegate:void 0}},4971:(Tt,Fe,k)=>{"use strict";k.d(Fe,{h:()=>G});const G=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Tt,Fe,k)=>{"use strict";k.d(Fe,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Tt,Fe,k)=>{"use strict";k.d(Fe,{_6:()=>ge,jO:()=>te,yG:()=>me});var p=k(4674);function B(Ae){return Ae[Ae.length-1]}function te(Ae){return(0,p.m)(B(Ae))?Ae.pop():void 0}function me(Ae){return function G(Ae){return Ae&&(0,p.m)(Ae.schedule)}(B(Ae))?Ae.pop():void 0}function ge(Ae,Re){return"number"==typeof B(Ae)?Ae.pop():Re}},9039:(Tt,Fe,k)=>{"use strict";function p(G,B){if(G){const te=G.indexOf(B);0<=te&&G.splice(te,1)}}k.d(Fe,{P:()=>p})},2306:(Tt,Fe,k)=>{"use strict";function p(G){const te=G(me=>{Error.call(me),me.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}k.d(Fe,{d:()=>p})},1441:(Tt,Fe,k)=>{"use strict";k.d(Fe,{O:()=>te,x:()=>B});var p=k(2653);let G=null;function B(me){if(p.config.useDeprecatedSynchronousErrorHandling){const ge=!G;if(ge&&(G={errorThrown:!1,error:null}),me(),ge){const{errorThrown:Ae,error:Re}=G;if(G=null,Ae)throw Re}}else me()}function te(me){p.config.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=me)}},7103:(Tt,Fe,k)=>{"use strict";function p(G,B,te,me=0,ge=!1){const Ae=B.schedule(function(){te(),ge?G.add(this.schedule(null,me)):this.unsubscribe()},me);if(G.add(Ae),!ge)return Ae}k.d(Fe,{f:()=>p})},2737:(Tt,Fe,k)=>{"use strict";function p(G){return G}k.d(Fe,{y:()=>p})},4266:(Tt,Fe,k)=>{"use strict";k.d(Fe,{z:()=>p});const p=G=>G&&"number"==typeof G.length&&"function"!=typeof G},5726:(Tt,Fe,k)=>{"use strict";k.d(Fe,{D:()=>G});var p=k(4674);function G(B){return Symbol.asyncIterator&&(0,p.m)(B?.[Symbol.asyncIterator])}},4674:(Tt,Fe,k)=>{"use strict";function p(G){return"function"==typeof G}k.d(Fe,{m:()=>p})},8382:(Tt,Fe,k)=>{"use strict";k.d(Fe,{c:()=>B});var p=k(4850),G=k(4674);function B(te){return(0,G.m)(te[p.L])}},3664:(Tt,Fe,k)=>{"use strict";k.d(Fe,{T:()=>B});var p=k(4971),G=k(4674);function B(te){return(0,G.m)(te?.[p.h])}},4026:(Tt,Fe,k)=>{"use strict";k.d(Fe,{t:()=>G});var p=k(4674);function G(B){return(0,p.m)(B?.then)}},541:(Tt,Fe,k)=>{"use strict";k.d(Fe,{L:()=>te,Q:()=>B});var p=k(7582),G=k(4674);function B(me){return(0,p.FC)(this,arguments,function*(){const Ae=me.getReader();try{for(;;){const{value:Re,done:ye}=yield(0,p.qq)(Ae.read());if(ye)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Re)}}finally{Ae.releaseLock()}})}function te(me){return(0,G.m)(me?.getReader)}},9360:(Tt,Fe,k)=>{"use strict";k.d(Fe,{A:()=>G,e:()=>B});var p=k(4674);function G(te){return(0,p.m)(te?.lift)}function B(te){return me=>{if(G(me))return me.lift(function(ge){try{return te(ge,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(Tt,Fe,k)=>{"use strict";function p(){}k.d(Fe,{Z:()=>p})},8407:(Tt,Fe,k)=>{"use strict";k.d(Fe,{U:()=>B,z:()=>G});var p=k(2737);function G(...te){return B(te)}function B(te){return 0===te.length?p.y:1===te.length?te[0]:function(ge){return te.reduce((Ae,Re)=>Re(Ae),ge)}}},3894:(Tt,Fe,k)=>{"use strict";k.d(Fe,{h:()=>B});var p=k(2653),G=k(7599);function B(te){G.z.setTimeout(()=>{const{onUnhandledError:me}=p.config;if(!me)throw te;me(te)})}},9853:(Tt,Fe,k)=>{"use strict";function p(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Fe,{z:()=>p})},5879:(Tt,Fe,k)=>{"use strict";k.d(Fe,{$8M:()=>lc,$WT:()=>oi,$Z:()=>Im,AFp:()=>ev,AaK:()=>le,CRH:()=>aw,EJc:()=>Vb,F4k:()=>$p,FYo:()=>Td,FiY:()=>De,GfV:()=>vm,Gpc:()=>ut,HDt:()=>Uc,JOm:()=>Kf,LFG:()=>it,LSH:()=>dp,Lbi:()=>lm,Lck:()=>g_,MMx:()=>Gd,NdJ:()=>Wm,Ojb:()=>XC,OlP:()=>tr,Oqu:()=>t_,P3R:()=>PT,PXZ:()=>W_,Q6J:()=>$m,QGY:()=>tf,Qsj:()=>yp,R0b:()=>ao,RDi:()=>AC,Rgc:()=>Fu,SBq:()=>yc,Sil:()=>Bb,Suo:()=>jl,TTD:()=>$s,TgZ:()=>Zm,VuI:()=>oy,X6Q:()=>RA,XFs:()=>Ot,Xpm:()=>ia,Xq5:()=>Uv,Xts:()=>Rh,Y36:()=>Gh,YKP:()=>Nc,YNc:()=>Up,Yjl:()=>cu,Yz7:()=>It,Z0I:()=>En,ZZ4:()=>Lw,_Bn:()=>tb,_UZ:()=>Gm,_c5:()=>ny,_uU:()=>D0,aQg:()=>ty,c2e:()=>U_,cJS:()=>qn,cg1:()=>bt,dDg:()=>xA,dqk:()=>tn,eFA:()=>Af,eJc:()=>M_,ekj:()=>y0,eoX:()=>Cw,f3M:()=>ht,g9A:()=>tv,h0i:()=>As,hGG:()=>lD,hij:()=>Tc,iGM:()=>Ul,ifc:()=>yo,ip1:()=>Lb,jDz:()=>cg,kL8:()=>NI,lG2:()=>Fo,lqb:()=>Ja,lri:()=>zc,n5z:()=>Ch,oAB:()=>sa,oxw:()=>s0,q4F:()=>uE,qFp:()=>Hw,qLn:()=>yl,qOj:()=>Ap,qZA:()=>xl,rWj:()=>ww,rg0:()=>Xu,s9C:()=>a0,sBO:()=>LA,s_b:()=>E_,soG:()=>j_,tb:()=>Ig,tp0:()=>dt,uIk:()=>Rp,vHH:()=>fe,vpe:()=>vc,wAp:()=>Ze,xp6:()=>SE,z2F:()=>rh,zSh:()=>Qy,zs3:()=>Is});var p=k(8645),G=k(7394),B=k(5592),te=k(3019),me=k(5619),ge=k(2096),Ae=k(3020),Re=k(4664),ye=k(3997);function q(i){for(let o in i)if(i[o]===q)return o;throw Error("Could not find renamed property on target object.")}function X(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function le(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(le).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Oe(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const $e=q({__forward_ref__:q});function ut(i){return i.__forward_ref__=ut,i.toString=function(){return le(this())},i}function He(i){return Je(i)?i():i}function Je(i){return"function"==typeof i&&i.hasOwnProperty($e)&&i.__forward_ref__===ut}function Ue(i){return i&&!!i.\u0275providers}const vt="https://g.co/ng/security#xss";class fe extends Error{constructor(o,a){super(function ke(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function we(i){return"string"==typeof i?i:null==i?"":String(i)}function Ke(i,o){throw new fe(-201,!1)}function tt(i,o){null==i&&function nt(i,o,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,i,null,"!=")}function It(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function qn(i){return{providers:i.providers||[],imports:i.imports||[]}}function zn(i){return Qn(i,$n)||Qn(i,$r)}function En(i){return null!==zn(i)}function Qn(i,o){return i.hasOwnProperty(o)?i[o]:null}function wr(i){return i&&(i.hasOwnProperty(Xn)||i.hasOwnProperty(ki))?i[Xn]:null}const $n=q({\u0275prov:q}),Xn=q({\u0275inj:q}),$r=q({ngInjectableDef:q}),ki=q({ngInjectorDef:q});var Ot=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(Ot||{});let Nt;function ln(i){const o=Nt;return Nt=i,o}function mr(i,o,a){const l=zn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Ot.Optional?null:void 0!==o?o:void Ke(le(i))}const tn=globalThis,Ye={},wt="__NG_DI_FLAG__",Dt="ngTempTokenPath",Q=/\n/gm,$="__source";let H;function oe(i){const o=H;return H=i,o}function he(i,o=Ot.Default){if(void 0===H)throw new fe(-203,!1);return null===H?mr(i,void 0,o):H.get(i,o&Ot.Optional?null:void 0,o)}function it(i,o=Ot.Default){return(function Wt(){return Nt}()||he)(He(i),o)}function ht(i,o=Ot.Default){return it(i,An(o))}function An(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Zt(i){const o=[];for(let a=0;a<i.length;a++){const l=He(i[a]);if(Array.isArray(l)){if(0===l.length)throw new fe(900,!1);let h,g=Ot.Default;for(let w=0;w<l.length;w++){const C=l[w],S=Yt(C);"number"==typeof S?-1===S?h=C.token:g|=S:h=C}o.push(it(h,g))}else o.push(it(l))}return o}function Fn(i,o){return i[wt]=o,i.prototype[wt]=o,i}function Yt(i){return i[wt]}function Ro(i){return{toString:i}.toString()}var _o=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(_o||{}),yo=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(yo||{});const Di={},vn=[],qi=q({\u0275cmp:q}),na=q({\u0275dir:q}),su=q({\u0275pipe:q}),au=q({\u0275mod:q}),ko=q({\u0275fac:q}),Pa=q({__NG_ELEMENT_ID__:q}),ss=q({__NG_ENV_ID__:q});function Ps(i,o,a){let l=i.length;for(;;){const h=i.indexOf(o,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const g=o.length;if(h+g===l||i.charCodeAt(h+g)<=32)return h}a=h+1}}function Os(i,o,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const g=a[l++],w=a[l++],C=a[l++];i.setAttribute(o,w,C,g)}else{const g=h,w=a[++l];Ki(g)?i.setProperty(o,g,w):i.setAttribute(o,g,w),l++}}return l}function vo(i){return 3===i||4===i||6===i}function Ki(i){return 64===i.charCodeAt(0)}function _n(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||Hn(i,a,h,null,-1===a||2===a?o[++l]:null)}}return i}function Hn(i,o,a,l,h){let g=0,w=i.length;if(-1===o)w=-1;else for(;g<i.length;){const C=i[g++];if("number"==typeof C){if(C===o){w=-1;break}if(C>o){w=g-1;break}}}for(;g<i.length;){const C=i[g];if("number"==typeof C)break;if(C===a){if(null===l)return void(null!==h&&(i[g+1]=h));if(l===i[g+1])return void(i[g+2]=h)}g++,null!==l&&g++,null!==h&&g++}-1!==w&&(i.splice(w,0,o),g=w+1),i.splice(g++,0,a),null!==l&&i.splice(g++,0,l),null!==h&&i.splice(g++,0,h)}const Kn="ng-template";function Oa(i,o,a){let l=0,h=!0;for(;l<i.length;){let g=i[l++];if("string"==typeof g&&h){const w=i[l++];if(a&&"class"===g&&-1!==Ps(w.toLowerCase(),o,0))return!0}else{if(1===g){for(;l<i.length&&"string"==typeof(g=i[l++]);)if(g.toLowerCase()===o)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function wo(i){return 4===i.type&&i.value!==Kn}function Hc(i,o,a){return o===(4!==i.type||a?i.value:Kn)}function nn(i,o,a){let l=4;const h=i.attrs||[],g=function Na(i){for(let o=0;o<i.length;o++)if(vo(i[o]))return o;return i.length}(h);let w=!1;for(let C=0;C<o.length;C++){const S=o[C];if("number"!=typeof S){if(!w)if(4&l){if(l=2|1&l,""!==S&&!Hc(i,S,a)||""===S&&1===o.length){if(In(l))return!1;w=!0}}else{const P=8&l?S:o[++C];if(8&l&&null!==i.attrs){if(!Oa(i.attrs,P,a)){if(In(l))return!1;w=!0}continue}const W=Ns(8&l?"class":S,h,wo(i),a);if(-1===W){if(In(l))return!1;w=!0;continue}if(""!==P){let ie;ie=W>g?"":h[W+1].toLowerCase();const de=8&l?ie:null;if(de&&-1!==Ps(de,P,0)||2&l&&P!==ie){if(In(l))return!1;w=!0}}}}else{if(!w&&!In(l)&&!In(S))return!1;if(w&&In(S))continue;w=!1,l=S|1&l}}return In(l)||w}function In(i){return 0==(1&i)}function Ns(i,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let g=!1;for(;h<o.length;){const w=o[h];if(w===i)return h;if(3===w||6===w)g=!0;else{if(1===w||2===w){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===w)break;if(0===w){h+=4;continue}}h+=g?1:2}return-1}return function ra(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,i)}function Rs(i,o,a=!1){for(let l=0;l<o.length;l++)if(nn(i,o[l],a))return!0;return!1}function ir(i,o){return i?":not("+o.trim()+")":o}function Lo(i){let o=i[0],a=1,l=2,h="",g=!1;for(;a<i.length;){let w=i[a];if("string"==typeof w)if(2&l){const C=i[++a];h+="["+w+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?h+="."+w:4&l&&(h+=" "+w);else""!==h&&!In(w)&&(o+=ir(g,h),h=""),l=w,g=g||!In(l);a++}return""!==h&&(o+=ir(g,h)),o}function ia(i){return Ro(()=>{const o=Zc(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===_o.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||yo.Emulated,styles:i.styles||vn,_:null,schemas:i.schemas||null,tView:null,id:""};ka(a);const l=i.dependencies;return a.directiveDefs=Vo(l,!1),a.pipeDefs=Vo(l,!0),a.id=function Vi(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const h of a)o=Math.imul(31,o)+h.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function oa(i){return hn(i)||Mr(i)}function Ra(i){return null!==i}function sa(i){return Ro(()=>({type:i.type,bootstrap:i.bootstrap||vn,declarations:i.declarations||vn,imports:i.imports||vn,exports:i.exports||vn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function ua(i,o){if(null==i)return Di;const a={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=l,o&&(o[h]=g)}return a}function Fo(i){return Ro(()=>{const o=Zc(i);return ka(o),o})}function cu(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function hn(i){return i[qi]||null}function Mr(i){return i[na]||null}function xt(i){return i[su]||null}function oi(i){const o=hn(i)||Mr(i)||xt(i);return null!==o&&o.standalone}function Jt(i,o){const a=i[au]||null;if(!a&&!0===o)throw new Error(`Type ${le(i)} does not have '\u0275mod' property.`);return a}function Zc(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||Di,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||vn,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ua(i.inputs,o),outputs:ua(i.outputs)}}function ka(i){i.features?.forEach(o=>o(i))}function Vo(i,o){if(!i)return null;const a=o?xt:oa;return()=>("function"==typeof i?i():i).map(l=>a(l)).filter(Ra)}const Jn=0,ot=1,At=2,Pn=3,_i=4,Eo=5,si=6,us=7,or=8,Bo=9,Uo=10,rt=11,Yi=12,Qi=13,Zr=14,Er=15,ca=16,ai=17,ui=18,jo=19,lu=20,ks=21,Ti=22,du=23,hr=24,pn=25,Io=1,Ls=2,kr=7,cs=9,Ir=11;function Jr(i){return Array.isArray(i)&&"object"==typeof i[Io]}function Fr(i){return Array.isArray(i)&&!0===i[Io]}function $u(i){return 0!=(4&i.flags)}function bo(i){return i.componentOffset>-1}function yi(i){return 1==(1&i.flags)}function Gr(i){return!!i.template}function Si(i){return 0!=(512&i[At])}function zo(i,o){return i.hasOwnProperty(ko)?i[ko]:null}let fr=null,Va=!1;function er(i){const o=fr;return fr=i,o}const Ba={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Gu(i){if(!Vs(i)||i.dirty){if(!i.producerMustRecompute(i)&&!Wu(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function yu(i){i.dirty=!0,function To(i){if(void 0===i.liveConsumerNode)return;const o=Va;Va=!0;try{for(const a of i.liveConsumerNode)a.dirty||yu(a)}finally{Va=o}}(i),i.consumerMarkedDirty?.(i)}function vu(i){return i&&(i.nextProducerIndex=0),er(i)}function ar(i,o){if(er(o),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(Vs(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)So(i.producerNode[a],i.producerIndexOfThis[a]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function Wu(i){no(i);for(let o=0;o<i.producerNode.length;o++){const a=i.producerNode[o],l=i.producerLastReadVersion[o];if(l!==a.version||(Gu(a),l!==a.version))return!0}return!1}function ds(i){if(no(i),Vs(i))for(let o=0;o<i.producerNode.length;o++)So(i.producerNode[o],i.producerIndexOfThis[o]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function So(i,o){if(function qu(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),no(i),1===i.liveConsumerNode.length)for(let l=0;l<i.producerNode.length;l++)So(i.producerNode[l],i.producerIndexOfThis[l]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[o]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[o]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,o<i.liveConsumerNode.length){const l=i.liveConsumerIndexOfThis[o],h=i.liveConsumerNode[o];no(h),h.producerIndexOfThis[l]=o}}function Vs(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function no(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let ro=null;function Xu(i){const o=er(null);try{return i()}finally{er(o)}}const Cu=()=>{},Xl=(()=>({...Ba,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:Cu}))();class Jl{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function $s(){return Zo}function Zo(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ui),ja}function ja(){const i=ma(this),o=i?.current;if(o){const a=i.previous;if(a===Di)i.previous=o;else for(let l in o)a[l]=o[l];i.current=null,this.ngOnChanges(o)}}function Ui(i,o,a,l){const h=this.declaredInputs[a],g=ma(i)||function Ju(i,o){return i[ga]=o}(i,{previous:Di,current:null}),w=g.current||(g.current={}),C=g.previous,S=C[h];w[h]=new Jl(S&&S.currentValue,o,C===Di),i[l]=o}$s.ngInherit=!0;const ga="__ngSimpleChanges__";function ma(i){return i[ga]||null}const Ai=function(i,o,a){};function On(i){for(;Array.isArray(i);)i=i[Jn];return i}function u(i,o){return On(o[i])}function f(i,o){return On(o[i.index])}function T(i,o){return i.data[o]}function V(i,o){const a=o[i];return Jr(a)?a:a[Jn]}function Ge(i,o){return null==o?null:i[o]}function yt(i){i[ai]=0}function Rt(i){1024&i[At]||(i[At]|=1024,Mn(i,1))}function gn(i){1024&i[At]&&(i[At]&=-1025,Mn(i,-1))}function Mn(i,o){let a=i[Pn];if(null===a)return;a[Eo]+=o;let l=a;for(a=a[Pn];null!==a&&(1===o&&1===l[Eo]||-1===o&&0===l[Eo]);)a[Eo]+=o,l=a,a=a[Pn]}const St={lFrame:ol(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function br(){return St.bindingsEnabled}function ze(){return St.lFrame.lView}function yn(){return St.lFrame.tView}function li(){let i=nl();for(;null!==i&&64===i.type;)i=i.parent;return i}function nl(){return St.lFrame.currentTNode}function fs(i,o){const a=St.lFrame;a.currentTNode=i,a.isParent=o}function hh(){return St.lFrame.isParent}function Ha(){return St.lFrame.bindingIndex++}function rl(i,o){const a=St.lFrame;a.bindingIndex=a.bindingRootIndex=i,il(o)}function il(i){St.lFrame.currentDirectiveIndex=i}function od(){return St.lFrame.currentQueryIndex}function gh(i){St.lFrame.currentQueryIndex=i}function mh(i){const o=i[ot];return 2===o.type?o.declTNode:1===o.type?i[si]:null}function sd(i,o,a){if(a&Ot.SkipSelf){let h=o,g=i;for(;!(h=h.parent,null!==h||a&Ot.Host||(h=mh(g),null===h||(g=g[Zr],10&h.type))););if(null===h)return!1;o=h,i=g}const l=St.lFrame=va();return l.currentTNode=o,l.lView=i,!0}function io(i){const o=va(),a=i[ot];St.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function va(){const i=St.lFrame,o=null===i?null:i.child;return null===o?ol(i):o}function ol(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function cr(){const i=St.lFrame;return St.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const zt=cr;function hi(){const i=cr();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function xi(){return St.lFrame.selectedIndex}function qo(i){St.lFrame.selectedIndex=i}function pr(){const i=St.lFrame;return T(i.tView,i.selectedIndex)}let wa=!0;function ms(){return wa}function _s(i){wa=i}function Ca(i,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:C,ngAfterViewInit:S,ngAfterViewChecked:P,ngOnDestroy:F}=g;w&&(i.contentHooks??=[]).push(-a,w),C&&((i.contentHooks??=[]).push(a,C),(i.contentCheckHooks??=[]).push(a,C)),S&&(i.viewHooks??=[]).push(-a,S),P&&((i.viewHooks??=[]).push(a,P),(i.viewCheckHooks??=[]).push(a,P)),null!=F&&(i.destroyHooks??=[]).push(a,F)}}function nc(i,o,a){ud(i,o,3,a)}function bu(i,o,a,l){(3&i[At])===a&&ud(i,o,a,l)}function al(i,o){let a=i[At];(3&a)===o&&(a&=8191,a+=1,i[At]=a)}function ud(i,o,a,l){const g=l??-1,w=o.length-1;let C=0;for(let S=void 0!==l?65535&i[ai]:0;S<w;S++)if("number"==typeof o[S+1]){if(C=o[S],null!=l&&C>=l)break}else o[S]<0&&(i[ai]+=65536),(C<g||-1==g)&&(rc(i,a,o,S),i[ai]=(4294901760&i[ai])+S+2),S++}function Za(i,o){Ai(4,i,o);const a=er(null);try{o.call(i)}finally{er(a),Ai(5,i,o)}}function rc(i,o,a,l){const h=a[l]<0,g=a[l+1],C=i[h?-a[l]:a[l]];h?i[At]>>13<i[ai]>>16&&(3&i[At])===o&&(i[At]+=8192,Za(C,g)):Za(C,g)}const Ao=-1;class Du{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function sc(i){return i!==Ao}function zi(i){return 32767&i}function ys(i,o){let a=function Wr(i){return i>>16}(i),l=o;for(;a>0;)l=l[Zr],a--;return l}let Tu=!0;function vi(i){const o=Tu;return Tu=i,o}const ac=255,cl=5;let $f=0;const Vr={};function Tr(i,o){const a=ll(i,o);if(-1!==a)return a;const l=o[ot];l.firstCreatePass&&(i.injectorIndex=o.length,Ko(l.data,i),Ko(o,null),Ko(l.blueprint,null));const h=Zs(i,o),g=i.injectorIndex;if(sc(h)){const w=zi(h),C=ys(h,o),S=C[ot].data;for(let P=0;P<8;P++)o[g+P]=C[w+P]|S[w+P]}return o[g+8]=h,g}function Ko(i,o){i.push(0,0,0,0,0,0,0,0,o)}function ll(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Zs(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){if(l=Zf(h),null===l)return Ao;if(a++,h=h[Zr],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return Ao}function Ea(i,o,a){!function Wa(i,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Pa)&&(l=a[Pa]),null==l&&(l=a[Pa]=$f++);const h=l&ac;o.data[i+(h>>cl)]|=1<<h}(i,o,a)}function uc(i,o,a){if(a&Ot.Optional||void 0!==i)return i;Ke()}function Su(i,o,a,l){if(a&Ot.Optional&&void 0===l&&(l=null),!(a&(Ot.Self|Ot.Host))){const h=i[Bo],g=ln(void 0);try{return h?h.get(o,l,a&Ot.Optional):mr(o,l,a&Ot.Optional)}finally{ln(g)}}return uc(l,0,a)}function cc(i,o,a,l=Ot.Default,h){if(null!==i){if(2048&o[At]&&!(l&Ot.Self)){const w=function Hf(i,o,a,l,h){let g=i,w=o;for(;null!==g&&null!==w&&2048&w[At]&&!(512&w[At]);){const C=Au(g,w,a,l|Ot.Self,Vr);if(C!==Vr)return C;let S=g.parent;if(!S){const P=w[lu];if(P){const F=P.get(a,Vr,l);if(F!==Vr)return F}S=Zf(w),w=w[Zr]}g=S}return h}(i,o,a,l,Vr);if(w!==Vr)return w}const g=Au(i,o,a,l,Vr);if(g!==Vr)return g}return Su(o,a,l,h)}function Au(i,o,a,l,h){const g=function Ia(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Pa)?i[Pa]:void 0;return"number"==typeof o?o>=0?o&ac:Hi:o}(a);if("function"==typeof g){if(!sd(o,i,l))return l&Ot.Host?uc(h,0,l):Su(o,a,l,h);try{let w;if(w=g(l),null!=w||l&Ot.Optional)return w;Ke()}finally{zt()}}else if("number"==typeof g){let w=null,C=ll(i,o),S=Ao,P=l&Ot.Host?o[Er][si]:null;for((-1===C||l&Ot.SkipSelf)&&(S=-1===C?Zs(i,o):o[C+8],S!==Ao&&Ka(l,!1)?(w=o[ot],C=zi(S),o=ys(S,o)):C=-1);-1!==C;){const F=o[ot];if(vh(g,C,F.data)){const W=un(C,o,a,w,l,P);if(W!==Vr)return W}S=o[C+8],S!==Ao&&Ka(l,o[ot].data[C+8]===P)&&vh(g,C,o)?(w=F,C=zi(S),o=ys(S,o)):C=-1}}return h}function un(i,o,a,l,h,g){const w=o[ot],C=w.data[i+8],F=qa(C,w,a,null==l?bo(C)&&Tu:l!=w&&0!=(3&C.type),h&Ot.Host&&g===C);return null!==F?Mu(o,w,F,C):Vr}function qa(i,o,a,l,h){const g=i.providerIndexes,w=o.data,C=1048575&g,S=i.directiveStart,F=g>>20,ie=h?C+F:i.directiveEnd;for(let de=l?C:C+F;de<ie;de++){const Ne=w[de];if(de<S&&a===Ne||de>=S&&Ne.type===a)return de}if(h){const de=w[S];if(de&&Gr(de)&&de.type===a)return S}return null}function Mu(i,o,a,l){let h=i[a];const g=o.data;if(function cd(i){return i instanceof Du}(h)){const w=h;w.resolving&&function Be(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new fe(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():we(i)}(g[a]));const C=vi(w.canSeeViewProviders);w.resolving=!0;const P=w.injectImpl?ln(w.injectImpl):null;sd(i,l,Ot.Default);try{h=i[a]=w.factory(void 0,g,i,l),o.firstCreatePass&&a>=l.directiveStart&&function Dr(i,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(l){const w=Zo(o);(a.preOrderHooks??=[]).push(i,w),(a.preOrderCheckHooks??=[]).push(i,w)}h&&(a.preOrderHooks??=[]).push(0-i,h),g&&((a.preOrderHooks??=[]).push(i,g),(a.preOrderCheckHooks??=[]).push(i,g))}(a,g[a],o)}finally{null!==P&&ln(P),vi(C),w.resolving=!1,zt()}}return h}function vh(i,o,a){return!!(a[o+(i>>cl)]&1<<i)}function Ka(i,o){return!(i&Ot.Self||i&Ot.Host&&o)}class qr{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return cc(this._tNode,this._lView,o,An(l),a)}}function Hi(){return new qr(li(),ze())}function Ch(i){return Ro(()=>{const o=i.prototype.constructor,a=o[ko]||vs(o),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const g=h[ko]||vs(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function vs(i){return Je(i)?()=>{const o=vs(He(i));return o&&o()}:zo(i)}function Zf(i){const o=i[ot],a=o.type;return 2===a?o.declTNode:1===a?i[si]:null}function lc(i){return function dl(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const g=a[h];if(vo(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(g===o)return a[h+1];h+=2}}}return null}(li(),i)}const Ya="__parameters__";function O(i,o,a){return Ro(()=>{const l=function M(i){return function(...a){if(i){const l=i(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...g){if(this instanceof h)return l.apply(this,g),this;const w=new h(...g);return C.annotation=w,C;function C(S,P,F){const W=S.hasOwnProperty(Ya)?S[Ya]:Object.defineProperty(S,Ya,{value:[]})[Ya];for(;W.length<=F;)W.push(null);return(W[F]=W[F]||[]).push(w),S}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}function Qa(i,o){i.forEach(a=>Array.isArray(a)?Qa(a,o):o(a))}function Cy(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function hl(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Yo(i,o,a){let l=fl(i,o);return l>=0?i[1|l]=a:(l=~l,function $g(i,o,a,l){let h=i.length;if(h==o)i.push(a,l);else if(1===h)i.push(l,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>o;)i[h]=i[h-2],h--;i[o]=a,i[o+1]=l}}(i,l,o,a)),l}function Gf(i,o){const a=fl(i,o);if(a>=0)return i[1|a]}function fl(i,o){return function Ih(i,o,a){let l=0,h=i.length>>a;for(;h!==l;){const g=l+(h-l>>1),w=i[g<<a];if(o===w)return g<<a;w>o?h=g:l=g+1}return~(h<<a)}(i,o,1)}const De=Fn(O("Optional"),8),dt=Fn(O("SkipSelf"),4);function Gg(i){return 128==(128&i.flags)}var Kf=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Kf||{});const Yf=new Map;let QD=0;const Kg="__ngContext__";function xo(i,o){Jr(o)?(i[Kg]=o[jo],function fC(i){Yf.set(i[jo],i)}(o)):i[Kg]=o}let Jf;function Ws(i,o){return Jf(i,o)}function gc(i){const o=i[Pn];return Fr(o)?o[Pn]:o}function mC(i){return ep(i[Yi])}function Ry(i){return ep(i[_i])}function ep(i){for(;null!==i&&!Fr(i);)i=i[_i];return i}function Mh(i,o,a,l,h){if(null!=l){let g,w=!1;Fr(l)?g=l:Jr(l)&&(w=!0,l=l[Jn]);const C=On(l);0===i&&null!==a?null==h?wC(o,a,C):wd(o,a,C,h||null,!0):1===i&&null!==a?wd(o,a,C,h||null,!0):2===i?function em(i,o,a){const l=Jg(i,o);l&&function hT(i,o,a,l){i.removeChild(o,a,l)}(i,l,o,a)}(o,C,w):3===i&&o.destroyNode(C),null!=g&&function pT(i,o,a,l,h){const g=a[kr];g!==On(a)&&Mh(o,i,l,g,h);for(let C=Ir;C<a.length;C++){const S=a[C];sp(S[ot],S,i,o,l,g)}}(o,i,g,a,h)}}function Qg(i,o,a){return i.createElement(o,a)}function _C(i,o){const a=i[cs],l=a.indexOf(o);gn(o),a.splice(l,1)}function Xg(i,o){if(i.length<=Ir)return;const a=Ir+o,l=i[a];if(l){const h=l[ca];null!==h&&h!==i&&_C(h,l),o>0&&(i[a-1][_i]=l[_i]);const g=hl(i,Ir+o);!function aT(i,o){sp(i,o,o[rt],2,null,null),o[Jn]=null,o[si]=null}(l[ot],l);const w=g[ui];null!==w&&w.detachView(g[ot]),l[Pn]=null,l[_i]=null,l[At]&=-129}return l}function ky(i,o){if(!(256&o[At])){const a=o[rt];o[du]&&ds(o[du]),o[hr]&&ds(o[hr]),a.destroyNode&&sp(i,o,a,3,null,null),function uT(i){let o=i[Yi];if(!o)return yC(i[ot],i);for(;o;){let a=null;if(Jr(o))a=o[Yi];else{const l=o[Ir];l&&(a=l)}if(!a){for(;o&&!o[_i]&&o!==i;)Jr(o)&&yC(o[ot],o),o=o[Pn];null===o&&(o=i),Jr(o)&&yC(o[ot],o),a=o&&o[_i]}o=a}}(o)}}function yC(i,o){if(!(256&o[At])){o[At]&=-129,o[At]|=256,function vC(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof Du)){const g=a[l+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const C=h[g[w]],S=g[w+1];Ai(4,C,S);try{S.call(C)}finally{Ai(5,C,S)}}else{Ai(4,h,g);try{g.call(h)}finally{Ai(5,h,g)}}}}}(i,o),function dT(i,o){const a=i.cleanup,l=o[us];if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const w=a[g+3];w>=0?l[w]():l[-w].unsubscribe(),g+=2}else a[g].call(l[a[g+1]]);null!==l&&(o[us]=null);const h=o[ks];if(null!==h){o[ks]=null;for(let g=0;g<h.length;g++)(0,h[g])()}}(i,o),1===o[ot].type&&o[rt].destroy();const a=o[ca];if(null!==a&&Fr(o[Pn])){a!==o[Pn]&&_C(a,o);const l=o[ui];null!==l&&l.detachView(i)}!function Qf(i){Yf.delete(i[jo])}(o)}}function xh(i,o,a){return function vd(i,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[Jn];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:g}=i.data[l.directiveStart+h];if(g===yo.None||g===yo.Emulated)return null}return f(l,a)}}(i,o.parent,a)}function wd(i,o,a,l,h){i.insertBefore(o,a,l,h)}function wC(i,o,a){i.appendChild(o,a)}function CC(i,o,a,l,h){null!==l?wd(i,o,a,l,h):wC(i,o,a)}function Jg(i,o){return i.parentNode(o)}let Fy,SC,nm,Ly=function IC(i,o,a){return 40&i.type?f(i,a):null};function ip(i,o,a,l){const h=xh(i,l,o),g=o[rt],C=function EC(i,o,a){return Ly(i,o,a)}(l.parent||o[si],l,o);if(null!=h)if(Array.isArray(a))for(let S=0;S<a.length;S++)CC(g,h,a[S],C,!1);else CC(g,h,a,C,!1);void 0!==Fy&&Fy(g,l,o,a,h)}function Ru(i,o){if(null!==o){const a=o.type;if(3&a)return f(o,i);if(4&a)return By(-1,i[o.index]);if(8&a){const l=o.child;if(null!==l)return Ru(i,l);{const h=i[o.index];return Fr(h)?By(-1,h):On(h)}}if(32&a)return Ws(o,i)()||On(i[o.index]);{const l=Vy(i,o);return null!==l?Array.isArray(l)?l[0]:Ru(gc(i[Er]),l):Ru(i,o.next)}}return null}function Vy(i,o){return null!==o?i[Er][si].projection[o.projection]:null}function By(i,o){const a=Ir+i+1;if(a<o.length){const l=o[a],h=l[ot].firstChild;if(null!==h)return Ru(l,h)}return o[kr]}function op(i,o,a,l,h,g,w){for(;null!=a;){const C=l[a.index],S=a.type;if(w&&0===o&&(C&&xo(On(C),l),a.flags|=2),32!=(32&a.flags))if(8&S)op(i,o,a.child,l,h,g,!1),Mh(o,i,h,C,g);else if(32&S){const P=Ws(a,l);let F;for(;F=P();)Mh(o,i,h,F,g);Mh(o,i,h,C,g)}else 16&S?jy(i,o,l,a,h,g):Mh(o,i,h,C,g);a=w?a.projectionNext:a.next}}function sp(i,o,a,l,h,g){op(a,l,i.firstChild,o,h,g,!1)}function jy(i,o,a,l,h,g){const w=a[Er],S=w[si].projection[l.projection];if(Array.isArray(S))for(let P=0;P<S.length;P++)Mh(o,i,h,S[P],g);else{let P=S;const F=w[Pn];Gg(l)&&(P.flags|=128),op(i,o,P,F,h,g,!0)}}function DC(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function ap(i,o,a){const{mergedAttrs:l,classes:h,styles:g}=a;null!==l&&Os(i,o,l),null!==h&&DC(i,o,h),null!==g&&function mT(i,o,a){i.setAttribute(o,"style",a)}(i,o,g)}function AC(i){SC=i}function PC(i){return function $y(){if(void 0===nm&&(nm=null,tn.trustedTypes))try{nm=tn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return nm}()?.createScriptURL(i)||i}class OC{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vt})`}}function gl(i){return i instanceof OC?i.changingThisBreaksApplicationSecurity:i}function Nh(i,o){const a=function rm(i){return i instanceof OC&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${vt})`)}return a===o}const up=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var lp=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(lp||{});function dp(i){const o=hp();return o?o.sanitize(lp.URL,i)||"":Nh(i,"URL")?gl(i):function om(i){return(i=String(i)).match(up)?i:"unsafe:"+i}(we(i))}function zC(i){const o=hp();if(o)return PC(o.sanitize(lp.RESOURCE_URL,i)||"");if(Nh(i,"ResourceURL"))return PC(gl(i));throw new fe(904,!1)}function PT(i,o,a){return function xT(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?zC:dp}(o,a)(i)}function hp(){const i=ze();return i&&i[Uo].sanitizer}class tr{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=It({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Rh=new tr("ENVIRONMENT_INITIALIZER"),HC=new tr("INJECTOR",-1),ZC=new tr("INJECTOR_DEF_TYPES");class sm{get(o,a=Ye){if(a===Ye){const l=new Error(`NullInjectorError: No provider for ${le(o)}!`);throw l.name="NullInjectorError",l}return a}}function OT(...i){return{\u0275providers:WC(0,i),\u0275fromNgModule:!0}}function WC(i,...o){const a=[],l=new Set;let h;const g=w=>{a.push(w)};return Qa(o,w=>{const C=w;am(C,g,[],l)&&(h||=[],h.push(C))}),void 0!==h&&qC(h,g),a}function qC(i,o){for(let a=0;a<i.length;a++){const{ngModule:l,providers:h}=i[a];Yy(h,g=>{o(g,l)})}}function am(i,o,a,l){if(!(i=He(i)))return!1;let h=null,g=wr(i);const w=!g&&hn(i);if(g||w){if(w&&!w.standalone)return!1;h=i}else{const S=i.ngModule;if(g=wr(S),!g)return!1;h=S}const C=l.has(h);if(w){if(C)return!1;if(l.add(h),w.dependencies){const S="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const P of S)am(P,o,a,l)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let P;l.add(h);try{Qa(g.imports,F=>{am(F,o,a,l)&&(P||=[],P.push(F))})}finally{}void 0!==P&&qC(P,o)}if(!C){const P=zo(h)||(()=>new h);o({provide:h,useFactory:P,deps:vn},h),o({provide:ZC,useValue:h,multi:!0},h),o({provide:Rh,useValue:()=>it(h),multi:!0},h)}const S=g.providers;if(null!=S&&!C){const P=i;Yy(S,F=>{o(F,P)})}}}return h!==i&&void 0!==i.providers}function Yy(i,o){for(let a of i)Ue(a)&&(a=a.\u0275providers),Array.isArray(a)?Yy(a,o):o(a)}const tP=q({provide:String,useValue:q});function KC(i){return null!==i&&"object"==typeof i&&tP in i}function kh(i){return"function"==typeof i}const Qy=new tr("Set Injector scope."),fp={},Ed={};let Ta;function um(){return void 0===Ta&&(Ta=new sm),Ta}class Ja{}class cm extends Ja{get destroyed(){return this._destroyed}constructor(o,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,YC(o,w=>this.processProvider(w)),this.records.set(HC,Id(void 0,this)),h.has("environment")&&this.records.set(Ja,Id(void 0,this));const g=this.records.get(Qy);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(ZC.multi,vn,Ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=oe(this),l=ln(void 0);try{return o()}finally{oe(a),ln(l)}}get(o,a=Ye,l=Ot.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(ss))return o[ss](this);l=An(l);const g=oe(this),w=ln(void 0);try{if(!(l&Ot.SkipSelf)){let S=this.records.get(o);if(void 0===S){const P=function FT(i){return"function"==typeof i||"object"==typeof i&&i instanceof tr}(o)&&zn(o);S=P&&this.injectableDefInScope(P)?Id(Xy(o),fp):null,this.records.set(o,S)}if(null!=S)return this.hydrate(o,S)}return(l&Ot.Self?um():this.parent).get(o,a=l&Ot.Optional&&a===Ye?null:a)}catch(C){if("NullInjectorError"===C.name){if((C[Dt]=C[Dt]||[]).unshift(le(o)),g)throw C;return function ii(i,o,a,l){const h=i[Dt];throw o[$]&&h.unshift(o[$]),i.message=function xs(i,o,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=le(o);if(Array.isArray(o))h=o.map(le).join(" -> ");else if("object"==typeof o){let g=[];for(let w in o)if(o.hasOwnProperty(w)){let C=o[w];g.push(w+":"+("string"==typeof C?JSON.stringify(C):le(C)))}h=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${i.replace(Q,"\n  ")}`}("\n"+i.message,h,a,l),i.ngTokenPath=h,i[Dt]=null,i}(C,o,"R3InjectorError",this.source)}throw C}finally{ln(w),oe(g)}}resolveInjectorInitializers(){const o=oe(this),a=ln(void 0);try{const h=this.get(Rh.multi,vn,Ot.Self);for(const g of h)g()}finally{oe(o),ln(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(le(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(o){let a=kh(o=He(o))?o:He(o&&o.provide);const l=function Jy(i){return KC(i)?Id(void 0,i.useValue):Id(_c(i),fp)}(o);if(kh(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Id(void 0,fp,!0),h.factory=()=>Zt(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===fp&&(a.value=Ed,a.value=a.factory()),"object"==typeof a.value&&a.value&&function ml(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=He(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Xy(i){const o=zn(i),a=null!==o?o.factory:zo(i);if(null!==a)return a;if(i instanceof tr)throw new fe(204,!1);if(i instanceof Function)return function LT(i){const o=i.length;if(o>0)throw function Pu(i,o){const a=[];for(let l=0;l<i;l++)a.push(o);return a}(o,"?"),new fe(204,!1);const a=function mi(i){return i&&(i[$n]||i[$r])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new fe(204,!1)}function _c(i,o,a){let l;if(kh(i)){const h=He(i);return zo(h)||Xy(h)}if(KC(i))l=()=>He(i.useValue);else if(function kT(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Zt(i.deps||[]));else if(function RT(i){return!(!i||!i.useExisting)}(i))l=()=>it(He(i.useExisting));else{const h=He(i&&(i.useClass||i.provide));if(!function Po(i){return!!i.deps}(i))return zo(h)||Xy(h);l=()=>new h(...Zt(i.deps))}return l}function Id(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function YC(i,o){for(const a of i)Array.isArray(a)?YC(a,o):a&&Ue(a)?YC(a.\u0275providers,o):o(a)}const ev=new tr("AppId",{providedIn:"root",factory:()=>QC}),QC="ng",tv=new tr("Platform Initializer"),lm=new tr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),XC=new tr("CSP nonce",{providedIn:"root",factory:()=>function Cd(){if(void 0!==SC)return SC;if(typeof document<"u")return document;throw new fe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Oo=(i,o,a)=>null;function rE(i,o,a=!1){return Oo(i,o,a)}class rP{}class ZT{}class aE{resolveComponentFactory(o){throw function iP(i){const o=Error(`No component factory found for ${le(i)}.`);return o.ngComponent=i,o}(o)}}let sv=(()=>{class o{}return o.NULL=new aE,o})();function sP(){return _p(li(),ze())}function _p(i,o){return new yc(f(i,o))}let yc=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=sP,o})();function ym(i){return i instanceof yc?i.nativeElement:i}class Td{}let yp=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function av(){const i=ze(),a=V(li().index,i);return(Jr(a)?a:i)[rt]}(),o})(),WT=(()=>{var i;class o{}return(i=o).\u0275prov=It({token:i,providedIn:"root",factory:()=>null}),o})();class vm{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const uE=new vm("16.2.6"),Uh={};function zh(i,o=null,a=null,l){const h=vp(i,o,a,l);return h.resolveInjectorInitializers(),h}function vp(i,o=null,a=null,l,h=new Set){const g=[a||vn,OT(i)];return l=l||("object"==typeof i?void 0:le(i)),new cm(g,o||um(),l||null,h)}let Is=(()=>{var i;class o{static create(l,h){if(Array.isArray(l))return zh({name:""},h,l,"");{const g=l.name??"";return zh({name:g},l.parent,l.providers,g)}}}return(i=o).THROW_IF_NOT_FOUND=Ye,i.NULL=new sm,i.\u0275prov=It({token:i,providedIn:"any",factory:()=>it(HC)}),i.__NG_ELEMENT_ID__=-1,o})();function $h(i){return i.ngOriginalError}class yl{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&$h(o);for(;a&&$h(a);)a=$h(a);return a||null}}function hv(i){return o=>{setTimeout(i,void 0,o)}}const vc=class hE extends p.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let h=o,g=a||(()=>null),w=l;if(o&&"object"==typeof o){const S=o;h=S.next?.bind(S),g=S.error?.bind(S),w=S.complete?.bind(S)}this.__isAsync&&(g=hv(g),h&&(h=hv(h)),w&&(w=hv(w)));const C=super.subscribe({next:h,error:g,complete:w});return o instanceof G.w0&&o.add(C),C}};function fE(...i){}class ao{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vc(!1),this.onMicrotaskEmpty=new vc(!1),this.onStable=new vc(!1),this.onError=new vc(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function fv(){const i="function"==typeof tn.requestAnimationFrame;let o=tn[i?"requestAnimationFrame":"setTimeout"],a=tn[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function mv(i){const o=()=>{!function pE(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(tn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,_v(i),i.isCheckStableRunning=!0,gv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),_v(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,g,w,C)=>{if(function mE(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(C))return a.invokeTask(h,g,w,C);try{return XT(i),a.invokeTask(h,g,w,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&o(),gE(i)}},onInvoke:(a,l,h,g,w,C,S)=>{try{return XT(i),a.invoke(h,g,w,C,S)}finally{i.shouldCoalesceRunChangeDetection&&o(),gE(i)}},onHasTask:(a,l,h,g)=>{a.hasTask(h,g),l===h&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,_v(i),gv(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,h,g)=>(a.handleError(h,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ao.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(ao.isInAngularZone())throw new fe(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+h,o,pv,fE,fE);try{return g.runTask(w,a,l)}finally{g.cancelTask(w)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const pv={};function gv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function _v(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function XT(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function gE(i){i._nesting--,gv(i)}class wp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vc,this.onMicrotaskEmpty=new vc,this.onStable=new vc,this.onError=new vc}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}const Cp=new tr("",{providedIn:"root",factory:yv});function yv(){const i=ht(ao);let o=!0;const a=new B.y(h=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{h.next(o),h.complete()})}),l=new B.y(h=>{let g;i.runOutsideAngular(()=>{g=i.onStable.subscribe(()=>{ao.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,h.next(!0))})})});const w=i.onUnstable.subscribe(()=>{ao.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{h.next(!1)}))});return()=>{g.unsubscribe(),w.unsubscribe()}});return(0,te.T)(a,l.pipe((0,Ae.B)()))}function vl(i){return i instanceof Function?i():i}let wv=(()=>{var i;class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(i=o).\u0275prov=It({token:i,providedIn:"root",factory:()=>new i}),o})();function Hh(i){for(;i;){i[At]|=64;const o=gc(i);if(Si(i)&&!o)return i;i=o}return null}const wE=new tr("",{providedIn:"root",factory:()=>!1});let Zh=null;function Em(i,o){return i[o]??TE()}function DE(i,o){const a=TE();a.producerNode?.length&&(i[o]=Zh,a.lView=i,Zh=bv())}const Iv={...Ba,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Hh(i.lView)},lView:null};function bv(){return Object.create(Iv)}function TE(){return Zh??=bv(),Zh}const cn={};function SE(i){Dv(yn(),ze(),xi()+i,!1)}function Dv(i,o,a,l){if(!l)if(3==(3&o[At])){const g=i.preOrderCheckHooks;null!==g&&nc(o,g,a)}else{const g=i.preOrderHooks;null!==g&&bu(o,g,0,a)}qo(a)}function Gh(i,o=Ot.Default){const a=ze();return null===a?it(i,o):cc(li(),a,He(i),o)}function Im(){throw new Error("invalid")}function bm(i,o,a,l,h,g,w,C,S,P,F){const W=o.blueprint.slice();return W[Jn]=h,W[At]=140|l,(null!==P||i&&2048&i[At])&&(W[At]|=2048),yt(W),W[Pn]=W[Zr]=i,W[or]=a,W[Uo]=w||i&&i[Uo],W[rt]=C||i&&i[rt],W[Bo]=S||i&&i[Bo]||null,W[si]=g,W[jo]=function qg(){return QD++}(),W[Ti]=F,W[lu]=P,W[Er]=2==o.type?i[Er]:W,W}function Ad(i,o,a,l,h){let g=i.data[o];if(null===g)g=function Tv(i,o,a,l,h){const g=nl(),w=hh(),S=i.data[o]=function aS(i,o,a,l,h,g){let w=o?o.injectorIndex:-1,C=0;return function Wo(){return null!==St.skipHydrationRootTNode}()&&(C|=128),{type:a,index:l,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,a,o,l,h);return null===i.firstChild&&(i.firstChild=S),null!==g&&(w?null==g.child&&null!==S.parent&&(g.child=S):null===g.next&&(g.next=S,S.prev=g)),S}(i,o,a,l,h),function jg(){return St.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=a,g.value=l,g.attrs=h;const w=function ec(){const i=St.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return fs(g,!0),g}function Dm(i,o,a,l){if(0===a)return-1;const h=o.length;for(let g=0;g<a;g++)o.push(l),i.blueprint.push(l),i.data.push(null);return h}function Tm(i,o,a,l,h){const g=Em(o,du),w=xi(),C=2&l;try{qo(-1),C&&o.length>pn&&Dv(i,o,pn,!1),Ai(C?2:0,h);const P=C?g:null,F=vu(P);try{null!==P&&(P.dirty=!1),a(l,h)}finally{ar(P,F)}}finally{C&&null===o[du]&&DE(o,du),qo(w),Ai(C?3:1,h)}}function Sv(i,o,a){if($u(o)){const l=er(null);try{const g=o.directiveEnd;for(let w=o.directiveStart;w<g;w++){const C=i.data[w];C.contentQueries&&C.contentQueries(1,a[w],w)}}finally{er(l)}}}function Sm(i,o,a){br()&&(function gP(i,o,a,l){const h=a.directiveStart,g=a.directiveEnd;bo(a)&&function Mm(i,o,a){const l=f(o,i),h=wl(a);let w=16;a.signals?w=4096:a.onPush&&(w=64);const C=Pm(i,bm(i,h,null,w,l,o,null,i[Uo].rendererFactory.createRenderer(l,a),null,null,null));i[o.index]=C}(o,a,i.data[h+a.componentOffset]),i.firstCreatePass||Tr(a,o),xo(l,o);const w=a.initialInputs;for(let C=h;C<g;C++){const S=i.data[C],P=Mu(o,i,C,a);xo(P,o),null!==w&&gS(0,C-h,P,S,0,w),Gr(S)&&(V(a.index,o)[or]=Mu(o,i,C,a))}}(i,o,a,f(a,o)),64==(64&a.flags)&&fS(i,o,a))}function Am(i,o,a=f){const l=o.localNames;if(null!==l){let h=o.index+1;for(let g=0;g<l.length;g+=2){const w=l[g+1],C=-1===w?a(o,i):i[w];i[h++]=C}}}function wl(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Av(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function Av(i,o,a,l,h,g,w,C,S,P,F){const W=pn+l,ie=W+h,de=function AE(i,o){const a=[];for(let l=0;l<o;l++)a.push(l<i?null:cn);return a}(W,ie),Ne="function"==typeof P?P():P;return de[ot]={type:i,blueprint:de,template:a,queries:null,viewQuery:C,declTNode:o,data:de.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:S,consts:Ne,incompleteFirstPass:!1,ssrId:F}}let xE=i=>null;function xv(i,o,a,l){for(let h in i)if(i.hasOwnProperty(h)){a=null===a?{}:a;const g=i[h];null===l?OE(a,o,h,g):l.hasOwnProperty(h)&&OE(a,o,l[h],g)}return a}function OE(i,o,a,l){i.hasOwnProperty(a)?i[a].push(o,l):i[a]=[o,l]}function bs(i,o,a,l,h,g,w,C){const S=f(o,a);let F,P=o.inputs;!C&&null!=P&&(F=P[l])?(Lu(i,a,F,l,h),bo(o)&&function cS(i,o){const a=V(o,i);16&a[At]||(a[At]|=64)}(a,o.index)):3&o.type&&(l=function uS(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=w?w(h,o.value||"",l):h,g.setProperty(S,l,h))}function kE(i,o,a,l){if(br()){const h=null===l?null:{"":-1},g=function _P(i,o){const a=i.directiveRegistry;let l=null,h=null;if(a)for(let g=0;g<a.length;g++){const w=a[g];if(Rs(o,w.selectors,!1))if(l||(l=[]),Gr(w))if(null!==w.findHostDirectiveDefs){const C=[];h=h||new Map,w.findHostDirectiveDefs(w,C,h),l.unshift(...C,w),LE(i,o,C.length)}else l.unshift(w),LE(i,o,0);else h=h||new Map,w.findHostDirectiveDefs?.(w,l,h),l.push(w)}return null===l?null:[l,h]}(i,a);let w,C;null===g?w=C=null:[w,C]=g,null!==w&&lS(i,o,a,w,h,C),h&&function yP(i,o,a){if(o){const l=i.localNames=[];for(let h=0;h<o.length;h+=2){const g=a[o[h+1]];if(null==g)throw new fe(-301,!1);l.push(o[h],g)}}}(a,l,h)}a.mergedAttrs=_n(a.mergedAttrs,a.attrs)}function lS(i,o,a,l,h,g){for(let P=0;P<l.length;P++)Ea(Tr(a,o),i,l[P].type);!function pS(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,l.length);for(let P=0;P<l.length;P++){const F=l[P];F.providersResolver&&F.providersResolver(F)}let w=!1,C=!1,S=Dm(i,o,l.length,null);for(let P=0;P<l.length;P++){const F=l[P];a.mergedAttrs=_n(a.mergedAttrs,F.hostAttrs),wP(i,a,o,S,F),vP(S,F,h),null!==F.contentQueries&&(a.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=64);const W=F.type.prototype;!w&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),w=!0),!C&&(W.ngOnChanges||W.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),C=!0),S++}!function NE(i,o,a){const h=o.directiveEnd,g=i.data,w=o.attrs,C=[];let S=null,P=null;for(let F=o.directiveStart;F<h;F++){const W=g[F],ie=a?a.get(W):null,Ne=ie?ie.outputs:null;S=xv(W.inputs,F,S,ie?ie.inputs:null),P=xv(W.outputs,F,P,Ne);const Qe=null===S||null===w||wo(o)?null:mS(S,F,w);C.push(Qe)}null!==S&&(S.hasOwnProperty("class")&&(o.flags|=8),S.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=C,o.inputs=S,o.outputs=P}(i,a,g)}function fS(i,o,a){const l=a.directiveStart,h=a.directiveEnd,g=a.index,w=function zg(){return St.lFrame.currentDirectiveIndex}();try{qo(g);for(let C=l;C<h;C++){const S=i.data[C],P=o[C];il(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&mP(S,P)}}finally{qo(-1),il(w)}}function mP(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function LE(i,o,a){o.componentOffset=a,(i.components??=[]).push(o.index)}function vP(i,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=i;Gr(o)&&(a[""]=i)}}function wP(i,o,a,l,h){i.data[l]=h;const g=h.factory||(h.factory=zo(h.type)),w=new Du(g,Gr(h),Gh);i.blueprint[l]=w,a[l]=w,function dS(i,o,a,l,h){const g=h.hostBindings;if(g){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const C=~o.index;(function hS(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=C&&w.push(C),w.push(a,l,g)}}(i,o,l,Dm(i,a,h.hostVars,cn),h)}function ku(i,o,a,l,h,g){const w=f(i,o);!function Pv(i,o,a,l,h,g,w){if(null==g)i.removeAttribute(o,h,a);else{const C=null==w?we(g):w(g,l||"",h);i.setAttribute(o,h,C,a)}}(o[rt],w,g,i.value,a,l,h)}function gS(i,o,a,l,h,g){const w=g[o];if(null!==w)for(let C=0;C<w.length;)FE(l,a,w[C++],w[C++],w[C++])}function FE(i,o,a,l,h){const g=er(null);try{const w=i.inputTransforms;null!==w&&w.hasOwnProperty(l)&&(h=w[l].call(o,h)),null!==i.setInput?i.setInput(o,h,a,l):o[l]=h}finally{er(g)}}function mS(i,o,a){let l=null,h=0;for(;h<a.length;){const g=a[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(i.hasOwnProperty(g)){null===l&&(l=[]);const w=i[g];for(let C=0;C<w.length;C+=2)if(w[C]===o){l.push(g,w[C+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function Wn(i,o,a,l){return[i,!0,!1,o,null,0,l,a,null,null,null]}function xm(i,o){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const g=a[l+1];if(-1!==g){const w=i.data[g];gh(a[l]),w.contentQueries(2,o[g],g)}}}function Pm(i,o){return i[Yi]?i[Qi][_i]=o:i[Yi]=o,i[Qi]=o,o}function Ks(i,o,a){gh(0);const l=er(null);try{o(i,a)}finally{er(l)}}function VE(i){return i[us]||(i[us]=[])}function Ve(i){return i.cleanup||(i.cleanup=[])}function bp(i,o){const a=i[Bo],l=a?a.get(yl,null):null;l&&l.handleError(o)}function Lu(i,o,a,l,h){for(let g=0;g<a.length;){const w=a[g++],C=a[g++];FE(i.data[w],o[w],l,C,h)}}function _S(i,o){const a=V(o,i),l=a[ot];!function eu(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(l,a);const h=a[Jn];null!==h&&null===a[Ti]&&(a[Ti]=rE(h,a[Bo])),_t(l,a,a[or])}function _t(i,o,a){io(o);try{const l=i.viewQuery;null!==l&&Ks(1,l,a);const h=i.template;null!==h&&Tm(i,o,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&xm(i,o),i.staticViewQueries&&Ks(2,i.viewQuery,a);const g=i.components;null!==g&&function Ov(i,o){for(let a=0;a<o.length;a++)_S(i,o[a])}(o,g)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{o[At]&=-5,hi()}}let an=(()=>{var i;class o{constructor(){this.all=new Set,this.queue=new Map}create(l,h,g){const w=typeof Zone>"u"?null:Zone.current,C=function Ho(i,o,a){const l=Object.create(Xl);a&&(l.consumerAllowSignalWrites=!0),l.fn=i,l.schedule=o;const h=w=>{l.cleanupFn=w};return l.ref={notify:()=>yu(l),run:()=>{if(l.dirty=!1,l.hasRun&&!Wu(l))return;l.hasRun=!0;const w=vu(l);try{l.cleanupFn(),l.cleanupFn=Cu,l.fn(h)}finally{ar(l,w)}},cleanup:()=>l.cleanupFn()},l.ref}(l,F=>{this.all.has(F)&&this.queue.set(F,w)},g);let S;this.all.add(C),C.notify();const P=()=>{C.cleanup(),S?.(),this.all.delete(C),this.queue.delete(C)};return S=h?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[l,h]of this.queue)this.queue.delete(l),h?h.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=o).\u0275prov=It({token:i,providedIn:"root",factory:()=>new i}),o})();function Cl(i,o,a){let l=a?i.styles:null,h=a?i.classes:null,g=0;if(null!==o)for(let w=0;w<o.length;w++){const C=o[w];"number"==typeof C?g=C:1==g?h=Oe(h,C):2==g&&(l=Oe(l,C+": "+o[++w]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=h:i.classesWithoutHost=h}function Dp(i,o,a,l,h=!1){for(;null!==a;){const g=o[a.index];null!==g&&l.push(On(g)),Fr(g)&&Nm(g,l);const w=a.type;if(8&w)Dp(i,o,a.child,l);else if(32&w){const C=Ws(a,o);let S;for(;S=C();)l.push(S)}else if(16&w){const C=Vy(o,a);if(Array.isArray(C))l.push(...C);else{const S=gc(o[Er]);Dp(S[ot],S,C,l,!0)}}a=h?a.projectionNext:a.next}return l}function Nm(i,o){for(let a=Ir;a<i.length;a++){const l=i[a],h=l[ot].firstChild;null!==h&&Dp(l[ot],l,h,o)}i[kr]!==i[Jn]&&o.push(i[kr])}function Rm(i,o,a,l=!0){const h=o[Uo],g=h.rendererFactory,w=h.afterRenderEventManager;g.begin?.(),w?.begin();try{uo(i,o,i.template,a)}catch(S){throw l&&bp(o,S),S}finally{g.end?.(),h.effectManager?.flush(),w?.end()}}function uo(i,o,a,l){const h=o[At];if(256!=(256&h)){o[Uo].effectManager?.flush(),io(o);try{yt(o),function fh(i){return St.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Tm(i,o,a,2,l);const w=3==(3&h);if(w){const P=i.preOrderCheckHooks;null!==P&&nc(o,P,null)}else{const P=i.preOrderHooks;null!==P&&bu(o,P,0,null),al(o,0)}if(function Gi(i){for(let o=mC(i);null!==o;o=Ry(o)){if(!o[Ls])continue;const a=o[cs];for(let l=0;l<a.length;l++){Rt(a[l])}}}(o),Tp(o,2),null!==i.contentQueries&&xm(i,o),w){const P=i.contentCheckHooks;null!==P&&nc(o,P)}else{const P=i.contentHooks;null!==P&&bu(o,P,1),al(o,1)}!function iS(i,o){const a=i.hostBindingOpCodes;if(null===a)return;const l=Em(o,hr);try{for(let h=0;h<a.length;h++){const g=a[h];if(g<0)qo(~g);else{const w=g,C=a[++h],S=a[++h];rl(C,w),l.dirty=!1;const P=vu(l);try{S(2,o[w])}finally{ar(l,P)}}}}finally{null===o[hr]&&DE(o,hr),qo(-1)}}(i,o);const C=i.components;null!==C&&Nv(o,C,0);const S=i.viewQuery;if(null!==S&&Ks(2,S,l),w){const P=i.viewCheckHooks;null!==P&&nc(o,P)}else{const P=i.viewHooks;null!==P&&bu(o,P,2),al(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[At]&=-73,gn(o)}finally{hi()}}}function Tp(i,o){for(let a=mC(i);null!==a;a=Ry(a))for(let l=Ir;l<a.length;l++)BE(a[l],o)}function El(i,o,a){BE(V(o,i),a)}function BE(i,o){if(!function _e(i){return 128==(128&i[At])}(i))return;const a=i[ot],l=i[At];if(80&l&&0===o||1024&l||2===o)uo(a,i,a.template,i[or]);else if(i[Eo]>0){Tp(i,1);const h=a.components;null!==h&&Nv(i,h,1)}}function Nv(i,o,a){for(let l=0;l<o.length;l++)El(i,o[l],a)}class xd{get rootNodes(){const o=this._lView,a=o[ot];return Dp(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[or]}set context(o){this._lView[or]=o}get destroyed(){return 256==(256&this._lView[At])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Pn];if(Fr(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(Xg(o,l),hl(a,l))}this._attachedToViewContainer=!1}ky(this._lView[ot],this._lView)}onDestroy(o){!function ur(i,o){if(256==(256&i[At]))throw new fe(911,!1);null===i[ks]&&(i[ks]=[]),i[ks].push(o)}(this._lView,o)}markForCheck(){Hh(this._cdRefInjectingView||this._lView)}detach(){this._lView[At]&=-129}reattach(){this._lView[At]|=128}detectChanges(){Rm(this._lView[ot],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function np(i,o){sp(i,o,o[rt],2,null,null)}(this._lView[ot],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=o}}class UE extends xd{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Rm(o[ot],o,o[or],!1)}checkNoChanges(){}get context(){return null}}class co extends sv{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=hn(o);return new Ds(a,this.ngModule)}}function jE(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class km{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=An(l);const h=this.injector.get(o,Uh,l);return h!==Uh||a===Uh?h:this.parentInjector.get(o,a,l)}}class Ds extends ZT{get inputs(){const o=this.componentDef,a=o.inputTransforms,l=jE(o.inputs);if(null!==a)for(const h of l)a.hasOwnProperty(h.propName)&&(h.transform=a[h.propName]);return l}get outputs(){return jE(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function uu(i){return i.map(Lo).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,h){let g=(h=h||this.ngModule)instanceof Ja?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const w=g?new km(o,g):o,C=w.get(Td,null);if(null===C)throw new fe(407,!1);const W={rendererFactory:C,sanitizer:w.get(WT,null),effectManager:w.get(an,null),afterRenderEventManager:w.get(wv,null)},ie=C.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",Ne=l?function oS(i,o,a,l){const g=l.get(wE,!1)||a===yo.ShadowDom,w=i.selectRootElement(o,g);return function ME(i){xE(i)}(w),w}(ie,l,this.componentDef.encapsulation,w):Qg(ie,de,function Sp(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(de)),Bt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let We=null;null!==Ne&&(We=rE(Ne,w,!0));const Xt=Av(0,null,null,1,0,null,null,null,null,null,null),Dn=bm(null,Xt,null,Bt,null,null,W,ie,w,null,We);let dr,rs;io(Dn);try{const ju=this.componentDef;let Rf,Og=null;ju.findHostDirectiveDefs?(Rf=[],Og=new Map,ju.findHostDirectiveDefs(ju,Rf,Og),Rf.push(ju)):Rf=[ju];const JA=function vS(i,o){const a=i[ot],l=pn;return i[l]=o,Ad(a,l,2,"#host",null)}(Dn,Ne),Zw=function wS(i,o,a,l,h,g,w){const C=h[ot];!function Wh(i,o,a,l){for(const h of i)o.mergedAttrs=_n(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Cl(o,o.mergedAttrs,!0),null!==a&&ap(l,a,o))}(l,i,o,w);let S=null;null!==o&&(S=rE(o,h[Bo]));const P=g.rendererFactory.createRenderer(o,a);let F=16;a.signals?F=4096:a.onPush&&(F=64);const W=bm(h,wl(a),null,F,h[i.index],i,g,P,null,null,S);return C.firstCreatePass&&LE(C,i,l.length-1),Pm(h,W),h[i.index]=W}(JA,Ne,ju,Rf,Dn,W,ie);rs=T(Xt,pn),Ne&&function kv(i,o,a,l){if(l)Os(i,a,["ng-version",uE.full]);else{const{attrs:h,classes:g}=function Rr(i){const o=[],a=[];let l=1,h=2;for(;l<i.length;){let g=i[l];if("string"==typeof g)2===h?""!==g&&o.push(g,i[++l]):8===h&&a.push(g);else{if(!In(h))break;h=g}l++}return{attrs:o,classes:a}}(o.selectors[0]);h&&Os(i,a,h),g&&g.length>0&&DC(i,a,g.join(" "))}}(ie,ju,Ne,l),void 0!==a&&function $E(i,o,a){const l=i.projection=[];for(let h=0;h<o.length;h++){const g=a[h];l.push(null!=g?Array.from(g):null)}}(rs,this.ngContentSelectors,a),dr=function zE(i,o,a,l,h,g){const w=li(),C=h[ot],S=f(w,h);lS(C,h,w,a,null,l);for(let F=0;F<a.length;F++)xo(Mu(h,C,w.directiveStart+F,w),h);fS(C,h,w),S&&xo(S,h);const P=Mu(h,C,w.directiveStart+w.componentOffset,w);if(i[or]=h[or]=P,null!==g)for(const F of g)F(P,o);return Sv(C,w,i),P}(Zw,ju,Rf,Og,Dn,[CS]),_t(Xt,Dn,null)}finally{hi()}return new Rv(this.componentType,dr,_p(rs,Dn),Dn,rs)}}class Rv extends rP{constructor(o,a,l,h,g){super(),this.location=l,this._rootLView=h,this._tNode=g,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new UE(h),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const g=this._rootLView;Lu(g[ot],g,h,o,a),this.previousInputValues.set(o,a),Hh(V(this._tNode.index,g))}}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function CS(){const i=li();Ca(ze()[ot],i)}function Ap(i){let o=function Lv(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;o;){let h;if(Gr(i))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new fe(903,!1);h=o.\u0275dir}if(h){if(a){l.push(h);const w=i;w.inputs=qh(i.inputs),w.inputTransforms=qh(i.inputTransforms),w.declaredInputs=qh(i.declaredInputs),w.outputs=qh(i.outputs);const C=h.hostBindings;C&&HE(i,C);const S=h.viewQuery,P=h.contentQueries;if(S&&Vv(i,S),P&&Bv(i,P),X(i.inputs,h.inputs),X(i.declaredInputs,h.declaredInputs),X(i.outputs,h.outputs),null!==h.inputTransforms&&(null===w.inputTransforms&&(w.inputTransforms={}),X(w.inputTransforms,h.inputTransforms)),Gr(h)&&h.data.animation){const F=i.data;F.animation=(F.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let w=0;w<g.length;w++){const C=g[w];C&&C.ngInherit&&C(i),C===Ap&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Fv(i){let o=0,a=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=o+=h.hostVars,h.hostAttrs=_n(h.hostAttrs,a=_n(a,h.hostAttrs))}}(l)}function qh(i){return i===Di?{}:i===vn?[]:i}function Vv(i,o){const a=i.viewQuery;i.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function Bv(i,o){const a=i.contentQueries;i.contentQueries=a?(l,h,g)=>{o(l,h,g),a(l,h,g)}:o}function HE(i,o){const a=i.hostBindings;i.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}function Uv(i){const o=i.inputConfig,a={};for(const l in o)if(o.hasOwnProperty(l)){const h=o[l];Array.isArray(h)&&h[2]&&(a[l]=h[2])}i.inputTransforms=a}function Pp(i){return!!Op(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Op(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function lo(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Rp(i,o,a,l){const h=ze();return lo(h,Ha(),o)&&(yn(),ku(pr(),h,i,o,a,l)),Rp}function Yh(i,o,a,l){return lo(i,Ha(),a)?o+we(a)+l:cn}function Up(i,o,a,l,h,g,w,C){const S=ze(),P=yn(),F=i+pn,W=P.firstCreatePass?function Yv(i,o,a,l,h,g,w,C,S){const P=o.consts,F=Ad(o,i,4,w||null,Ge(P,C));kE(o,a,F,Ge(P,S)),Ca(o,F);const W=F.tView=Av(2,F,l,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,P,null);return null!==o.queries&&(o.queries.template(o,F),W.queries=o.queries.embeddedTView(F)),F}(F,P,S,o,a,l,h,g,w):P.data[F];fs(W,!1);const ie=ef(P,S,W,i);ms()&&ip(P,S,ie,W),xo(ie,S),Pm(S,S[F]=Wn(ie,S,ie,W)),yi(W)&&Sm(P,S,W),null!=w&&Am(S,W,C)}let ef=function Qv(i,o,a,l){return _s(!0),o[rt].createComment("")};function $m(i,o,a){const l=ze();return lo(l,Ha(),o)&&bs(yn(),pr(),l,i,o,l[rt],a,!1),$m}function Hm(i,o,a,l,h){const w=h?"class":"style";Lu(i,a,o.inputs[w],w,l)}function Zm(i,o,a,l){const h=ze(),g=yn(),w=pn+i,C=h[rt],S=g.firstCreatePass?function lI(i,o,a,l,h,g){const w=o.consts,S=Ad(o,i,2,l,Ge(w,h));return kE(o,a,S,Ge(w,g)),null!==S.attrs&&Cl(S,S.attrs,!1),null!==S.mergedAttrs&&Cl(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(w,g,h,o,a,l):g.data[w],P=jp(g,h,S,C,o,i);h[w]=P;const F=yi(S);return fs(S,!0),ap(C,P,S),32!=(32&S.flags)&&ms()&&ip(g,h,P,S),0===function Eu(){return St.lFrame.elementDepthCount}()&&xo(P,h),function Pr(){St.lFrame.elementDepthCount++}(),F&&(Sm(g,h,S),Sv(g,S,h)),null!==l&&Am(h,S),Zm}function xl(){let i=li();hh()?function nd(){St.lFrame.isParent=!1}():(i=i.parent,fs(i,!1));const o=i;(function Yn(i){return St.skipHydrationRootTNode===i})(o)&&function tl(){St.skipHydrationRootTNode=null}(),function Jc(){St.lFrame.elementDepthCount--}();const a=yn();return a.firstCreatePass&&(Ca(a,i),$u(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Ga(i){return 0!=(8&i.flags)}(o)&&Hm(a,o,ze(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ld(i){return 0!=(16&i.flags)}(o)&&Hm(a,o,ze(),o.stylesWithoutHost,!1),xl}function Gm(i,o,a,l){return Zm(i,o,a,l),xl(),Gm}let jp=(i,o,a,l,h,g)=>(_s(!0),Qg(l,h,function ad(){return St.lFrame.currentNamespace}()));function tf(i){return!!i&&"function"==typeof i.then}function $p(i){return!!i&&"function"==typeof i.subscribe}function Wm(i,o,a,l){const h=ze(),g=yn(),w=li();return function nf(i,o,a,l,h,g,w){const C=yi(l),P=i.firstCreatePass&&Ve(i),F=o[or],W=VE(o);let ie=!0;if(3&l.type||w){const Qe=f(l,o),pt=w?w(Qe):Qe,Bt=W.length,We=w?Dn=>w(On(Dn[l.index])):l.index;let Xt=null;if(!w&&C&&(Xt=function qm(i,o,a,l){const h=i.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const w=h[g];if(w===a&&h[g+1]===l){const C=o[us],S=h[g+2];return C.length>S?C[S]:null}"string"==typeof w&&(g+=2)}return null}(i,o,h,l.index)),null!==Xt)(Xt.__ngLastListenerFn__||Xt).__ngNextListenerFn__=g,Xt.__ngLastListenerFn__=g,ie=!1;else{g=dI(l,o,F,g,!1);const Dn=a.listen(pt,h,g);W.push(g,Dn),P&&P.push(h,We,Bt,Bt+1)}}else g=dI(l,o,F,g,!1);const de=l.outputs;let Ne;if(ie&&null!==de&&(Ne=de[h])){const Qe=Ne.length;if(Qe)for(let pt=0;pt<Qe;pt+=2){const dr=o[Ne[pt]][Ne[pt+1]].subscribe(g),rs=W.length;W.push(g,dr),P&&P.push(h,l.index,rs,-(rs+1))}}}(g,h,h[rt],w,i,o,l),Wm}function rf(i,o,a,l){try{return Ai(6,o,a),!1!==a(l)}catch(h){return bp(i,h),!1}finally{Ai(7,o,a)}}function dI(i,o,a,l,h){return function g(w){if(w===Function)return l;Hh(i.componentOffset>-1?V(i.index,o):o);let S=rf(o,a,l,w),P=g.__ngNextListenerFn__;for(;P;)S=rf(o,a,P,w)&&S,P=P.__ngNextListenerFn__;return h&&!1===S&&w.preventDefault(),S}}function s0(i=1){return function tc(i){return(St.lFrame.contextLView=function sl(i,o){for(;i>0;)o=o[Zr],i--;return o}(i,St.lFrame.contextLView))[or]}(i)}function a0(i,o,a){return Ld(i,"",o,"",a),a0}function Ld(i,o,a,l,h){const g=ze(),w=Yh(g,o,a,l);return w!==cn&&bs(yn(),pr(),g,i,w,g[rt],h,!1),Ld}function Km(i,o){return i<<17|o<<2}function bc(i){return i>>17&32767}function Hp(i){return 2|i}function Pl(i){return(131068&i)>>2}function Ym(i,o){return-131069&i|o<<2}function f0(i){return 1|i}function Gp(i,o,a,l,h){const g=i[a+1],w=null===o;let C=l?bc(g):Pl(g),S=!1;for(;0!==C&&(!1===S||w);){const F=i[C+1];p0(i[C],o)&&(S=!0,i[C+1]=l?f0(F):Hp(F)),C=l?bc(F):Pl(F)}S&&(i[a+1]=l?Hp(g):f0(g))}function p0(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&fl(i,o)>=0}function y0(i,o){return function Qs(i,o,a,l){const h=ze(),g=yn(),w=function gs(i){const o=St.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);g.firstUpdatePass&&function Kp(i,o,a,l){const h=i.data;if(null===h[a+1]){const g=h[xi()],w=function w0(i,o){return o>=i.expandoStartIndex}(i,a);(function b0(i,o){return 0!=(i.flags&(o?8:16))})(g,l)&&null===o&&!w&&(o=!1),o=function kS(i,o,a,l){const h=function id(i){const o=St.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let g=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=Vd(a=Jm(null,i,o,a,l),o.attrs,l),g=null);else{const w=o.directiveStylingLast;if(-1===w||i[w]!==h)if(a=Jm(h,i,o,a,l),null===g){let S=function wI(i,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Pl(l))return i[bc(l)]}(i,o,l);void 0!==S&&Array.isArray(S)&&(S=Jm(null,i,o,S[1],l),S=Vd(S,o.attrs,l),function Yp(i,o,a,l){i[bc(a?o.classBindings:o.styleBindings)]=l}(i,o,l,S))}else g=function CI(i,o,a){let l;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)l=Vd(l,i[g].hostAttrs,a);return Vd(l,o.attrs,a)}(i,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(h,g,o,l),function Qm(i,o,a,l,h,g){let w=g?o.classBindings:o.styleBindings,C=bc(w),S=Pl(w);i[l]=a;let F,P=!1;if(Array.isArray(a)?(F=a[1],(null===F||fl(a,F)>0)&&(P=!0)):F=a,h)if(0!==S){const ie=bc(i[C+1]);i[l+1]=Km(ie,C),0!==ie&&(i[ie+1]=Ym(i[ie+1],l)),i[C+1]=function h0(i,o){return 131071&i|o<<17}(i[C+1],l)}else i[l+1]=Km(C,0),0!==C&&(i[C+1]=Ym(i[C+1],l)),C=l;else i[l+1]=Km(S,0),0===C?C=l:i[S+1]=Ym(i[S+1],l),S=l;P&&(i[l+1]=Hp(i[l+1])),Gp(i,F,l,!0),Gp(i,F,l,!1),function Zp(i,o,a,l,h){const g=h?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof o&&fl(g,o)>=0&&(a[l+1]=f0(a[l+1]))}(o,F,i,l,g),w=Km(C,S),g?o.classBindings=w:o.styleBindings=w}(h,g,o,a,w,l)}}(g,i,w,l),o!==cn&&lo(h,w,o)&&function I0(i,o,a,l,h,g,w,C){if(!(3&o.type))return;const S=i.data,P=S[C+1],F=function NS(i){return 1==(1&i)}(P)?Ol(S,o,a,h,Pl(P),w):void 0;Qp(F)||(Qp(g)||function pI(i){return 2==(2&i)}(P)&&(g=Ol(S,null,a,h,C,w)),function gT(i,o,a,l,h){if(o)h?i.addClass(a,l):i.removeClass(a,l);else{let g=-1===l.indexOf("-")?void 0:Kf.DashCase;null==h?i.removeStyle(a,l,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Kf.Important),i.setStyle(a,l,h,g))}}(l,w,u(xi(),a),h,g))}(g,g.data[xi()],h,h[rt],i,h[w+1]=function II(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=le(gl(i)))),i}(o,a),l,w)}(i,o,null,!0),y0}function Jm(i,o,a,l,h){let g=null;const w=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<w&&(g=o[C],l=Vd(l,g.hostAttrs,h),g!==i);)C++;return null!==i&&(a.directiveStylingLast=C),l}function Vd(i,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const w=o[g];"number"==typeof w?h=w:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Yo(i,w,!!a||o[++g]))}return void 0===i?null:i}function Ol(i,o,a,l,h,g){const w=null===o;let C;for(;h>0;){const S=i[h],P=Array.isArray(S),F=P?S[1]:S,W=null===F;let ie=a[h+1];ie===cn&&(ie=W?vn:void 0);let de=W?Gf(ie,l):F===l?ie:void 0;if(P&&!Qp(de)&&(de=Gf(S,l)),Qp(de)&&(C=de,w))return C;const Ne=i[h+1];h=w?bc(Ne):Pl(Ne)}if(null!==o){let S=g?o.residualClasses:o.residualStyles;null!=S&&(C=Gf(S,l))}return C}function Qp(i){return void 0!==i}function D0(i,o=""){const a=ze(),l=yn(),h=i+pn,g=l.firstCreatePass?Ad(l,h,1,o,null):l.data[h],w=Xp(l,a,g,o,i);a[h]=w,ms()&&ip(l,a,w,g),fs(g,!1)}let Xp=(i,o,a,l,h)=>(_s(!0),function Yg(i,o){return i.createText(o)}(o[rt],l));function t_(i){return Tc("",i,""),t_}function Tc(i,o,a){const l=ze(),h=Yh(l,i,o,a);return h!==cn&&function wn(i,o,a){const l=u(o,i);!function _d(i,o,a){i.setValue(o,a)}(i[rt],l,a)}(l,xi(),h),Tc}const jd=void 0;var fi=["en",[["a","p"],["AM","PM"],jd],[["AM","PM"],jd,jd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jd,"{1} 'at' {0}",jd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Xe(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let fo={};function bt(i){const o=function Ni(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=mt(o);if(a)return a;const l=o.split("-")[0];if(a=mt(l),a)return a;if("en"===l)return fi;throw new fe(701,!1)}function NI(i){return bt(i)[Ze.PluralCase]}function mt(i){return i in fo||(fo[i]=tn.ng&&tn.ng.common&&tn.ng.common.locales&&tn.ng.common.locales[i]),fo[i]}var Ze=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Ze||{});const lf="en-US";let zS=lf;function pi(i,o,a,l,h){if(i=He(i),Array.isArray(i))for(let g=0;g<i.length;g++)pi(i[g],o,a,l,h);else{const g=yn(),w=ze(),C=li();let S=kh(i)?i:He(i.provide);const P=_c(i),F=1048575&C.providerIndexes,W=C.directiveStart,ie=C.providerIndexes>>20;if(kh(i)||!i.multi){const de=new Du(P,h,Gh),Ne=Ur(S,o,h?F:F+ie,W);-1===Ne?(Ea(Tr(C,w),g,S),z0(g,i,o.length),o.push(S),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),a.push(de),w.push(de)):(a[Ne]=de,w[Ne]=de)}else{const de=Ur(S,o,F+ie,W),Ne=Ur(S,o,F,F+ie),pt=Ne>=0&&a[Ne];if(h&&!pt||!h&&!(de>=0&&a[de])){Ea(Tr(C,w),g,S);const Bt=function ug(i,o,a,l,h){const g=new Du(i,a,Gh);return g.multi=[],g.index=o,g.componentProviders=0,Pc(g,h,l&&!a),g}(h?p_:Oc,a.length,h,l,P);!h&&pt&&(a[Ne].providerFactory=Bt),z0(g,i,o.length,0),o.push(S),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),a.push(Bt),w.push(Bt)}else z0(g,i,de>-1?de:Ne,Pc(a[h?Ne:de],P,!h&&l));!h&&l&&pt&&a[Ne].componentProviders++}}}function z0(i,o,a,l){const h=kh(o),g=function nP(i){return!!i.useClass}(o);if(h||g){const S=(g?He(o.useClass):o).prototype.ngOnDestroy;if(S){const P=i.destroyHooks||(i.destroyHooks=[]);if(!h&&o.multi){const F=P.indexOf(a);-1===F?P.push(a,[l,S]):P[F+1].push(l,S)}else P.push(a,S)}}}function Pc(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function Ur(i,o,a,l){for(let h=a;h<l;h++)if(o[h]===i)return h;return-1}function Oc(i,o,a,l){return gf(this.multi,[])}function p_(i,o,a,l){const h=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,C=Mu(a,a[ot],this.providerFactory.index,l);g=C.slice(0,w),gf(h,g);for(let S=w;S<C.length;S++)g.push(C[S])}else g=[],gf(h,g);return g}function gf(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function tb(i,o=[]){return a=>{a.providersResolver=(l,h)=>function eA(i,o,a){const l=yn();if(l.firstCreatePass){const h=Gr(i);pi(a,l.data,l.blueprint,h,!0),pi(o,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,o)}}class As{}class Nc{}function g_(i,o){return new xa(i,o??null,[])}class xa extends As{constructor(o,a,l){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new co(this);const h=Jt(o);this._bootstrapComponents=vl(h.bootstrap),this._r3Injector=vp(o,a,[{provide:As,useValue:this},{provide:sv,useValue:this.componentFactoryResolver},...l],le(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Zd extends Nc{constructor(o){super(),this.moduleType=o}create(o){return new xa(this.moduleType,o,[])}}class $0 extends As{constructor(o){super(),this.componentFactoryResolver=new co(this),this.instance=null;const a=new cm([...o.providers,{provide:As,useValue:this},{provide:sv,useValue:this.componentFactoryResolver}],o.parent||um(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Gd(i,o,a=null){return new $0({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let H0=(()=>{var i;class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const h=WC(0,l.type),g=h.length>0?Gd([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,g)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return(i=o).\u0275prov=It({token:i,providedIn:"environment",factory:()=>new i(it(Ja))}),o})();function cg(i){i.getStandaloneInjector=o=>o.get(H0).getOrCreateStandaloneInjector(i)}function y_(){return this._results[Symbol.iterator]()}class vf{get changes(){return this._changes||(this._changes=new vc)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=vf.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=y_)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=function Sr(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Mo(i,o,a){if(i.length!==o.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],g=o[l];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Lc(i,o,a,l=!0){const h=o[ot];if(function cT(i,o,a,l){const h=Ir+l,g=a.length;l>0&&(a[h-1][_i]=o),l<g-Ir?(o[_i]=a[h],Cy(a,Ir+l,o)):(a.push(o),o[_i]=null),o[Pn]=a;const w=o[ca];null!==w&&a!==w&&function lT(i,o){const a=i[cs];o[Er]!==o[Pn][Pn][Er]&&(i[Ls]=!0),null===a?i[cs]=[o]:a.push(o)}(w,o);const C=o[ui];null!==C&&C.insertView(i),o[At]|=128}(h,o,i,a),l){const g=By(a,i),w=o[rt],C=Jg(w,i[kr]);null!==C&&function tp(i,o,a,l,h,g){l[Jn]=h,l[si]=o,sp(i,l,a,1,h,g)}(h,i[si],w,o,C,g)}}let Fu=(()=>{class o{}return o.__NG_ELEMENT_ID__=v_,o})();const fb=Fu,ew=class extends fb{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a)}createEmbeddedViewImpl(o,a,l){const h=function hb(i,o,a,l){const h=o.tView,C=bm(i,h,a,4096&i[At]?4096:16,null,o,null,null,null,l?.injector??null,l?.hydrationInfo??null);C[ca]=i[o.index];const P=i[ui];return null!==P&&(C[ui]=P.createEmbeddedView(h)),_t(h,C,a),C}(this._declarationLView,this._declarationTContainer,o,{injector:a,hydrationInfo:l});return new xd(h)}};function v_(){return wf(li(),ze())}function wf(i,o){return 4&i.type?new ew(o,i,_p(i,o)):null}let E_=(()=>{class o{}return o.__NG_ELEMENT_ID__=Fc,o})();function Fc(){return rw(li(),ze())}const dA=E_,es=class extends dA{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return _p(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){const o=Zs(this._hostTNode,this._hostLView);if(sc(o)){const a=ys(o,this._hostLView),l=zi(o);return new qr(a[ot].data[l+8],a)}return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=nw(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Ir}createEmbeddedView(o,a,l){let h,g;"number"==typeof l?h=l:null!=l&&(h=l.index,g=l.injector);const C=o.createEmbeddedViewImpl(a||{},g,null);return this.insertImpl(C,h,false),C}createComponent(o,a,l,h,g){const w=o&&!function so(i){return"function"==typeof i}(o);let C;if(w)C=a;else{const Qe=a||{};C=Qe.index,l=Qe.injector,h=Qe.projectableNodes,g=Qe.environmentInjector||Qe.ngModuleRef}const S=w?o:new Ds(hn(o)),P=l||this.parentInjector;if(!g&&null==S.ngModule){const pt=(w?P:this.parentInjector).get(Ja,null);pt&&(g=pt)}hn(S.componentType??{});const de=S.create(P,h,null,g);return this.insertImpl(de.hostView,C,false),de}insert(o,a){return this.insertImpl(o,a,!1)}insertImpl(o,a,l){const h=o._lView;if(function be(i){return Fr(i[Pn])}(h)){const S=this.indexOf(o);if(-1!==S)this.detach(S);else{const P=h[Pn],F=new es(P,P[si],P[Pn]);F.detach(F.indexOf(o))}}const w=this._adjustIndex(a),C=this._lContainer;return Lc(C,h,w,!l),o.attachToViewContainerRef(),Cy(Yd(C),w,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=nw(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=Xg(this._lContainer,a);l&&(hl(Yd(this._lContainer),a),ky(l[ot],l))}detach(o){const a=this._adjustIndex(o,-1),l=Xg(this._lContainer,a);return l&&null!=hl(Yd(this._lContainer),a)?new xd(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function nw(i){return i[8]}function Yd(i){return i[8]||(i[8]=[])}function rw(i,o){let a;const l=o[i.index];return Fr(l)?a=l:(a=Wn(l,o,null,i),o[i.index]=a,Pm(o,a)),iw(a,o,i,l),new es(a,i,o)}let iw=function Cf(i,o,a,l){if(i[kr])return;let h;h=8&a.type?On(l):function Vu(i,o){const a=i[rt],l=a.createComment(""),h=f(o,i);return wd(a,Jg(a,h),l,function fT(i,o){return i.nextSibling(o)}(a,h),!1),l}(o,a),i[kr]=h};class fn{constructor(o){this.queryList=o,this.matches=null}clone(){return new fn(this.queryList)}setDirty(){this.queryList.setDirty()}}class ow{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let g=0;g<l;g++){const w=a.getByIndex(g);h.push(this.queries[w.indexInDeclarationView].clone())}return new ow(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==yb(o,a).matches&&this.queries[a].setDirty()}}class I_{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class b_{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,h);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new b_(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class D_{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new D_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const g=l[h];this.matchTNodeWithReadOption(o,a,mb(a,g)),this.matchTNodeWithReadOption(o,a,qa(a,o,g,!1,!1))}else l===Fu?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,qa(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===yc||h===E_||h===Fu&&4&a.type)this.addMatch(a.index,-2);else{const g=qa(a,o,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function mb(i,o){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function pA(i,o,a,l){return-1===a?function T_(i,o){return 11&i.type?_p(i,o):4&i.type?wf(i,o):null}(o,i):-2===a?function gA(i,o,a){return a===yc?_p(o,i):a===Fu?wf(o,i):a===E_?rw(o,i):void 0}(i,o,l):Mu(i,i[ot],a,o)}function sw(i,o,a,l){const h=o[ui].queries[l];if(null===h.matches){const g=i.data,w=a.matches,C=[];for(let S=0;S<w.length;S+=2){const P=w[S];C.push(P<0?null:pA(o,g[P],w[S+1],a.metadata.read))}h.matches=C}return h.matches}function Bl(i,o,a,l){const h=i.queries.getByIndex(a),g=h.matches;if(null!==g){const w=sw(i,o,h,a);for(let C=0;C<g.length;C+=2){const S=g[C];if(S>0)l.push(w[C/2]);else{const P=g[C+1],F=o[-S];for(let W=Ir;W<F.length;W++){const ie=F[W];ie[ca]===ie[Pn]&&Bl(ie[ot],ie,P,l)}if(null!==F[cs]){const W=F[cs];for(let ie=0;ie<W.length;ie++){const de=W[ie];Bl(de[ot],de,P,l)}}}}}return l}function Ul(i){const o=ze(),a=yn(),l=od();gh(l+1);const h=yb(a,l);if(i.dirty&&function J(i){return 4==(4&i[At])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const g=h.crossesNgTemplate?Bl(a,o,l,[]):sw(a,o,h,l);i.reset(g,ym),i.notifyOnChanges()}return!0}return!1}function jl(i,o,a,l){const h=yn();if(h.firstCreatePass){const g=li();(function cw(i,o,a){null===i.queries&&(i.queries=new b_),i.queries.track(new D_(o,a))})(h,new I_(o,a,l),g.index),function fg(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function uw(i,o,a){const l=new vf(4==(4&a));(function PE(i,o,a,l){const h=VE(o);h.push(a),i.firstCreatePass&&Ve(i).push(l,h.length-1)})(i,o,l,l.destroy),null===o[ui]&&(o[ui]=new ow),o[ui].queries.push(new fn(l))}(h,ze(),a)}function aw(){return function Ef(i,o){return i[ui].queries[o].queryList}(ze(),od())}function yb(i,o){return i.queries.getByIndex(o)}function M_(i){return!!Jt(i)}const Lb=new tr("Application Initializer");let B_=(()=>{var i;class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h}),this.appInits=ht(Lb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const g of this.appInits){const w=g();if(tf(w))l.push(w);else if($p(w)){const C=new Promise((S,P)=>{w.subscribe({complete:S,error:P})});l.push(C)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{h()}).catch(g=>{this.reject(g)}),0===l.length&&h(),this.initialized=!0}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=It({token:i,factory:i.\u0275fac,providedIn:"root"}),o})(),U_=(()=>{var i;class o{log(l){console.log(l)}warn(l){console.warn(l)}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=It({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();const j_=new tr("LocaleId",{providedIn:"root",factory:()=>ht(j_,Ot.Optional|Ot.SkipSelf)||function Fb(){return typeof $localize<"u"&&$localize.locale||lf}()}),Vb=new tr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Uc=(()=>{var i;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.X(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=It({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();class Df{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Bb=(()=>{var i;class o{compileModuleSync(l){return new Zd(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),w=vl(Jt(l).declarations).reduce((C,S)=>{const P=hn(S);return P&&C.push(new Ds(P)),C},[]);return new Df(h,w)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=It({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();const zc=new tr(""),ww=new tr("");let Cg,xA=(()=>{var i;class o{constructor(l,h,g){this._ngZone=l,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cg||(function PA(i){Cg=i}(g),g.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ao.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,g){let w=-1;h&&h>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==w),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:w,updateCb:g})}whenStable(l,h,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,g){return[]}}return(i=o).\u0275fac=function(l){return new(l||i)(it(ao),it(Cw),it(ww))},i.\u0275prov=It({token:i,factory:i.\u0275fac}),o})(),Cw=(()=>{var i;class o{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){return Cg?.findTestabilityInTree(this,l,h)??null}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=It({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})(),Bu=null;const Ew=new tr("AllowMultipleToken"),Eg=new tr("PlatformDestroyListeners"),Ig=new tr("appBootstrapListener");class W_{constructor(o,a){this.name=o,this.token=a}}function Af(i,o,a=[]){const l=`Platform: ${o}`,h=new tr(l);return(g=[])=>{let w=q_();if(!w||w.injector.get(Ew,!1)){const C=[...a,...g,{provide:h,useValue:!0}];i?i(C):function OA(i){if(Bu&&!Bu.get(Ew,!1))throw new fe(400,!1);(function Kb(){!function Yc(i){ro=i}(()=>{throw new fe(600,!1)})})(),Bu=i;const o=i.get(bg);(function Sf(i){i.get(tv,null)?.forEach(a=>a())})(i)}(function Tw(i=[],o){return Is.create({name:o,providers:[{provide:Qy,useValue:"platform"},{provide:Eg,useValue:new Set([()=>Bu=null])},...i]})}(C,l))}return function Qb(i){const o=q_();if(!o)throw new fe(401,!1);return o}()}}function q_(){return Bu?.get(bg)??null}let bg=(()=>{var i;class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const g=function Xb(i="zone.js",o){return"noop"===i?new wp:"zone.js"===i?new ao(o):i}(h?.ngZone,function Dg(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return g.run(()=>{const w=function Ll(i,o,a){return new xa(i,o,a)}(l.moduleType,this.injector,function tD(i){return[{provide:ao,useFactory:i},{provide:Rh,multi:!0,useFactory:()=>{const o=ht(Zl,{optional:!0});return()=>o.initialize()}},{provide:ih,useFactory:eD},{provide:Cp,useFactory:yv}]}(()=>g)),C=w.injector.get(yl,null);return g.runOutsideAngular(()=>{const S=g.onError.subscribe({next:P=>{C.handleError(P)}});w.onDestroy(()=>{Uu(this._modules,w),S.unsubscribe()})}),function $c(i,o,a){try{const l=a();return tf(l)?l.catch(h=>{throw o.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>i.handleError(l)),l}}(C,g,()=>{const S=w.injector.get(B_);return S.runInitializers(),S.donePromise.then(()=>(function kI(i){tt(i,"Expected localeId to be defined"),"string"==typeof i&&(zS=i.toLowerCase().replace(/_/g,"-"))}(w.injector.get(j_,lf)||lf),this._moduleDoBootstrap(w),w))})})}bootstrapModule(l,h=[]){const g=nh({},h);return function qb(i,o,a){const l=new Zd(a);return Promise.resolve(l)}(0,0,l).then(w=>this.bootstrapModuleFactory(w,g))}_moduleDoBootstrap(l){const h=l.injector.get(rh);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(g=>h.bootstrap(g));else{if(!l.instance.ngDoBootstrap)throw new fe(-403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(Eg,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=o).\u0275fac=function(l){return new(l||i)(it(Is))},i.\u0275prov=It({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();function nh(i,o){return Array.isArray(o)?o.reduce(nh,i):{...i,...o}}let rh=(()=>{var i;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ht(ih),this.zoneIsStable=ht(Cp),this.componentTypes=[],this.components=[],this.isStable=ht(Uc).hasPendingTasks.pipe((0,Re.w)(l=>l?(0,ge.of)(!1):this.zoneIsStable),(0,ye.x)(),(0,Ae.B)()),this._injector=ht(Ja)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,h){const g=l instanceof ZT;if(!this._injector.get(B_).done)throw!g&&oi(l),new fe(405,!1);let C;C=g?l:this._injector.get(sv).resolveComponentFactory(l),this.componentTypes.push(C.componentType);const S=function bw(i){return i.isBoundToModule}(C)?void 0:this._injector.get(As),F=C.create(Is.NULL,[],h||C.selector,S),W=F.location.nativeElement,ie=F.injector.get(zc,null);return ie?.registerApplication(W),F.onDestroy(()=>{this.detachView(F.hostView),Uu(this.components,F),ie?.unregisterApplication(W)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;Uu(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const h=this._injector.get(Ig,[]);h.push(...this._bootstrapListeners),h.forEach(g=>g(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Uu(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new fe(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=It({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function Uu(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}const ih=new tr("",{providedIn:"root",factory:()=>ht(yl).handleError.bind(void 0)});function eD(){const i=ht(ao),o=ht(yl);return a=>i.runOutsideAngular(()=>o.handleError(a))}let Zl=(()=>{var i;class o{constructor(){this.zone=ht(ao),this.applicationRef=ht(rh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=It({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function RA(){return!1}let LA=(()=>{class o{}return o.__NG_ELEMENT_ID__=rD,o})();function rD(i){return function FA(i,o,a){if(bo(i)&&!a){const l=V(i.index,o);return new xd(l,l)}return 47&i.type?new xd(o[Er],o):null}(li(),ze(),16==(16&i))}class Q_{constructor(){}supports(o){return Pp(o)}create(o){return new Ag(o)}}const Nw=(i,o)=>o;class Ag{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Nw}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,g=null;for(;a||l;){const w=!l||a&&a.currentIndex<kw(l,h,g)?a:l,C=kw(w,h,g),S=w.currentIndex;if(w===l)h--,l=l._nextRemoved;else if(a=a._next,null==w.previousIndex)h++;else{g||(g=[]);const P=C-h,F=S-h;if(P!=F){for(let ie=0;ie<P;ie++){const de=ie<g.length?g[ie]:g[ie]=0,Ne=de+ie;F<=Ne&&Ne<P&&(g[ie]=de+1)}g[w.previousIndex]=F-P}}C!==S&&o(w,C,S)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Pp(o))throw new fe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,w,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)g=o[C],w=this._trackByFn(C,g),null!==a&&Object.is(a.trackById,w)?(l&&(a=this._verifyReinsertion(a,g,w,C)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,w,C),l=!0),a=a._next}else h=0,function jv(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,C=>{w=this._trackByFn(h,C),null!==a&&Object.is(a.trackById,w)?(l&&(a=this._verifyReinsertion(a,C,w,h)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,w,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,h)):o=this._addAfter(new X_(a,l),g,h),o}_verifyReinsertion(o,a,l,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new J_),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new J_),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class X_{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Rw{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class J_{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new Rw,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kw(i,o,a){const l=i.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class oD{constructor(){}supports(o){return o instanceof Map||Op(o)}create(){return new sD}}class sD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Op(o)))throw new fe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const g=h._prev,w=h._next;return g&&(g._next=w),w&&(w._prev=g),h._next=null,h._prev=null,h}const l=new aD(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class aD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ey(){return new Lw([new Q_])}let Lw=(()=>{var i;class o{constructor(l){this.factories=l}static create(l,h){if(null!=h){const g=h.factories.slice();l=l.concat(g)}return new o(l)}static extend(l){return{provide:o,useFactory:h=>o.create(l,h||ey()),deps:[[o,new dt,new De]]}}find(l){const h=this.factories.find(g=>g.supports(l));if(null!=h)return h;throw new fe(901,!1)}}return(i=o).\u0275prov=It({token:i,providedIn:"root",factory:ey}),o})();function uD(){return new ty([new oD])}let ty=(()=>{var i;class o{constructor(l){this.factories=l}static create(l,h){if(h){const g=h.factories.slice();l=l.concat(g)}return new o(l)}static extend(l){return{provide:o,useFactory:h=>o.create(l,h||uD()),deps:[[o,new dt,new De]]}}find(l){const h=this.factories.find(g=>g.supports(l));if(h)return h;throw new fe(901,!1)}}return(i=o).\u0275prov=It({token:i,providedIn:"root",factory:uD}),o})();const ny=Af(null,"core",[]);let lD=(()=>{var i;class o{constructor(l){}}return(i=o).\u0275fac=function(l){return new(l||i)(it(rh))},i.\u0275mod=sa({type:i}),i.\u0275inj=qn({}),o})();function oy(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function Hw(i){const o=hn(i);if(!o)return null;const a=new Ds(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3399:(Tt,Fe,k)=>{"use strict";k.d(Fe,{Z:()=>ut});var p=k(9058),G=k(4537),B=k(7592),te=k(7879);class me{constructor(Je,Ue){this._delegate=Je,this.firebase=Ue,(0,B._addComponent)(Je,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=Je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this._delegate.automaticDataCollectionEnabled=Je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Je=>{this._delegate.checkDestroyed(),Je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Je,Ue=B._DEFAULT_ENTRY_NAME){var Et;this._delegate.checkDestroyed();const vt=this._delegate.container.getProvider(Je);return!vt.isInitialized()&&"EXPLICIT"===(null===(Et=vt.getComponent())||void 0===Et?void 0:Et.instantiationMode)&&vt.initialize(),vt.getImmediate({identifier:Ue})}_removeServiceInstance(Je,Ue=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Je).clearInstance(Ue)}_addComponent(Je){(0,B._addComponent)(this._delegate,Je)}_addOrOverwriteComponent(Je){(0,B._addOrOverwriteComponent)(this._delegate,Je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function ye(){const He=function Re(He){const Je={},Ue={__esModule:!0,initializeApp:function fe(Be,K={}){const je=B.initializeApp(Be,K);if((0,p.r3)(Je,je.name))return Je[je.name];const Ke=new He(je,Ue);return Je[je.name]=Ke,Ke},app:vt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function we(Be){const K=Be.name,je=K.replace("-compat","");if(B._registerComponent(Be)&&"PUBLIC"===Be.type){const Ke=(Pt=vt())=>{if("function"!=typeof Pt[je])throw Ae.create("invalid-app-argument",{appName:K});return Pt[je]()};void 0!==Be.serviceProps&&(0,p.ZB)(Ke,Be.serviceProps),Ue[je]=Ke,He.prototype[je]=function(...Pt){return this._getService.bind(this,K).apply(this,Be.multipleInstances?Pt:[])}}return"PUBLIC"===Be.type?Ue[je]:null},removeApp:function Et(Be){delete Je[Be]},useAsService:function Pe(Be,K){return"serverAuth"===K?null:K},modularAPIs:B}};function vt(Be){if(!(0,p.r3)(Je,Be=Be||B._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:Be});return Je[Be]}return Ue.default=Ue,Object.defineProperty(Ue,"apps",{get:function ke(){return Object.keys(Je).map(Be=>Je[Be])}}),vt.App=He,Ue}(me);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function Je(Ue){(0,p.ZB)(He,Ue)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),He}(),X=new te.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ut=q;!function $e(He){(0,B.registerVersion)("@firebase/app-compat","0.2.13",He)}()},7592:(Tt,Fe,k)=>{"use strict";k.r(Fe),k.d(Fe,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>qn,_DEFAULT_ENTRY_NAME:()=>pe,_addComponent:()=>Ee,_addOrOverwriteComponent:()=>qe,_apps:()=>ve,_clearComponents:()=>Ft,_components:()=>ce,_getProvider:()=>nt,_registerComponent:()=>tt,_removeServiceInstance:()=>Tn,deleteApp:()=>mi,getApp:()=>En,getApps:()=>Qn,initializeApp:()=>zn,onLog:()=>Xn,registerVersion:()=>$n,setLogLevel:()=>$r});var p=k(5861),G=k(4537),B=k(7879),te=k(9058),me=k(1878);class ge{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(xe=>{if(function Ae(Te){const ee=Te.getComponent();return"VERSION"===ee?.type}(xe)){const Ye=xe.getImmediate();return`${Ye.library}/${Ye.version}`}return null}).filter(xe=>xe).join(" ")}}const Re="@firebase/app",q=new B.Yd("@firebase/app"),pe="[DEFAULT]",Ce={[Re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ve=new Map,ce=new Map;function Ee(Te,ee){try{Te.container.addComponent(ee)}catch(xe){q.debug(`Component ${ee.name} failed to register with FirebaseApp ${Te.name}`,xe)}}function qe(Te,ee){Te.container.addOrOverwriteComponent(ee)}function tt(Te){const ee=Te.name;if(ce.has(ee))return q.debug(`There were multiple attempts to register component ${ee}.`),!1;ce.set(ee,Te);for(const xe of ve.values())Ee(xe,Te);return!0}function nt(Te,ee){const xe=Te.container.getProvider("heartbeat").getImmediate({optional:!0});return xe&&xe.triggerHeartbeat(),Te.container.getProvider(ee)}function Tn(Te,ee,xe=pe){nt(Te,ee).clearInstance(xe)}function Ft(){ce.clear()}const It=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xn{constructor(ee,xe,Ye){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},xe),this._name=xe.name,this._automaticDataCollectionEnabled=xe.automaticDataCollectionEnabled,this._container=Ye,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw It.create("app-deleted",{appName:this._name})}}const qn="9.23.0";function zn(Te,ee={}){let xe=Te;"object"!=typeof ee&&(ee={name:ee});const Ye=Object.assign({name:pe,automaticDataCollectionEnabled:!1},ee),wt=Ye.name;if("string"!=typeof wt||!wt)throw It.create("bad-app-name",{appName:String(wt)});if(xe||(xe=(0,te.aH)()),!xe)throw It.create("no-options");const Dt=ve.get(wt);if(Dt){if((0,te.vZ)(xe,Dt.options)&&(0,te.vZ)(Ye,Dt.config))return Dt;throw It.create("duplicate-app",{appName:wt})}const Sn=new G.H0(wt);for(const Y of ce.values())Sn.addComponent(Y);const Q=new xn(xe,Ye,Sn);return ve.set(wt,Q),Q}function En(Te=pe){const ee=ve.get(Te);if(!ee&&Te===pe&&(0,te.aH)())return zn();if(!ee)throw It.create("no-app",{appName:Te});return ee}function Qn(){return Array.from(ve.values())}function mi(Te){return wr.apply(this,arguments)}function wr(){return(wr=(0,p.Z)(function*(Te){const ee=Te.name;ve.has(ee)&&(ve.delete(ee),yield Promise.all(Te.container.getProviders().map(xe=>xe.delete())),Te.isDeleted=!0)})).apply(this,arguments)}function $n(Te,ee,xe){var Ye;let wt=null!==(Ye=Ce[Te])&&void 0!==Ye?Ye:Te;xe&&(wt+=`-${xe}`);const Dt=wt.match(/\s|\//),Sn=ee.match(/\s|\//);if(Dt||Sn){const Q=[`Unable to register library "${wt}" with version "${ee}":`];return Dt&&Q.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),Dt&&Sn&&Q.push("and"),Sn&&Q.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void q.warn(Q.join(" "))}tt(new G.wA(`${wt}-version`,()=>({library:wt,version:ee}),"VERSION"))}function Xn(Te,ee){if(null!==Te&&"function"!=typeof Te)throw It.create("invalid-log-argument");(0,B.Am)(Te,ee)}function $r(Te){(0,B.Ub)(Te)}const ki="firebase-heartbeat-database",Ot=1,Nt="firebase-heartbeat-store";let Wt=null;function ln(){return Wt||(Wt=(0,me.X3)(ki,Ot,{upgrade:(Te,ee)=>{0===ee&&Te.createObjectStore(Nt)}}).catch(Te=>{throw It.create("idb-open",{originalErrorMessage:Te.message})})),Wt}function _r(){return(_r=(0,p.Z)(function*(Te){try{return yield(yield ln()).transaction(Nt).objectStore(Nt).get(ri(Te))}catch(ee){if(ee instanceof te.ZR)q.warn(ee.message);else{const xe=It.create("idb-get",{originalErrorMessage:ee?.message});q.warn(xe.message)}}})).apply(this,arguments)}function tn(Te,ee){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,p.Z)(function*(Te,ee){try{const Ye=(yield ln()).transaction(Nt,"readwrite");yield Ye.objectStore(Nt).put(ee,ri(Te)),yield Ye.done}catch(xe){if(xe instanceof te.ZR)q.warn(xe.message);else{const Ye=It.create("idb-set",{originalErrorMessage:xe?.message});q.warn(Ye.message)}}})).apply(this,arguments)}function ri(Te){return`${Te.name}!${Te.options.appId}`}class dn{constructor(ee){this.container=ee,this._heartbeatsCache=null;const xe=this.container.getProvider("app").getImmediate();this._storage=new Li(xe),this._heartbeatsCachePromise=this._storage.read().then(Ye=>(this._heartbeatsCache=Ye,Ye))}triggerHeartbeat(){var ee=this;return(0,p.Z)(function*(){const Ye=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wt=kn();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==wt&&!ee._heartbeatsCache.heartbeats.some(Dt=>Dt.date===wt))return ee._heartbeatsCache.heartbeats.push({date:wt,agent:Ye}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(Dt=>{const Sn=new Date(Dt.date).valueOf();return Date.now()-Sn<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,p.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const xe=kn(),{heartbeatsToSend:Ye,unsentEntries:wt}=function bi(Te,ee=1024){const xe=[];let Ye=Te.slice();for(const wt of Te){const Dt=xe.find(Sn=>Sn.agent===wt.agent);if(Dt){if(Dt.dates.push(wt.date),yr(xe)>ee){Dt.dates.pop();break}}else if(xe.push({agent:wt.agent,dates:[wt.date]}),yr(xe)>ee){xe.pop();break}Ye=Ye.slice(1)}return{heartbeatsToSend:xe,unsentEntries:Ye}}(ee._heartbeatsCache.heartbeats),Dt=(0,te.L)(JSON.stringify({version:2,heartbeats:Ye}));return ee._heartbeatsCache.lastSentHeartbeatDate=xe,wt.length>0?(ee._heartbeatsCache.heartbeats=wt,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),Dt})()}}function kn(){return(new Date).toISOString().substring(0,10)}class Li{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,p.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function mr(Te){return _r.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var xe=this;return(0,p.Z)(function*(){var Ye;if(yield xe._canUseIndexedDBPromise){const Dt=yield xe.read();return tn(xe.app,{lastSentHeartbeatDate:null!==(Ye=ee.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Dt.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var xe=this;return(0,p.Z)(function*(){var Ye;if(yield xe._canUseIndexedDBPromise){const Dt=yield xe.read();return tn(xe.app,{lastSentHeartbeatDate:null!==(Ye=ee.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Dt.lastSentHeartbeatDate,heartbeats:[...Dt.heartbeats,...ee.heartbeats]})}})()}}function yr(Te){return(0,te.L)(JSON.stringify({version:2,heartbeats:Te})).length}!function rr(Te){tt(new G.wA("platform-logger",ee=>new ge(ee),"PRIVATE")),tt(new G.wA("heartbeat",ee=>new dn(ee),"PRIVATE")),$n(Re,"0.9.13",Te),$n(Re,"0.9.13","esm2017"),$n("fire-js","")}("")},4097:(Tt,Fe,k)=>{"use strict";k.d(Fe,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=k(7592);(0,p.registerVersion)("firebase","9.23.0","app")},120:(Tt,Fe,k)=>{"use strict";k.d(Fe,{Z:()=>p.Z});var p=k(3399);p.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(Tt,Fe,k)=>{"use strict";k.r(Fe);var p=k(5861),G=k(3399),B=k(6710),te=k(9058),Ae=(k(7592),k(7879),k(4537));function Re(){return window}function X(){return X=(0,p.Z)(function*($,H,U){var oe;const{BuildInfo:he}=Re();(0,B.as)(H.sessionId,"AuthEvent did not contain a session ID");const it=yield function Ue($){return Et.apply(this,arguments)}(H.sessionId),Ht={};return(0,B.at)()?Ht.ibi=he.packageName:(0,B.au)()?Ht.apn=he.packageName:(0,B.av)($,"operation-not-supported-in-this-environment"),he.displayName&&(Ht.appDisplayName=he.displayName),Ht.sessionId=it,(0,B.aw)($,U,H.type,void 0,null!==(oe=H.eventId)&&void 0!==oe?oe:void 0,Ht)}),X.apply(this,arguments)}function Oe(){return(Oe=(0,p.Z)(function*($){const{BuildInfo:H}=Re(),U={};(0,B.at)()?U.iosBundleId=H.packageName:(0,B.au)()?U.androidPackageName=H.packageName:(0,B.av)($,"operation-not-supported-in-this-environment"),yield(0,B.ax)($,U)})).apply(this,arguments)}function He(){return(He=(0,p.Z)(function*($,H,U){const{cordova:oe}=Re();let he=()=>{};try{yield new Promise((it,Ht)=>{let ht=null;function An(){var Yt;it();const ii=null===(Yt=oe.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof ii&&ii(),"function"==typeof U?.close&&U.close()}function Zt(){ht||(ht=window.setTimeout(()=>{Ht((0,B.az)($,"redirect-cancelled-by-user"))},2e3))}function Fn(){"visible"===document?.visibilityState&&Zt()}H.addPassiveListener(An),document.addEventListener("resume",Zt,!1),(0,B.au)()&&document.addEventListener("visibilitychange",Fn,!1),he=()=>{H.removePassiveListener(An),document.removeEventListener("resume",Zt,!1),document.removeEventListener("visibilitychange",Fn,!1),ht&&window.clearTimeout(ht)}})}finally{he()}})).apply(this,arguments)}function Et(){return(Et=(0,p.Z)(function*($){const H=function vt($){if((0,B.as)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const H=new ArrayBuffer($.length),U=new Uint8Array(H);for(let oe=0;oe<$.length;oe++)U[oe]=$.charCodeAt(oe);return U}($),U=yield crypto.subtle.digest("SHA-256",H);return Array.from(new Uint8Array(U)).map(he=>he.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ke extends B.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(H=>{this.resolveInialized=H})}addPassiveListener(H){this.passiveListeners.add(H)}removePassiveListener(H){this.passiveListeners.delete(H)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(H){return this.resolveInialized(),this.passiveListeners.forEach(U=>U(H)),super.onEvent(H)}initialized(){var H=this;return(0,p.Z)(function*(){yield H.initPromise})()}}function Be($){return K.apply(this,arguments)}function K(){return(K=(0,p.Z)(function*($){const H=yield Pt()._get(Gt($));return H&&(yield Pt()._remove(Gt($))),H})).apply(this,arguments)}function Ke(){const $=[];for(let U=0;U<20;U++){const oe=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(oe))}return $.join("")}function Pt(){return(0,B.aC)(B.b)}function Gt($){return(0,B.aD)("authEvent",$.config.apiKey,$.name)}function Vn($){if(!$?.includes("?"))return{};const[H,...U]=$.split("?");return(0,te.zd)(U.join("?"))}const pe=class on{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize(H){var U=this;return(0,p.Z)(function*(){const oe=H._key();let he=U.eventManagers.get(oe);return he||(he=new ke(H),U.eventManagers.set(oe,he),U.attachCallbackListeners(H,he)),he})()}_openPopup(H){(0,B.av)(H,"operation-not-supported-in-this-environment")}_openRedirect(H,U,oe,he){var it=this;return(0,p.Z)(function*(){!function Je($){var H,U,oe,he,it,Ht,ht,An,Zt,Fn;const Yt=Re();(0,B.aA)("function"==typeof(null===(H=Yt?.universalLinks)||void 0===H?void 0:H.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aA)(typeof(null===(U=Yt?.BuildInfo)||void 0===U?void 0:U.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aA)("function"==typeof(null===(it=null===(he=null===(oe=Yt?.cordova)||void 0===oe?void 0:oe.plugins)||void 0===he?void 0:he.browsertab)||void 0===it?void 0:it.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(An=null===(ht=null===(Ht=Yt?.cordova)||void 0===Ht?void 0:Ht.plugins)||void 0===ht?void 0:ht.browsertab)||void 0===An?void 0:An.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(Fn=null===(Zt=Yt?.cordova)||void 0===Zt?void 0:Zt.InAppBrowser)||void 0===Fn?void 0:Fn.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(H);const Ht=yield it._initialize(H);yield Ht.initialized(),Ht.resetRedirect(),(0,B.aG)(),yield it._originValidation(H);const ht=function we($,H,U=null){return{type:H,eventId:U,urlResponse:null,sessionId:Ke(),postBody:null,tenantId:$.tenantId,error:(0,B.az)($,"no-auth-event")}}(H,oe,he);yield function Pe($,H){return Pt()._set(Gt($),H)}(H,ht);const An=yield function q($,H,U){return X.apply(this,arguments)}(H,ht,U),Zt=yield function $e($){const{cordova:H}=Re();return new Promise(U=>{H.plugins.browsertab.isAvailable(oe=>{let he=null;oe?H.plugins.browsertab.openUrl($):he=H.InAppBrowser.open($,(0,B.ay)()?"_blank":"_system","location=yes"),U(he)})})}(An);return function ut($,H,U){return He.apply(this,arguments)}(H,Ht,Zt)})()}_isIframeWebStorageSupported(H,U){throw new Error("Method not implemented.")}_originValidation(H){const U=H._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function le($){return Oe.apply(this,arguments)}(H)),this.originValidationPromises[U]}attachCallbackListeners(H,U){const{universalLinks:oe,handleOpenURL:he,BuildInfo:it}=Re(),Ht=setTimeout((0,p.Z)(function*(){yield Be(H),U.onEvent(Ce())}),500),ht=function(){var Fn=(0,p.Z)(function*(Yt){clearTimeout(Ht);const ii=yield Be(H);let xs=null;ii&&Yt?.url&&(xs=function je($,H){var U,oe;const he=function Ct($){const H=Vn($),U=H.link?decodeURIComponent(H.link):void 0,oe=Vn(U).link,he=H.deep_link_id?decodeURIComponent(H.deep_link_id):void 0;return Vn(he).link||he||oe||U||$}(H);if(he.includes("/__/auth/callback")){const it=Vn(he),Ht=it.firebaseError?function Rn($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(it.firebaseError)):null,ht=null===(oe=null===(U=Ht?.code)||void 0===U?void 0:U.split("auth/"))||void 0===oe?void 0:oe[1],An=ht?(0,B.az)(ht):null;return An?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:An,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:he,postBody:null}}return null}(ii,Yt.url)),U.onEvent(xs||Ce())});return function(ii){return Fn.apply(this,arguments)}}();typeof oe<"u"&&"function"==typeof oe.subscribe&&oe.subscribe(null,ht);const An=he,Zt=`${it.packageName.toLowerCase()}://`;Re().handleOpenURL=function(){var Fn=(0,p.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(Zt)&&ht({url:Yt}),"function"==typeof An)try{An(Yt)}catch(ii){console.error(ii)}});return function(Yt){return Fn.apply(this,arguments)}}()}};function Ce(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.az)("no-auth-event")}}function tt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Tn($=(0,te.z$)()){return!("file:"!==tt()&&"ionic:"!==tt()&&"capacitor:"!==tt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function qn(){try{const $=self.localStorage,H=B.aL();if($)return $.setItem(H,"1"),$.removeItem(H),!function xn($=(0,te.z$)()){return function sn(){return(0,te.w1)()&&11===document?.documentMode}()||function It($=(0,te.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,te.hl)()}catch{return zn()&&(0,te.hl)()}return!1}function zn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function En(){return(function nt(){return"http:"===tt()||"https:"===tt()}()||(0,te.ru)()||Tn())&&!function Ft(){return(0,te.b$)()||(0,te.UG)()}()&&qn()&&!zn()}function Qn(){return Tn()&&typeof document<"u"}function wr(){return(wr=(0,p.Z)(function*(){return!!Qn()&&new Promise($=>{const H=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(H),$(!0)})})})).apply(this,arguments)}const Xn={LOCAL:"local",NONE:"none",SESSION:"session"},$r=B.aA,ki="persistence";function Nt($){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,p.Z)(function*($){yield $._initializationPromise;const H=mr(),U=B.aD(ki,$.config.apiKey,$.name);H&&H.setItem(U,$._getPersistence())})).apply(this,arguments)}function mr(){var $;try{return(null===($=function $n(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const _r=B.aA;class tn{constructor(){this.browserResolver=B.aC(B.k),this.cordovaResolver=B.aC(pe),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize(H){var U=this;return(0,p.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize(H)})()}_openPopup(H,U,oe,he){var it=this;return(0,p.Z)(function*(){return yield it.selectUnderlyingResolver(),it.assertedUnderlyingResolver._openPopup(H,U,oe,he)})()}_openRedirect(H,U,oe,he){var it=this;return(0,p.Z)(function*(){return yield it.selectUnderlyingResolver(),it.assertedUnderlyingResolver._openRedirect(H,U,oe,he)})()}_isIframeWebStorageSupported(H,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported(H,U)}_originValidation(H){return this.assertedUnderlyingResolver._originValidation(H)}get _shouldInitProactively(){return Qn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _r(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var H=this;return(0,p.Z)(function*(){if(H.underlyingResolver)return;const U=yield function mi(){return wr.apply(this,arguments)}();H.underlyingResolver=U?H.cordovaResolver:H.browserResolver})()}}function Gn($){return $.unwrap()}function mn($){return dn($)}function dn($){const{_tokenResponse:H}=$ instanceof te.ZR?$.customData:$;if(!H)return null;if(!($ instanceof te.ZR)&&"temporaryProof"in H&&"phoneNumber"in H)return B.P.credentialFromResult($);const U=H.providerId;if(!U||U===B.p.PASSWORD)return null;let oe;switch(U){case B.p.GOOGLE:oe=B.V;break;case B.p.FACEBOOK:oe=B.U;break;case B.p.GITHUB:oe=B.W;break;case B.p.TWITTER:oe=B.Z;break;default:const{oauthIdToken:he,oauthAccessToken:it,oauthTokenSecret:Ht,pendingToken:ht,nonce:An}=H;return it||Ht||he||ht?ht?U.startsWith("saml.")?B.aO._create(U,ht):B.L._fromParams({providerId:U,signInMethod:U,pendingToken:ht,idToken:he,accessToken:it}):new B.X(U).credential({idToken:he,accessToken:it,rawNonce:An}):null}return $ instanceof te.ZR?oe.credentialFromError($):oe.credentialFromResult($)}function kn($,H){return H.catch(U=>{throw U instanceof te.ZR&&function Hr($,H){var U;const oe=null===(U=H.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===H?.code)H.resolver=new yr($,B.aq($,H));else if(oe){const he=dn(H),it=H;he&&(it.credential=he,it.tenantId=oe.tenantId||void 0,it.email=oe.email||void 0,it.phoneNumber=oe.phoneNumber||void 0)}}($,U),U}).then(U=>{const he=U.user;return{operationType:U.operationType,credential:mn(U),additionalUserInfo:B.ao(U),user:rr.getOrCreate(he)}})}function bi($,H){return Li.apply(this,arguments)}function Li(){return(Li=(0,p.Z)(function*($,H){const U=yield H;return{verificationId:U.verificationId,confirm:oe=>kn($,U.confirm(oe))}})).apply(this,arguments)}class yr{constructor(H,U){this.resolver=U,this.auth=function ri($){return $.wrapped()}(H)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(H){return kn(Gn(this.auth),this.resolver.resolveSignIn(H))}}class rr{constructor(H){this._delegate=H,this.multiFactor=B.ar(H)}static getOrCreate(H){return rr.USER_MAP.has(H)||rr.USER_MAP.set(H,new rr(H)),rr.USER_MAP.get(H)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(H){return this._delegate.getIdTokenResult(H)}getIdToken(H){return this._delegate.getIdToken(H)}linkAndRetrieveDataWithCredential(H){return this.linkWithCredential(H)}linkWithCredential(H){var U=this;return(0,p.Z)(function*(){return kn(U.auth,B.a0(U._delegate,H))})()}linkWithPhoneNumber(H,U){var oe=this;return(0,p.Z)(function*(){return bi(oe.auth,B.l(oe._delegate,H,U))})()}linkWithPopup(H){var U=this;return(0,p.Z)(function*(){return kn(U.auth,B.d(U._delegate,H,tn))})()}linkWithRedirect(H){var U=this;return(0,p.Z)(function*(){return yield Nt(B.aH(U.auth)),B.g(U._delegate,H,tn)})()}reauthenticateAndRetrieveDataWithCredential(H){return this.reauthenticateWithCredential(H)}reauthenticateWithCredential(H){var U=this;return(0,p.Z)(function*(){return kn(U.auth,B.a1(U._delegate,H))})()}reauthenticateWithPhoneNumber(H,U){return bi(this.auth,B.r(this._delegate,H,U))}reauthenticateWithPopup(H){return kn(this.auth,B.e(this._delegate,H,tn))}reauthenticateWithRedirect(H){var U=this;return(0,p.Z)(function*(){return yield Nt(B.aH(U.auth)),B.h(U._delegate,H,tn)})()}sendEmailVerification(H){return B.ae(this._delegate,H)}unlink(H){var U=this;return(0,p.Z)(function*(){return yield B.an(U._delegate,H),U})()}updateEmail(H){return B.aj(this._delegate,H)}updatePassword(H){return B.ak(this._delegate,H)}updatePhoneNumber(H){return B.u(this._delegate,H)}updateProfile(H){return B.ai(this._delegate,H)}verifyBeforeUpdateEmail(H,U){return B.af(this._delegate,H,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}rr.USER_MAP=new WeakMap;const Te=B.aA;let ee=(()=>{class ${constructor(U,oe){if(this.app=U,oe.isInitialized())return this._delegate=oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:he}=U.options;Te(he,"invalid-api-key",{appName:U.name}),Te(he,"invalid-api-key",{appName:U.name});const it=typeof window<"u"?tn:void 0;this._delegate=oe.initialize({options:{persistence:Ye(he,U.name),popupRedirectResolver:it}}),this._delegate._updateErrorMap(B.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?rr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,oe){B.I(this._delegate,U,oe)}applyActionCode(U){return B.a5(this._delegate,U)}checkActionCode(U){return B.a6(this._delegate,U)}confirmPasswordReset(U,oe){return B.a4(this._delegate,U,oe)}createUserWithEmailAndPassword(U,oe){var he=this;return(0,p.Z)(function*(){return kn(he._delegate,B.a8(he._delegate,U,oe))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return B.ad(this._delegate,U)}isSignInWithEmailLink(U){return B.ab(this._delegate,U)}getRedirectResult(){var U=this;return(0,p.Z)(function*(){Te(En(),U._delegate,"operation-not-supported-in-this-environment");const oe=yield B.j(U._delegate,tn);return oe?kn(U._delegate,Promise.resolve(oe)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function ve($,H){(0,B.aH)($)._logFramework(H)}(this._delegate,U)}onAuthStateChanged(U,oe,he){const{next:it,error:Ht,complete:ht}=xe(U,oe,he);return this._delegate.onAuthStateChanged(it,Ht,ht)}onIdTokenChanged(U,oe,he){const{next:it,error:Ht,complete:ht}=xe(U,oe,he);return this._delegate.onIdTokenChanged(it,Ht,ht)}sendSignInLinkToEmail(U,oe){return B.aa(this._delegate,U,oe)}sendPasswordResetEmail(U,oe){return B.a3(this._delegate,U,oe||void 0)}setPersistence(U){var oe=this;return(0,p.Z)(function*(){let he;switch(function Ot($,H){$r(Object.values(Xn).includes(H),$,"invalid-persistence-type"),(0,te.b$)()?$r(H!==Xn.SESSION,$,"unsupported-persistence-type"):(0,te.UG)()?$r(H===Xn.NONE,$,"unsupported-persistence-type"):zn()?$r(H===Xn.NONE||H===Xn.LOCAL&&(0,te.hl)(),$,"unsupported-persistence-type"):$r(H===Xn.NONE||qn(),$,"unsupported-persistence-type")}(oe._delegate,U),U){case Xn.SESSION:he=B.a;break;case Xn.LOCAL:he=(yield B.aC(B.i)._isAvailable())?B.i:B.b;break;case Xn.NONE:he=B.N;break;default:return B.av("argument-error",{appName:oe._delegate.name})}return oe._delegate.setPersistence(he)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return kn(this._delegate,B._(this._delegate))}signInWithCredential(U){return kn(this._delegate,B.$(this._delegate,U))}signInWithCustomToken(U){return kn(this._delegate,B.a2(this._delegate,U))}signInWithEmailAndPassword(U,oe){return kn(this._delegate,B.a9(this._delegate,U,oe))}signInWithEmailLink(U,oe){return kn(this._delegate,B.ac(this._delegate,U,oe))}signInWithPhoneNumber(U,oe){return bi(this._delegate,B.s(this._delegate,U,oe))}signInWithPopup(U){var oe=this;return(0,p.Z)(function*(){return Te(En(),oe._delegate,"operation-not-supported-in-this-environment"),kn(oe._delegate,B.c(oe._delegate,U,tn))})()}signInWithRedirect(U){var oe=this;return(0,p.Z)(function*(){return Te(En(),oe._delegate,"operation-not-supported-in-this-environment"),yield Nt(oe._delegate),B.f(oe._delegate,U,tn)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return B.a7(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=Xn,$})();function xe($,H,U){let oe=$;"function"!=typeof $&&({next:oe,error:H,complete:U}=$);const he=oe;return{next:Ht=>he(Ht&&rr.getOrCreate(Ht)),error:H,complete:U}}function Ye($,H){const U=function ln($,H){const U=mr();if(!U)return[];const oe=B.aD(ki,$,H);switch(U.getItem(oe)){case Xn.NONE:return[B.N];case Xn.LOCAL:return[B.i,B.a];case Xn.SESSION:return[B.a];default:return[]}}($,H);if(typeof self<"u"&&!U.includes(B.i)&&U.push(B.i),typeof window<"u")for(const oe of[B.b,B.a])U.includes(oe)||U.push(oe);return U.includes(B.N)||U.push(B.N),U}class wt{constructor(){this.providerId="phone",this._delegate=new B.P(Gn(G.Z.auth()))}static credential(H,U){return B.P.credential(H,U)}verifyPhoneNumber(H,U){return this._delegate.verifyPhoneNumber(H,U)}unwrap(){return this._delegate}}wt.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,wt.PROVIDER_ID=B.P.PROVIDER_ID;const Dt=B.aA;class Sn{constructor(H,U,oe=G.Z.app()){var he;Dt(null===(he=oe.options)||void 0===he?void 0:he.apiKey,"invalid-api-key",{appName:oe.name}),this._delegate=new B.R(H,U,oe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Y($){$.INTERNAL.registerComponent(new Ae.wA("auth-compat",H=>{const U=H.getProvider("app-compat").getImmediate(),oe=H.getProvider("auth");return new ee(U,oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.Q,FacebookAuthProvider:B.U,GithubAuthProvider:B.W,GoogleAuthProvider:B.V,OAuthProvider:B.X,SAMLAuthProvider:B.Y,PhoneAuthProvider:wt,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:Sn,TwitterAuthProvider:B.Z,Auth:ee,AuthCredential:B.J,Error:te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.4.2")}(G.Z)},4303:(Tt,Fe,k)=>{"use strict";k.d(Fe,{Jn:()=>qn,KN:()=>$n,Xd:()=>tt,qX:()=>nt});var p=k(5861),G=k(4537),B=k(7879),te=k(9058),me=k(1878);class ge{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(xe=>{if(function Ae(Te){const ee=Te.getComponent();return"VERSION"===ee?.type}(xe)){const Ye=xe.getImmediate();return`${Ye.library}/${Ye.version}`}return null}).filter(xe=>xe).join(" ")}}const Re="@firebase/app",q=new B.Yd("@firebase/app"),Ce={[Re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ve=new Map,ce=new Map;function Ee(Te,ee){try{Te.container.addComponent(ee)}catch(xe){q.debug(`Component ${ee.name} failed to register with FirebaseApp ${Te.name}`,xe)}}function tt(Te){const ee=Te.name;if(ce.has(ee))return q.debug(`There were multiple attempts to register component ${ee}.`),!1;ce.set(ee,Te);for(const xe of ve.values())Ee(xe,Te);return!0}function nt(Te,ee){const xe=Te.container.getProvider("heartbeat").getImmediate({optional:!0});return xe&&xe.triggerHeartbeat(),Te.container.getProvider(ee)}const It=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),qn="10.5.0";function $n(Te,ee,xe){var Ye;let wt=null!==(Ye=Ce[Te])&&void 0!==Ye?Ye:Te;xe&&(wt+=`-${xe}`);const Dt=wt.match(/\s|\//),Sn=ee.match(/\s|\//);if(Dt||Sn){const Q=[`Unable to register library "${wt}" with version "${ee}":`];return Dt&&Q.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),Dt&&Sn&&Q.push("and"),Sn&&Q.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void q.warn(Q.join(" "))}tt(new G.wA(`${wt}-version`,()=>({library:wt,version:ee}),"VERSION"))}const ki="firebase-heartbeat-database",Ot=1,Nt="firebase-heartbeat-store";let Wt=null;function ln(){return Wt||(Wt=(0,me.X3)(ki,Ot,{upgrade:(Te,ee)=>{0===ee&&Te.createObjectStore(Nt)}}).catch(Te=>{throw It.create("idb-open",{originalErrorMessage:Te.message})})),Wt}function _r(){return(_r=(0,p.Z)(function*(Te){try{return yield(yield ln()).transaction(Nt).objectStore(Nt).get(ri(Te))}catch(ee){if(ee instanceof te.ZR)q.warn(ee.message);else{const xe=It.create("idb-get",{originalErrorMessage:ee?.message});q.warn(xe.message)}}})).apply(this,arguments)}function tn(Te,ee){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,p.Z)(function*(Te,ee){try{const Ye=(yield ln()).transaction(Nt,"readwrite");yield Ye.objectStore(Nt).put(ee,ri(Te)),yield Ye.done}catch(xe){if(xe instanceof te.ZR)q.warn(xe.message);else{const Ye=It.create("idb-set",{originalErrorMessage:xe?.message});q.warn(Ye.message)}}})).apply(this,arguments)}function ri(Te){return`${Te.name}!${Te.options.appId}`}class dn{constructor(ee){this.container=ee,this._heartbeatsCache=null;const xe=this.container.getProvider("app").getImmediate();this._storage=new Li(xe),this._heartbeatsCachePromise=this._storage.read().then(Ye=>(this._heartbeatsCache=Ye,Ye))}triggerHeartbeat(){var ee=this;return(0,p.Z)(function*(){const Ye=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wt=kn();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==wt&&!ee._heartbeatsCache.heartbeats.some(Dt=>Dt.date===wt))return ee._heartbeatsCache.heartbeats.push({date:wt,agent:Ye}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(Dt=>{const Sn=new Date(Dt.date).valueOf();return Date.now()-Sn<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,p.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const xe=kn(),{heartbeatsToSend:Ye,unsentEntries:wt}=function bi(Te,ee=1024){const xe=[];let Ye=Te.slice();for(const wt of Te){const Dt=xe.find(Sn=>Sn.agent===wt.agent);if(Dt){if(Dt.dates.push(wt.date),yr(xe)>ee){Dt.dates.pop();break}}else if(xe.push({agent:wt.agent,dates:[wt.date]}),yr(xe)>ee){xe.pop();break}Ye=Ye.slice(1)}return{heartbeatsToSend:xe,unsentEntries:Ye}}(ee._heartbeatsCache.heartbeats),Dt=(0,te.L)(JSON.stringify({version:2,heartbeats:Ye}));return ee._heartbeatsCache.lastSentHeartbeatDate=xe,wt.length>0?(ee._heartbeatsCache.heartbeats=wt,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),Dt})()}}function kn(){return(new Date).toISOString().substring(0,10)}class Li{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,p.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function mr(Te){return _r.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var xe=this;return(0,p.Z)(function*(){var Ye;if(yield xe._canUseIndexedDBPromise){const Dt=yield xe.read();return tn(xe.app,{lastSentHeartbeatDate:null!==(Ye=ee.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Dt.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var xe=this;return(0,p.Z)(function*(){var Ye;if(yield xe._canUseIndexedDBPromise){const Dt=yield xe.read();return tn(xe.app,{lastSentHeartbeatDate:null!==(Ye=ee.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Dt.lastSentHeartbeatDate,heartbeats:[...Dt.heartbeats,...ee.heartbeats]})}})()}}function yr(Te){return(0,te.L)(JSON.stringify({version:2,heartbeats:Te})).length}!function rr(Te){tt(new G.wA("platform-logger",ee=>new ge(ee),"PRIVATE")),tt(new G.wA("heartbeat",ee=>new dn(ee),"PRIVATE")),$n(Re,"0.9.20",Te),$n(Re,"0.9.20","esm2017"),$n("fire-js","")}("")},4537:(Tt,Fe,k)=>{"use strict";k.d(Fe,{H0:()=>Re,wA:()=>B});var p=k(5861),G=k(9058);class B{constructor(q,X,le){this.name=q,this.instanceFactory=X,this.type=le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const te="[DEFAULT]";class me{constructor(q,X){this.name=q,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const X=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(X)){const le=new G.BH;if(this.instancesDeferred.set(X,le),this.isInitialized(X)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:X});Oe&&le.resolve(Oe)}catch{}}return this.instancesDeferred.get(X).promise}getImmediate(q){var X;const le=this.normalizeInstanceIdentifier(q?.identifier),Oe=null!==(X=q?.optional)&&void 0!==X&&X;if(!this.isInitialized(le)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:le})}catch($e){if(Oe)return null;throw $e}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function Ae(ye){return"EAGER"===ye.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[X,le]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(X);try{const $e=this.getOrInitializeService({instanceIdentifier:Oe});le.resolve($e)}catch{}}}}clearInstance(q=te){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,p.Z)(function*(){const X=Array.from(q.instances.values());yield Promise.all([...X.filter(le=>"INTERNAL"in le).map(le=>le.INTERNAL.delete()),...X.filter(le=>"_delete"in le).map(le=>le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=te){return this.instances.has(q)}getOptions(q=te){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:X={}}=q,le=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(le))throw Error(`${this.name}(${le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:le,options:X});for(const[$e,ut]of this.instancesDeferred.entries())le===this.normalizeInstanceIdentifier($e)&&ut.resolve(Oe);return Oe}onInit(q,X){var le;const Oe=this.normalizeInstanceIdentifier(X),$e=null!==(le=this.onInitCallbacks.get(Oe))&&void 0!==le?le:new Set;$e.add(q),this.onInitCallbacks.set(Oe,$e);const ut=this.instances.get(Oe);return ut&&q(ut,Oe),()=>{$e.delete(q)}}invokeOnInitCallbacks(q,X){const le=this.onInitCallbacks.get(X);if(le)for(const Oe of le)try{Oe(q,X)}catch{}}getOrInitializeService({instanceIdentifier:q,options:X={}}){let le=this.instances.get(q);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=q,ye===te?void 0:ye),options:X}),this.instances.set(q,le),this.instancesOptions.set(q,X),this.invokeOnInitCallbacks(le,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,le)}catch{}var ye;return le||null}normalizeInstanceIdentifier(q=te){return this.component?this.component.multipleInstances?q:te:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const X=this.getProvider(q.name);if(X.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);X.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const X=new me(q,this);return this.providers.set(q,X),X}getProviders(){return Array.from(this.providers.values())}}},7879:(Tt,Fe,k)=>{"use strict";k.d(Fe,{Am:()=>ye,Ub:()=>Re,Yd:()=>Ae,in:()=>G});const p=[];var G=function(q){return q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",q}(G||{});const B={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},te=G.INFO,me={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},ge=(q,X,...le)=>{if(X<q.logLevel)return;const Oe=(new Date).toISOString(),$e=me[X];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[$e](`[${Oe}]  ${q.name}:`,...le)};class Ae{constructor(X){this.name=X,this._logLevel=te,this._logHandler=ge,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in G))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?B[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...X),this._logHandler(this,G.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...X),this._logHandler(this,G.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,G.INFO,...X),this._logHandler(this,G.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,G.WARN,...X),this._logHandler(this,G.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...X),this._logHandler(this,G.ERROR,...X)}}function Re(q){p.forEach(X=>{X.setLogLevel(q)})}function ye(q,X){for(const le of p){let Oe=null;X&&X.level&&(Oe=B[X.level]),le.userLogHandler=null===q?null:($e,ut,...He)=>{const Je=He.map(Ue=>{if(null==Ue)return null;if("string"==typeof Ue)return Ue;if("number"==typeof Ue||"boolean"==typeof Ue)return Ue.toString();if(Ue instanceof Error)return Ue.message;try{return JSON.stringify(Ue)}catch{return null}}).filter(Ue=>Ue).join(" ");ut>=(Oe??$e.logLevel)&&q({level:G[ut].toLowerCase(),message:Je,args:He,type:$e.name})}}}},1878:(Tt,Fe,k)=>{"use strict";k.d(Fe,{X3:()=>vt});var p=k(5861);const G=(K,je)=>je.some(Ke=>K instanceof Ke);let B,te;const Ae=new WeakMap,Re=new WeakMap,ye=new WeakMap,q=new WeakMap,X=new WeakMap;let $e={get(K,je,Ke){if(K instanceof IDBTransaction){if("done"===je)return Re.get(K);if("objectStoreNames"===je)return K.objectStoreNames||ye.get(K);if("store"===je)return Ke.objectStoreNames[1]?void 0:Ke.objectStore(Ke.objectStoreNames[0])}return Ue(K[je])},set:(K,je,Ke)=>(K[je]=Ke,!0),has:(K,je)=>K instanceof IDBTransaction&&("done"===je||"store"===je)||je in K};function Je(K){return"function"==typeof K?function He(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(K)?function(...je){return K.apply(Et(this),je),Ue(Ae.get(this))}:function(...je){return Ue(K.apply(Et(this),je))}:function(je,...Ke){const Pt=K.call(Et(this),je,...Ke);return ye.set(Pt,je.sort?je.sort():[je]),Ue(Pt)}}(K):(K instanceof IDBTransaction&&function Oe(K){if(Re.has(K))return;const je=new Promise((Ke,Pt)=>{const Gt=()=>{K.removeEventListener("complete",Rn),K.removeEventListener("error",Ct),K.removeEventListener("abort",Ct)},Rn=()=>{Ke(),Gt()},Ct=()=>{Pt(K.error||new DOMException("AbortError","AbortError")),Gt()};K.addEventListener("complete",Rn),K.addEventListener("error",Ct),K.addEventListener("abort",Ct)});Re.set(K,je)}(K),G(K,function me(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(K,$e):K)}function Ue(K){if(K instanceof IDBRequest)return function le(K){const je=new Promise((Ke,Pt)=>{const Gt=()=>{K.removeEventListener("success",Rn),K.removeEventListener("error",Ct)},Rn=()=>{Ke(Ue(K.result)),Gt()},Ct=()=>{Pt(K.error),Gt()};K.addEventListener("success",Rn),K.addEventListener("error",Ct)});return je.then(Ke=>{Ke instanceof IDBCursor&&Ae.set(Ke,K)}).catch(()=>{}),X.set(je,K),je}(K);if(q.has(K))return q.get(K);const je=Je(K);return je!==K&&(q.set(K,je),X.set(je,K)),je}const Et=K=>X.get(K);function vt(K,je,{blocked:Ke,upgrade:Pt,blocking:Gt,terminated:Rn}={}){const Ct=indexedDB.open(K,je),Vn=Ue(Ct);return Pt&&Ct.addEventListener("upgradeneeded",gt=>{Pt(Ue(Ct.result),gt.oldVersion,gt.newVersion,Ue(Ct.transaction),gt)}),Ke&&Ct.addEventListener("blocked",gt=>Ke(gt.oldVersion,gt.newVersion,gt)),Vn.then(gt=>{Rn&&gt.addEventListener("close",()=>Rn()),Gt&&gt.addEventListener("versionchange",on=>Gt(on.oldVersion,on.newVersion,on))}).catch(()=>{}),Vn}const ke=["get","getKey","getAll","getAllKeys","count"],we=["put","add","delete","clear"],Pe=new Map;function Be(K,je){if(!(K instanceof IDBDatabase)||je in K||"string"!=typeof je)return;if(Pe.get(je))return Pe.get(je);const Ke=je.replace(/FromIndex$/,""),Pt=je!==Ke,Gt=we.includes(Ke);if(!(Ke in(Pt?IDBIndex:IDBObjectStore).prototype)||!Gt&&!ke.includes(Ke))return;const Rn=function(){var Ct=(0,p.Z)(function*(Vn,...gt){const on=this.transaction(Vn,Gt?"readwrite":"readonly");let pe=on.store;return Pt&&(pe=pe.index(gt.shift())),(yield Promise.all([pe[Ke](...gt),Gt&&on.done]))[0]});return function(gt){return Ct.apply(this,arguments)}}();return Pe.set(je,Rn),Rn}!function ut(K){$e=K($e)}(K=>({...K,get:(je,Ke,Pt)=>Be(je,Ke)||K.get(je,Ke,Pt),has:(je,Ke)=>!!Be(je,Ke)||K.has(je,Ke)}))},5861:(Tt,Fe,k)=>{"use strict";function p(B,te,me,ge,Ae,Re,ye){try{var q=B[Re](ye),X=q.value}catch(le){return void me(le)}q.done?te(X):Promise.resolve(X).then(ge,Ae)}function G(B){return function(){var te=this,me=arguments;return new Promise(function(ge,Ae){var Re=B.apply(te,me);function ye(X){p(Re,ge,Ae,ye,q,"next",X)}function q(X){p(Re,ge,Ae,ye,q,"throw",X)}ye(void 0)})}}k.d(Fe,{Z:()=>G})},7582:(Tt,Fe,k)=>{"use strict";function te(pe,Ce){var ve={};for(var ce in pe)Object.prototype.hasOwnProperty.call(pe,ce)&&Ce.indexOf(ce)<0&&(ve[ce]=pe[ce]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var Ee=0;for(ce=Object.getOwnPropertySymbols(pe);Ee<ce.length;Ee++)Ce.indexOf(ce[Ee])<0&&Object.prototype.propertyIsEnumerable.call(pe,ce[Ee])&&(ve[ce[Ee]]=pe[ce[Ee]])}return ve}function le(pe,Ce,ve,ce){return new(ve||(ve=Promise))(function(qe,tt){function nt(sn){try{Ft(ce.next(sn))}catch(It){tt(It)}}function Tn(sn){try{Ft(ce.throw(sn))}catch(It){tt(It)}}function Ft(sn){sn.done?qe(sn.value):function Ee(qe){return qe instanceof ve?qe:new ve(function(tt){tt(qe)})}(sn.value).then(nt,Tn)}Ft((ce=ce.apply(pe,Ce||[])).next())})}function fe(pe){return this instanceof fe?(this.v=pe,this):new fe(pe)}function ke(pe,Ce,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,ce=ve.apply(pe,Ce||[]),qe=[];return Ee={},tt("next"),tt("throw"),tt("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee;function tt(xn){ce[xn]&&(Ee[xn]=function(qn){return new Promise(function(zn,En){qe.push([xn,qn,zn,En])>1||nt(xn,qn)})})}function nt(xn,qn){try{!function Tn(xn){xn.value instanceof fe?Promise.resolve(xn.value.v).then(Ft,sn):It(qe[0][2],xn)}(ce[xn](qn))}catch(zn){It(qe[0][3],zn)}}function Ft(xn){nt("next",xn)}function sn(xn){nt("throw",xn)}function It(xn,qn){xn(qn),qe.shift(),qe.length&&nt(qe[0][0],qe[0][1])}}function Pe(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,Ce=pe[Symbol.asyncIterator];return Ce?Ce.call(pe):(pe=function He(pe){var Ce="function"==typeof Symbol&&Symbol.iterator,ve=Ce&&pe[Ce],ce=0;if(ve)return ve.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&ce>=pe.length&&(pe=void 0),{value:pe&&pe[ce++],done:!pe}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),ve={},ce("next"),ce("throw"),ce("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function ce(qe){ve[qe]=pe[qe]&&function(tt){return new Promise(function(nt,Tn){!function Ee(qe,tt,nt,Tn){Promise.resolve(Tn).then(function(Ft){qe({value:Ft,done:nt})},tt)}(nt,Tn,(tt=pe[qe](tt)).done,tt.value)})}}}k.d(Fe,{FC:()=>ke,KL:()=>Pe,_T:()=>te,mG:()=>le,qq:()=>fe}),"function"==typeof SuppressedError&&SuppressedError}},Tt=>{Tt(Tt.s=9558)}]);